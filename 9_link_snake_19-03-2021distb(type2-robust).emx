<?xml version="1.0" encoding="UTF-8"?>
<Document>
 <Model version="4.7" build="4.7.2.9375">
  <Sidops><![CDATA[model 128 184
 description '<Information>
 <Description>
    <Version>4.7</Version>
<IsMainModel>0</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>C:\Users\GARIMA\Documents\Scripting\Octave\tutorials\9_link_snake_19-03-2021distb(type2-robust).emx</LibraryPath>
  <TimeStamp>2022-6-14 19:53:55</TimeStamp>
</Description>
</Information>';
 type 'Mainmodel-04_2019'
 end;
 implementation bg
  submodels
   I 440 56
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\I.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:55:55</TimeStamp>
</Description>
</Information>';
    type I
     ports
      power in p;
      signal out state;
     restrictions
      causality preferred in p;
    end;
    icon bg bottom
     figures
      text 'I' 440 56 color 0 18 bold;
    end;
    implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / (0.0001*m);
implementation_end;
   I1 1272 56
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\I.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:55:55</TimeStamp>
</Description>
</Information>';
    type I
     ports
      power in p;
      signal out state;
     restrictions
      causality preferred in p;
    end;
    icon bg bottom
     figures
      text 'I' 1272 56 color 0 18 bold;
    end;
    implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / (0.0001*m);
implementation_end;
   Mx21 528 176
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 528 176 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   Mx32 536 240
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 536 240 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   Mx43 568 344
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 568 344 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   My13 1120 288
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 1120 288 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   My21 1040 176
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 1040 176 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   My32 1016 288
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 1016 288 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   My43 992 384
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 992 384 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   OneJunction17 520 136
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 520 136 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   OneJunction4 608 304
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 608 304 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   p14 584 392
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 584 392 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   p15 536 416
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 536 416 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   p16 512 560
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 512 560 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   p17 616 656
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 616 656 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   p18 400 792
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 400 792 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   p19 568 856
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 568 856 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   p4 88 384
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:45:16</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 88 384 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   p5 88 456
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:45:16</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 88 456 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   p54 720 440
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 720 440 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   p6 88 544
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:45:16</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 88 544 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   p65 512 496
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 512 496 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   p76 648 560
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 648 560 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   p87 376 720
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 376 720 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   p98 616 792
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 616 792 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   px 224 64
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg bottom
     figures
      text '1' 224 64 color 0 18 bold;
    end;
    implementation eq
variables
	real global dpx;
	real global px,dpy,vt;
	real global q11,q22,q33,q44,q55,q66,q77,q88,q99;
	real global q,py;
	real global e1,e2,e3,e4,e5,e6,e7,e8,u1,u2,u3,u4,u5,u6,u7,u8,J,Qt[9,1],J1,Error[8,1],U[8,1],distb1, distb2, distb3, distb4, distb5, distb6, distb7, distb8,y1,y2,y3,y4,y5,y6,y7,y8,y9,Y,distb;
	
parameters
	real initial = 0;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dpx=flow;
	px= int(dpx,initial);
 q=(q11+q22+q33+q44+q55+q66+q77+q88+q99)/9;
vt=dpx*cos(q)+dpy*sin(q);
Qt=[q11   ; q22   ; q33   ; q44   ; q55   ; q66   ; q77   ; q88   ; q99];
Error=[e1  ; e2  ; e3  ; e4  ; e5  ; e6  ; e7  ; e8];
U= [ u1  ;  u2  ;  u3  ;  u4  ;  u5  ;  u6  ;  u7  ;  u8 ];
Y=(y1+y2+y3+y4+y5+y6+y7+y8+y9)/9;
distb=int((-0.5-py) .^2);
J=(100*(int(e1 .^ 2 + e2 .^ 2 + e3 .^ 2 + e4 .^ 2 + e5 .^ 2 + e6 .^ 2 + e7 .^ 2 + e8 .^ 2 + u1 .^ 2 + u2 .^ 2 + u3 .^ 2 + u4 .^ 2 + u5 .^ 2 + u6 .^ 2 + u7 .^ 2 + u8 .^ 2 )))+(abs(q11)+abs(q22)+abs(q33)+abs(q44)+abs(q55)+abs(q66)+abs(q77)+abs(q88)+abs(q99));implementation_end;
   py 1096 48
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg bottom
     figures
      text '1' 1096 48 color 0 18 bold;
    end;
    implementation eq
variables
	real global dpy;
	real global py;
	
parameters
	real initial = -0.5;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dpy=flow;
	py= int(dpy,initial);implementation_end;
   py12 1000 120
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 1000 120 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   py14 1008 456
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 1008 456 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   py15 1016 600
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 1016 600 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   py16 968 704
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 968 704 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   py17 1072 728
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 1072 728 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   py18 1056 864
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 1056 864 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   py19 912 920
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 912 920 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   py4 1560 496
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:45:16</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 1560 496 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   py5 1592 552
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:45:16</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 1592 552 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   py54 1032 552
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 1032 552 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   py6 1656 624
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:45:16</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 1656 624 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   py65 992 648
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 992 648 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   py76 840 616
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 840 616 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   py87 976 800
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 976 800 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   py98 872 816
    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
    knot OneJunction
     ports
      power knot duplicatable none p [1];
      signal knot out flow [1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 872 816 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   Se 64 56
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Se.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:36:49</TimeStamp>
</Description>
</Information>';
    type Se
     ports
      power out p;
     restrictions
      causality fixed out p;
    end;
    icon bg bottom
     figures
      text 'Se' 64 56 color 0 18 bold;
    end;
    implementation eq
	
parameters
		real global e[1,9]=[1,1,1,1,1,1,1,1,1];
		real global ct,cn;
		
variables
	real flow;
	real global S[9,9];
	real global C[9,9];
	real global Q[9,1];
	real global dx1,dx2,dx3,dx4,dx5,dx6,dx7,dx8,dx9,dy1,dy2,dy3,dy4,dy5,dy6,dy7,dy8,dy9;
	real global dX[9,1];
	real global dY[9,1];
	real global Fp;
	real global Fx;
	real global Fy;
	real global q1,q2,q3,q4,q5,q6,q7,q8,q9;
	real global q11,q22,q33,q44,q55,q66,q77,q88,q99;
	real global u[1,9];
	integer i;
	
equations
	dX=[dx1;dx2;dx3;dx4;dx5;dx6;dx7;dx8;dx9];
	dY=[dy1;dy2;dy3;dy4;dy5;dy6;dy7;dy8;dy9];
	//Q=[q1;q2;q3;q4;q5;q6;q7;q8;q9];
	Q=[q11;q22;q33;q44;q55;q66;q77;q88;q99];
	Fx=-e*(((ct*C*C)+(cn*S*S))*dX);
	//Fy=-e*((ct-cn)*S*C*dY);
	
	
for i = 1 to 9 by 1 do
			if sign (Q[i,1])==sign(dY[i,1]) then
				u[1,i]=[1];
				else
					u[1,i]=[0];
				end;
end;
Fy=-u*((ct-cn)*S*C*dY);
Fp=Fx+Fy;
flow = p.f;
switch Fp
case Fp<0 do
	p.e =0;
	default do
		p.e=Fp;
		end;					implementation_end;
   Submodel1 760 264
    description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
    type Submodel
     ports
      power out p2;
      power out p21;
      power out p22;
      power out p23;
      power out p24;
      power out p25;
      power out p26;
      power out p27;
      power out p28;
      power out p29;
      power out p210;
      power out p211;
      power out p212;
      power out p213;
      power out p214;
      power out p215;
      power out pse4;
    end;
    implementation bg
     submodels
      control1 624 56
       description '<Information><Description><Version>4.7</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type Submodel
        ports
         power in phi1;
       end;
       implementation bg
        submodels
         C 184 64
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 184 64 color 0 18 bold;
          end;
          implementation eq
parameters
	real c = 0;
equations
	state = int(p.f);
	p.e = state * c;
implementation_end;
         Delay 632 256
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Delay-Time.emx</LibraryPath>
  <TimeStamp>2007-12-6 15:29:52</TimeStamp>
</Description>';
          type 'Delay-Time'
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 616 240 648 272 color 0 fill 15132390;
            line 620.5 246.4 620.5 265.6 color 0;
            line 646.1 256 617.3 256 color 0;
            spline 620.8 249.8 625.8 249.3 628.8 254.4 631.7 260.3 635.9 262.6 color 16711680;
            spline 631.5 249.3 636.3 249.3 638.9 253.3 641.6 258.7 646.4 262.1 color 16711680;
            group
             line 636.8 251.9 636.8 253.3 color 16711680;
             group
              line 636.8 253.3 636.8 251.9 color 16711680;
              line 629.5 252.7 636.8 252.7 color 16711680;
             end;
            end;
          end;
          implementation eq
parameters
	real delay = 0.1 {s};	// time delay (s)
	real initial = 0;		// initial value
variables
	real delayOutput;
equations
	delayOutput =  tdelay (input,delay);
	if (time <= delay) then
		output = initial;
	else
		output = delayOutput;
	end;
       implementation_end;
         Gain1 480 328
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 464.1 312 495.9 344 color 0 fill 15132390;
            text 'K' 480 328 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 0.2;		// gain
equations
	output = K * input;
    implementation_end;
         Gain2 664 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 648.1 168 679.9 200 color 0 fill 15132390;
            text 'K' 664 184 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 10;		// gain
equations
	output = K * input;
    implementation_end;
         Integrate 256 256
          description '<Information>
 <Description>
    <Version>4.3</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
  <TimeStamp>2013-3-8 14:47:42</TimeStamp>
</Description>
</Information>';
          type Integrate
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 240 240 272 272 color 0 fill 15132390;
            text '∫' 256 256.3 color 16711680 'Lucida Sans' 21 italic;
          end;
          implementation eq
parameters
	real initial = 0;		// initial value
equations
	output = int (input, initial);
     implementation_end;
         MSe 176 136
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:12:33</TimeStamp>
</Description>
</Information>';
          type MSe
           ports
            power out p;
            signal in effort;
           restrictions
            causality fixed out p;
          end;
          icon bg bottom
           figures
            text 'MSe' 176 136 color 0 18 bold;
          end;
          implementation eq
variables
	real flow;
equations
	p.e = effort;
	flow = p.f;
implementation_end;
         MSf 704 184
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSf.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:14:18</TimeStamp>
</Description>
</Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 704 184 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         MSf1 480 408
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSf.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:14:18</TimeStamp>
</Description>
</Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 480 408 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         plug phi1 344 136;
         OneJunction 256 136
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 256 136 color 0 18 bold;
          end;
          implementation eq
variables
	real global dphi1;
	real global phi1;
	
parameters
	real initial = 0;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dphi1=flow;
	phi1= int(dphi1,initial);implementation_end;
         OneJunction1 344 304
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 344 304 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         OneJunction2 784 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 784 184 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global x2j1;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x2j1=flow;
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         OneJunction3 600 408
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 600 408 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global x1j1;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x1j1=flow;
	
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         PlusMinus 344 256
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 336 248 352 264 color 0 fill 16777215;
          end;
          implementation eq
variables
real global e1,ISE1;
equations
    output = sum (collect (plus)) - sum (collect (minus));
    e1=output;
ISE1= int(e1 .^ 2);implementation_end;
         PlusMinus1 632 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 624 176 640 192 color 0 fill 16777215;
          end;
          implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
         Pulse 96 136
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Sources\SignalGenerator-Pulse.emx</LibraryPath>
  <TimeStamp>2007-9-27 16:1:38</TimeStamp>
</Description>';
          type 'SignalGenerator-Pulse'
           ports
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 80.1 120 111.9 152 color 0 fill 15132390;
            line 91.7 134.4 97.4 134.4 color 16711680 width 2;
            line 83 146.2 109 146.2 color 0;
            line 86 146.1 91.6 146.1 91.6 134.5 color 16711680 width 2;
            line 86 128.6 86 149 color 0;
            line 106.2 146.2 97.4 146.1 97.4 134.5 color 16711680 width 2;
          end;
          implementation eq
parameters
	real global start_time = 20.0 {s};
	real global stop_time = 25.0 {s};
	real global amplitude = 0.0 {};
	
variables
	boolean hidden change;
	real global distb1;
equations
	"calculate at least at the start and stop time"
	change = timeevent (start_time) or timeevent (stop_time);

	"calculate the block signal"
	output = amplitude * (step (start_time) - step (stop_time));
	distb1=output;
implementation_end;
         R 336 64
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 336 64 color 0 18 bold;
          end;
          implementation eq
parameters
	real r = 0;
equations
	p.e = r * p.f;
implementation_end;
         Se1 256 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Se.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:36:49</TimeStamp>
</Description>
</Information>';
          type Se
           ports
            power out p;
           restrictions
            causality fixed out p;
          end;
          icon bg top
           figures
            text 'Se' 256 48 color 0 18 bold;
          end;
          implementation eq
parameters
real a1= 10.858211289007; 
real a2= 10.094269799511; 
real b1= 1.304438783101; 
real b2= 0.74934586892247;
real L1= 1719.6197923677; 
real L2= 17064.760245147;
real global S1;


variables
	real flow;
	real global x1j1,x2j1;
	real P1,P2,t1,t2;
	real gamma1L, gamma1u1, gamma2L, gamma2u1, gamma1, gamma2;
	real global u1,q1,q2,q3;
equations
	P1=L1/2; 
	P2=L2/2;
	t1=P1/(2*L1); 
	t2=P2/(2*L2);
	

	//if ((q1>=-0.785 and q1<=0.785) and (q2>=-0.785 and q2<=0.785) and (q3>=-0.785 and q3<=0.785)) then
	
if ((x1j1>=(L1-P1)) and (x1j1<=(L1+P1)) and (x2j1>=(-L2-P2)) and (x2j1<=(-L2+P2))) then // region 1 and 8
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u1=(-L2*a1*x1j1+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             gamma2u1=(-L2*b1*x1j1+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
         
         else if ((x1j1>=(-L1-P1)) and (x1j1<=(-L1+P1)) and (x2j1>=(-L2-P2)) and (x2j1<=(-L2+P2)))  then // region 2 and 3
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u1=(L2*a2*x1j1+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             gamma2u1=(L2*b2*x1j1+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
             
         else if ((x1j1>=(-L1-P1)) and (x1j1<=(-L1+P1)) and (x2j1>=(L2-P2)) and (x2j1<=(L2+P2))) then // region 4 and 5
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u1=(L2*a1*x1j1+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             gamma2u1=(L2*b1*x1j1+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             
            u1=gamma1*x1j1+gamma2*x2j1;
             
         else if ((x1j1>=(L1-P1)) and (x1j1<=(L1+P1)) and (x2j1>=(L2-P2)) and (x2j1<=(L2+P2))) then // region 6 and 7
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u1=(-L2*a2*x1j1+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             gamma2u1=(-L2*b2*x1j1+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
             
         else if ((x1j1>=0) and (x1j1<=(L1-P1)) and (x2j1>=(-L2-P2)) and (x2j1<=(-L2+P2)) and x2j1>=((-L2/L1)*x1j1)-((L2/L1)*P1+P2)) then // region 9
             gamma1L=(L2*(-a1+a2)*x1j1+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j1+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u1=(-L2*a1*x1j1+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             gamma2u1=(-L2*b1*x1j1+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;

         else if ((x1j1>=(-L1+P1)) and (x1j1<=0) and (x2j1>=(-L2-P2)) and (x2j1<=(-L2+P2)) and x2j1>=((L2/L1)*x1j1)-((L2/L1)*P1+P2)) then // region 10
             gamma1L=(L2*(-a1+a2)*x1j1+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j1+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u1=(L2*a2*x1j1+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             gamma2u1=(L2*b2*x1j1+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
             
         else if ((x1j1>=(-L1+P1)) and (x1j1<=(L1-P1)) and (x2j1>=(-L2-P2)) and (x2j1<=(-L2+P2)) and x2j1<=((-L2/L1)*x1j1)-((L2/L1)*P1+P2) and x2j1<=((L2/L1)*x1j1)-((L2/L1)*P1+P2)) then // region 17
             gamma1L=(L2*(-a1+a2)*x1j1+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j1+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u1=(L2*(-a1+a2)*x1j1+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j1));
             gamma2u1=(L2*(-b1+b2)*x1j1+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j1));
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
             
         else if ((x1j1>=(-L1+P1)) and (x1j1<=0) and (x2j1>=(L2-P2)) and (x2j1<=(L2+P2)) and x2j1<=((-L2/L1)*x1j1)+((L2/L1)*P1+P2)) then  // region 13
             gamma1L=(L2*(a1-a2)*x1j1+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j1+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u1=(L2*a1*x1j1+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             gamma2u1=(L2*b1*x1j1+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             
            gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
             
         else if ((x1j1>=0) and (x1j1<=(L1-P1)) and (x2j1>=(L2-P2)) and (x2j1<=(L2+P2)) and x2j1<=((L2/L1)*x1j1)+((L2/L1)*P1+P2)) then // region 14
             gamma1L=(L2*(a1-a2)*x1j1+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j1+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u1=(-L2*a2*x1j1+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             gamma2u1=(-L2*b2*x1j1+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
             
         else if ((x1j1>=(-L1+P1)) and (x1j1<=(L1-P1)) and (x2j1>=(L2-P2)) and (x2j1<=(L2+P2)) and x2j1>=(((-L2/L1)*x1j1)+((L2/L1)*P1+P2)) and x2j1>=(((L2/L1)*x1j1)+((L2/L1)*P1+P2))) then // region 19
             gamma1L=(L2*(a1-a2)*x1j1+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j1+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u1=(L2*(a1-a2)*x1j1+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j1));
             gamma2u1=(L2*(b1-b2)*x1j1+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j1));
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
             
         else if ((x1j1>=(-L1-P1)) and (x1j1<=(-L1+P1)) and (x2j1>=(-L2+P2)) and (x2j1<=0) and x2j1<=((L2/L1)*x1j1)+((L2/L1)*P1+P2)) then // region 11
             gamma1L=(L1*(-a1+a2)*x2j1+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j1+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u1=(L2*a2*x1j1+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             gamma2u1=(L2*b2*x1j1+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
             
        else if ((x1j1>=(-L1-P1)) and (x1j1<=(-L1+P1)) and (x2j1>=0) and (x2j1<=(L2-P2)) and x2j1>=((-L2/L1)*x1j1)-((L2/L1)*P1+P2)) then // region 12
             gamma1L=(L1*(-a1+a2)*x2j1+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j1+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u1=(L2*a1*x1j1+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             gamma2u1=(L2*b1*x1j1+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
             
       else if ((x1j1>=(-L1-P1)) and (x1j1<=(-L1+P1)) and (x2j1>=(-L2+P2)) and (x2j1<=(L2-P2)) and x2j1<=((-L2/L1)*x1j1)-((L2/L1)*P1+P2) and x2j1>=((L2/L1)*x1j1)+((L2/L1)*P1+P2)) then // region 18
             gamma1L=(L1*(-a1+a2)*x2j1+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j1+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u1=(L2*(a1+a2)*x1j1+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j1));
             gamma2u1=(L2*(b1+b2)*x1j1+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j1));
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
             
         else if ((x1j1>=(L1-P1)) and (x1j1<=(L1+P1)) and (x2j1>=(-L2+P2)) and  (x2j1<=(L2-P2)) and x2j1>=((L2/L1)*x1j1)-((L2/L1)*P1+P2)) then // region 15 
             gamma1L=(L1*(a1-a2)*x2j1+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j1+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u1=(-L2*a2*x1j1+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             gamma2u1=(-L2*b2*x1j1+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             
           gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
              
         else if ((x1j1>=(L1-P1)) and (x1j1<=(L1+P1)) and (x2j1>=(-L2+P2)) and (x2j1<=(L2-P2)) and x2j1<=(-(L2/L1)*x1j1)+((L2/L1)*P1+P2)) then // region 16
             gamma1L=(L1*(a1-a2)*x2j1+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j1+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u1=(-L2*a1*x1j1+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             gamma2u1=(-L2*b1*x1j1+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
              
         else if ((x1j1>=(L1-P1)) and (x1j1<=(L1+P1)) and (x2j1>=(-L2+P2)) and (x2j1<=(L2-P2)) and x2j1>=(-(L2/L1)*x1j1)+((L2/L1)*P1+P2) and x2j1<=((L2/L1)*x1j1)-((L2/L1)*P1+P2)) then // region 20
             gamma1L=(L1*(a1-a2)*x2j1+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j1+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u1=(L2*(-a1-a2)*x1j1+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j1));
             gamma2u1=(L2*(-b1-b2)*x1j1+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j1));
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
              
	else if (x2j1>=((-L2/L1)*x1j1)-((L2/L1)*P1+P2) and x2j1<=((L2/L1)*x1j1)-((L2/L1)*P1+P2) and x2j1<=(-(L2+P2/L1+P1)*x1j1) and x2j1>=(-L2+P2)) then //%region 21
             gamma1L=(L2*(-a1+a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j1)/(2*(L1*x2j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j1)/(2*(L1*x2j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(-L2*a1*x1j1+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             gamma2u1=(-L2*b1*x1j1+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
             
         else if (x2j1<=((-L2/L1)*x1j1)-((L2/L1)*P1+P2) and x2j1>=((L2/L1)*x1j1)-((L2/L1)*P1+P2) and x2j1<=((L2+P2/L1+P1)*x1j1) and x2j1>=(-L2+P2)) then //%region 22
             gamma1L=(L2*(-a1+a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j1)/(2*(L1*x2j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j1)/(2*(L1*x2j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(L2*a2*x1j1+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             gamma2u1=(L2*b2*x1j1+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
                          
            u1=gamma1*x1j1+gamma2*x2j1;
                  
         else if (x2j1<=((-L2/L1)*x1j1)-((L2/L1)*P1+P2) and x2j1<=((L2/L1)*x1j1)-((L2/L1)*P1+P2) and x2j1>=(-L2+P2)) then //%region 29
             gamma1L=(L2*(-a1+a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j1)/(2*(L1*x2j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j1)/(2*(L1*x2j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(L2*(-a1+a2)*x1j1+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j1));
             gamma2u1=(L2*(-b1+b2)*x1j1+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j1));
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
             
        else if (x2j1<=((-L2/L1)*x1j1)-((L2/L1)*P1+P2) and x2j1<=((L2/L1)*x1j1)+((L2/L1)*P1+P2) and x2j1>=((L2+P2/L1+P1)*x1j1) and x1j1>=(-L1+P1) and x2j1>=(-L2+P2)) then //%region 23
             gamma1L=(L2*(a1+a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j1)/(2*(L2*x1j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j1)/(2*(L2*x1j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(L2*a2*x1j1+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             gamma2u1=(L2*b1*x1j1+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
            
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
      
         else if (x2j1>=((-L2/L1)*x1j1)-((L2/L1)*P1+P2) and x2j1>=((L2/L1)*x1j1)+((L2/L1)*P1+P2) and x2j1<=(-(L2+P2/L1+P1)*x1j1) and x1j1>=(-L1+P1) and x2j1<=(L2-P2)) then //%region 24
             gamma1L=(L2*(a1+a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j1)/(2*(L2*x1j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j1)/(2*(L2*x1j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(L2*a1*x1j1+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             gamma2u1=(L2*b1*x1j1+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
            u1=gamma1*x1j1+gamma2*x2j1;
           
         else if (x2j1>=((L2/L1)*x1j1)+((L2/L1)*P1+P2) and x2j1<=((-L2/L1)*x1j1)-((L2/L1)*P1+P2) and x1j1>=(-L1+P1)) then //%region 30
             gamma1L=(L2*(a1+a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j1)/(2*(L2*x1j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j1)/(2*(L2*x1j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(L2*(a1+a2)*x1j1+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j1));
             gamma2u1=(L2*(b1+b2)*x1j1+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j1));
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
                
        else if (x2j1>=((L2/L1)*x1j1)+((L2/L1)*P1+P2) and x2j1<=(-(L2/L1)*x1j1)+((L2/L1)*P1+P2) and x2j1>=(-(L2+P2/L1+P1)*x1j1) and x2j1<=(L2-P2) and x1j1>=(-L1+P1)) then //%region 25
             gamma1L=(L2*(a1-a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j1)/(2*(-L1*x2j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j1)/(2*(-L1*x2j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(L2*a1*x1j1+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             gamma2u1=(L2*b1*x1j1+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j1)/(L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
             
         else if (x2j1<=((L2/L1)*x1j1)+((L2/L1)*P1+P2) and x2j1>=(-(L2/L1)*x1j1)+((L2/L1)*P1+P2) and x2j1>=((L2+P2/L1+P1)*x1j1) and x2j1<=(L2-P2)) then //%region 26
             gamma1L=(L2*(a1-a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j1)/(2*(-L1*x2j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j1)/(2*(-L1*x2j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(-L2*a2*x1j1+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             gamma2u1=(-L2*b2*x1j1+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
                  
         else if (x2j1>=((-L2/L1)*x1j1)+((L2/L1)*P1+P2) and x2j1>=((L2/L1)*x1j1)+((L2/L1)*P1+P2) and x2j1<=(L2-P2)) then //%region 31
             gamma1L=(L2*(a1-a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j1)/(2*(-L1*x2j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j1)/(2*(-L1*x2j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(L2*(a1-a2)*x1j1+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j1));
             gamma2u1=(L2*(b1-b2)*x1j1+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j1));
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
           
            
         
        else if (x2j1>=((L2/L1)*x1j1)-((L2/L1)*P1+P2) and x2j1>=((-L2/L1)*x1j1)+((L2/L1)*P1+P2) and x2j1<=((L2+P2/L1+P1)*x1j1) and x1j1<=(L1-P1) and x2j1<=(L2-P2)) then //%region 27
             gamma1L=(L2*(-a1-a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j1)/(2*(-L2*x1j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j1)/(2*(-L2*x1j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(-L2*a2*x1j1+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             gamma2u1=(-L2*b2*x1j1+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)-L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
     
         else if (x2j1<=((L2/L1)*x1j1)+((L2/L1)*P1+P2) and x2j1<=((L2/L1)*x1j1)-((L2/L1)*P1+P2) and x2j1>=(-(L2+P2/L1+P1)*x1j1) and x1j1<=(L1-P1) and x2j1>=(-L2+P2)) then //%region 28
             gamma1L=(L2*(-a1-a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j1)/(2*(-L2*x1j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j1)/(2*(-L2*x1j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(-L2*a1*x1j1+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             gamma2u1=(-L2*b1*x1j1+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j1)/(-L2*x1j1+2*L1*L2*(2+t1+t2)+L1*x2j1);
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
           
         else if (x2j1<=((L2/L1)*x1j1)-((L2/L1)*P1+P2) and x2j1>=((-L2/L1)*x1j1)+((L2/L1)*P1+P2) and x1j1<=(L1-P1)) then //%region 32
             gamma1L=(L2*(-a1-a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j1)/(2*(-L2*x1j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j1)/(2*(-L2*x1j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(L2*(-a1-a2)*x1j1+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j1));
             gamma2u1=(L2*(-b1-b2)*x1j1+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j1)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j1));
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;  
             
             u1=gamma1*x1j1+gamma2*x2j1;
          
        else if (x2j1<=((L2+P2)/(L1+P1)*x1j1) and x2j1<=(-(L2+P2)/(L1+P1)*x1j1) and x2j1>=((-L2/L1)*x1j1)-((L2/L1)*P1+P2) and x2j1>=((L2/L1)*x1j1)-((L2/L1)*P1+P2)) then // %region 33
             gamma1L=(L2*(-a1+a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j1)/(2*(L1*x2j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j1)/(2*(L1*x2j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(a1+a2)/2;
             gamma2u1=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;   
             
             u1=gamma1*x1j1+gamma2*x2j1;
         
         else if (x2j1>=((L2+P2)/(L1+P1)*x1j1) and x2j1<=(-(L2+P2)/(L1+P1)*x1j1) and x2j1>=((-L2/L1)*x1j1)-((L2/L1)*P1+P2) and x2j1<=((L2/L1)*x1j1)+((L2/L1)*P1+P2)) then //%region 34
             gamma1L=(L2*(a1+a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j1)/(2*(L2*x1j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j1)/(2*(L2*x1j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(a1+a2)/2;
             gamma2u1=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
             
         else if (x2j1>=((L2+P2)/(L1+P1)*x1j1) and x2j1>=(-(L2+P2)/(L1+P1)*x1j1) and x2j1<=((-L2/L1)*x1j1)+((L2/L1)*P1+P2) and x2j1<=((L2/L1)*x1j1)+((L2/L1)*P1+P2)) then  //%region 35
             gamma1L=(L2*(a1-a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j1)/(2*(-L1*x2j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j1)/(2*(-L1*x2j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(a1+a2)/2;
             gamma2u1=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
         
         else if (x2j1<=((L2+P2)/(L1+P1)*x1j1) and x2j1>=(-(L2+P2)/(L1+P1)*x1j1) and x2j1<=((-L2/L1)*x1j1)+((L2/L1)*P1+P2) and x2j1>=((L2/L1)*x1j1)-((L2/L1)*P1+P2)) then //region 36
             gamma1L=(L2*(-a1-a2)*x1j1+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j1)/(2*(-L2*x1j1+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j1+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j1)/(2*(-L2*x1j1+2*L1*L2*(1-t1-t2)));
             
             gamma1u1=(a1+a2)/2;
             gamma2u1=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u1)/2;
             gamma2=(gamma2L+gamma2u1)/2;
             
             u1=gamma1*x1j1+gamma2*x2j1;
              
         else
            gamma1 = 0;
            gamma2 = 0;
            u1=gamma1*x1j1+gamma2*x2j1;
         end;  
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;	
//else
//	 u1=0;
//end;
  

	p.e = S1*u1;
	flow = p.f;
implementation_end;
         Sf 344 352
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Sf.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:38:03</TimeStamp>
</Description>
</Information>';
          type Sf
           ports
            power out p;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'Sf' 344 352 color 0 18 bold;
          end;
          implementation eq
parameters
	real global a1,a2,w1,w2,d,phi01,Kp,Kd;
	real initial = 0;
variables
	real effort;
	real global phir1;
	real global dphir1;
	real global dphi1,phi1;
	real global q1,q2;
equations
	phir1=a1*sin(w1*time)+a2*sin(w2*time);
	dphir1=ddt(phir1,initial);
	p.f = phir1;
	effort = p.e;
implementation_end;
         Splitter1 480 256
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [1];
            signal knot in input [1];
          end;
          icon bg ellipse
           figures
            ellipse 476.8 252.8 483.2 259.2 color -1 fill 0;
            ellipse 475.7 251.7 484.3 260.3 color -1;
           terminals
            input 480 256 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
        end;
        connections
         C\p <= OneJunction\p;
         Delay\input <- Splitter1\output;
         Delay\output -> PlusMinus1\minus;
         Gain1\output -> MSf1\flow;
         Gain2\output -> MSf\flow;
         Integrate\output -> PlusMinus\minus;
         MSe\p => OneJunction\p;
         MSf\p => OneJunction2\p;
         MSf1\p => OneJunction3\p;
         OneJunction\flow -> Integrate\input;
         OneJunction1\flow -> PlusMinus\plus;
         phi1 => OneJunction\p;
         PlusMinus1\output -> Gain2\input;
         Pulse\output -> MSe\effort;
         R\p <= OneJunction\p;
         Se1\p => OneJunction\p;
         Sf\p => OneJunction1\p;
         Splitter1\input <- PlusMinus\output;
         Splitter1\output -> Gain1\input;
         Splitter1\output -> PlusMinus1\plus 480 184;
        end;
       implementation_end;
      control2 360 192
       description '<Information><Description><Version>4.7</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type Submodel
        ports
         power in phi2;
       end;
       implementation bg
        submodels
         C 184 120
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 184 120 color 0 18 bold;
          end;
          implementation eq
parameters
	real c = 0;
equations
	state = int(p.f);
	p.e = state * c;
implementation_end;
         Delay 632 256
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Delay-Time.emx</LibraryPath>
  <TimeStamp>2007-12-6 15:29:52</TimeStamp>
</Description>';
          type 'Delay-Time'
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 616 240 648 272 color 0 fill 15132390;
            line 620.5 246.4 620.5 265.6 color 0;
            line 646.1 256 617.3 256 color 0;
            spline 620.8 249.8 625.8 249.3 628.8 254.4 631.7 260.3 635.9 262.6 color 16711680;
            spline 631.5 249.3 636.3 249.3 638.9 253.3 641.6 258.7 646.4 262.1 color 16711680;
            group
             line 636.8 251.9 636.8 253.3 color 16711680;
             group
              line 636.8 253.3 636.8 251.9 color 16711680;
              line 629.5 252.7 636.8 252.7 color 16711680;
             end;
            end;
          end;
          implementation eq
parameters
	real delay = 0.1 {s};	// time delay (s)
	real initial = 0;		// initial value
variables
	real delayOutput;
equations
	delayOutput =  tdelay (input,delay);
	if (time <= delay) then
		output = initial;
	else
		output = delayOutput;
	end;
       implementation_end;
         Gain1 480 288
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 464.1 272 495.9 304 color 0 fill 15132390;
            text 'K' 480 288 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 0.2;		// gain
equations
	output = K * input;
    implementation_end;
         Gain2 664 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 648.1 168 679.9 200 color 0 fill 15132390;
            text 'K' 664 184 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 10;		// gain
equations
	output = K * input;
    implementation_end;
         Integrate 256 256
          description '<Information>
 <Description>
    <Version>4.3</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
  <TimeStamp>2013-3-8 14:47:42</TimeStamp>
</Description>
</Information>';
          type Integrate
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 240 240 272 272 color 0 fill 15132390;
            text '∫' 256 256.3 color 16711680 'Lucida Sans' 21 italic;
          end;
          implementation eq
parameters
	real initial = 0.35;		// initial value
equations
	output = int (input, initial);
     implementation_end;
         MSe1 184 176
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:12:33</TimeStamp>
</Description>
</Information>';
          type MSe
           ports
            power out p;
            signal in effort;
           restrictions
            causality fixed out p;
          end;
          icon bg bottom
           figures
            text 'MSe' 184 176 color 0 18 bold;
          end;
          implementation eq
variables
	real flow;
equations
	p.e = effort;
	flow = p.f;
implementation_end;
         MSf2 704 184
          description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MSf.emx</LibraryPath><TimeStamp>2011-11-29 16:14:18</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 704 184 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         MSf3 480 408
          description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MSf.emx</LibraryPath><TimeStamp>2011-11-29 16:14:18</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 480 408 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         plug phi2 352 176;
         OneJunction 256 176
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 256 176 color 0 18 bold;
          end;
          implementation eq
variables
	real global dphi2;
	real global phi2;
	
parameters
	real initial = 0.35;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dphi2=flow;
	phi2= int(dphi2,initial);implementation_end;
         OneJunction1 344 304
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 344 304 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         OneJunction2 784 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 784 184 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global  x2j2;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x2j2=flow;
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         OneJunction3 600 408
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 600 408 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global x1j2;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x1j2=flow;
	
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         PlusMinus 344 256
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 336 248 352 264 color 0 fill 16777215;
          end;
          implementation eq
variables
real global e2,ISE2;
equations
    output = sum (collect (plus)) - sum (collect (minus));
    e2=output;
ISE2= int(e2 .^ 2);implementation_end;
         PlusMinus1 632 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 624 176 640 192 color 0 fill 16777215;
          end;
          implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
         Pulse1 104 176
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Sources\SignalGenerator-Pulse.emx</LibraryPath>
  <TimeStamp>2007-9-27 16:1:38</TimeStamp>
</Description>';
          type 'SignalGenerator-Pulse'
           ports
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 88.1 160 119.9 192 color 0 fill 15132390;
            line 99.7 174.4 105.4 174.4 color 16711680 width 2;
            line 91 186.2 117 186.2 color 0;
            line 94 186.1 99.6 186.1 99.6 174.5 color 16711680 width 2;
            line 94 168.6 94 189 color 0;
            line 114.2 186.2 105.4 186.1 105.4 174.5 color 16711680 width 2;
          end;
          implementation eq
parameters
	real global start_time ;
	real global stop_time;
	real global amplitude ;
variables
	boolean hidden change;
	real global distb2;
equations
	"calculate at least at the start and stop time"
	change = timeevent (start_time) or timeevent (stop_time);

	"calculate the block signal"
	output = amplitude * (step (start_time) - step (stop_time));
distb2=output;implementation_end;
         R 312 120
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 312 120 color 0 18 bold;
          end;
          implementation eq
parameters
	real r = 0;
equations
	p.e = r * p.f;
implementation_end;
         Se1 256 112
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Se.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:36:49</TimeStamp>
</Description>
</Information>';
          type Se
           ports
            power out p;
           restrictions
            causality fixed out p;
          end;
          icon bg top
           figures
            text 'Se' 256 112 color 0 18 bold;
          end;
          implementation eq
parameters
real a1= 1.6886802214429; 
real a2= 1.0577602203256; 
real b1= 1.801788367624; 
real b2= 0.68091772755886;
real L1= 754.44194004057; 
real L2= 6916.0972132515;
real global S2;

variables
	real flow;
	real global x1j2,x2j2;
	real P1,P2,t1,t2;
	real gamma1L, gamma1u2, gamma2L, gamma2u2, gamma1, gamma2;
	real global u2, q1, q2, q3;
equations
	P1=L1/2; 
	P2=L2/2;
	t1=P1/(2*L1); 
	t2=P2/(2*L2);
	
//if ((q1>=-0.785 and q1<=0.785) and (q2>=-0.785 and q2<=0.785) and (q3>=-0.785 and q3<=0.785)) then
	
if ((x1j2>=(L1-P1)) and (x1j2<=(L1+P1)) and (x2j2>=(-L2-P2)) and (x2j2<=(-L2+P2))) then // region 1 and 8
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u2=(-L2*a1*x1j2+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             gamma2u2=(-L2*b1*x1j2+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
         
         else if ((x1j2>=(-L1-P1)) and (x1j2<=(-L1+P1)) and (x2j2>=(-L2-P2)) and (x2j2<=(-L2+P2)))  then // region 2 and 3
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u2=(L2*a2*x1j2+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             gamma2u2=(L2*b2*x1j2+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
             
         else if ((x1j2>=(-L1-P1)) and (x1j2<=(-L1+P1)) and (x2j2>=(L2-P2)) and (x2j2<=(L2+P2))) then // region 4 and 5
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u2=(L2*a1*x1j2+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             gamma2u2=(L2*b1*x1j2+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             
            u2=gamma1*x1j2+gamma2*x2j2;
             
         else if ((x1j2>=(L1-P1)) and (x1j2<=(L1+P1)) and (x2j2>=(L2-P2)) and (x2j2<=(L2+P2))) then // region 6 and 7
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u2=(-L2*a2*x1j2+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             gamma2u2=(-L2*b2*x1j2+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
             
         else if ((x1j2>=0) and (x1j2<=(L1-P1)) and (x2j2>=(-L2-P2)) and (x2j2<=(-L2+P2)) and x2j2>=((-L2/L1)*x1j2)-((L2/L1)*P1+P2)) then // region 9
             gamma1L=(L2*(-a1+a2)*x1j2+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j2+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u2=(-L2*a1*x1j2+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             gamma2u2=(-L2*b1*x1j2+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;

         else if ((x1j2>=(-L1+P1)) and (x1j2<=0) and (x2j2>=(-L2-P2)) and (x2j2<=(-L2+P2)) and x2j2>=((L2/L1)*x1j2)-((L2/L1)*P1+P2)) then // region 10
             gamma1L=(L2*(-a1+a2)*x1j2+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j2+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u2=(L2*a2*x1j2+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             gamma2u2=(L2*b2*x1j2+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
             
         else if ((x1j2>=(-L1+P1)) and (x1j2<=(L1-P1)) and (x2j2>=(-L2-P2)) and (x2j2<=(-L2+P2)) and x2j2<=((-L2/L1)*x1j2)-((L2/L1)*P1+P2) and x2j2<=((L2/L1)*x1j2)-((L2/L1)*P1+P2)) then // region 17
             gamma1L=(L2*(-a1+a2)*x1j2+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j2+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u2=(L2*(-a1+a2)*x1j2+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j2));
             gamma2u2=(L2*(-b1+b2)*x1j2+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j2));
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
             
         else if ((x1j2>=(-L1+P1)) and (x1j2<=0) and (x2j2>=(L2-P2)) and (x2j2<=(L2+P2)) and x2j2<=((-L2/L1)*x1j2)+((L2/L1)*P1+P2)) then  // region 13
             gamma1L=(L2*(a1-a2)*x1j2+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j2+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u2=(L2*a1*x1j2+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             gamma2u2=(L2*b1*x1j2+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             
            gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
             
         else if ((x1j2>=0) and (x1j2<=(L1-P1)) and (x2j2>=(L2-P2)) and (x2j2<=(L2+P2)) and x2j2<=((L2/L1)*x1j2)+((L2/L1)*P1+P2)) then // region 14
             gamma1L=(L2*(a1-a2)*x1j2+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j2+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u2=(-L2*a2*x1j2+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             gamma2u2=(-L2*b2*x1j2+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
             
         else if ((x1j2>=(-L1+P1)) and (x1j2<=(L1-P1)) and (x2j2>=(L2-P2)) and (x2j2<=(L2+P2)) and x2j2>=(((-L2/L1)*x1j2)+((L2/L1)*P1+P2)) and x2j2>=(((L2/L1)*x1j2)+((L2/L1)*P1+P2))) then // region 19
             gamma1L=(L2*(a1-a2)*x1j2+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j2+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u2=(L2*(a1-a2)*x1j2+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j2));
             gamma2u2=(L2*(b1-b2)*x1j2+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j2));
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
             
         else if ((x1j2>=(-L1-P1)) and (x1j2<=(-L1+P1)) and (x2j2>=(-L2+P2)) and (x2j2<=0) and x2j2<=((L2/L1)*x1j2)+((L2/L1)*P1+P2)) then // region 11
             gamma1L=(L1*(-a1+a2)*x2j2+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j2+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u2=(L2*a2*x1j2+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             gamma2u2=(L2*b2*x1j2+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
             
        else if ((x1j2>=(-L1-P1)) and (x1j2<=(-L1+P1)) and (x2j2>=0) and (x2j2<=(L2-P2)) and x2j2>=((-L2/L1)*x1j2)-((L2/L1)*P1+P2)) then // region 12
             gamma1L=(L1*(-a1+a2)*x2j2+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j2+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u2=(L2*a1*x1j2+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             gamma2u2=(L2*b1*x1j2+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
             
       else if ((x1j2>=(-L1-P1)) and (x1j2<=(-L1+P1)) and (x2j2>=(-L2+P2)) and (x2j2<=(L2-P2)) and x2j2<=((-L2/L1)*x1j2)-((L2/L1)*P1+P2) and x2j2>=((L2/L1)*x1j2)+((L2/L1)*P1+P2)) then // region 18
             gamma1L=(L1*(-a1+a2)*x2j2+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j2+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u2=(L2*(a1+a2)*x1j2+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j2));
             gamma2u2=(L2*(b1+b2)*x1j2+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j2));
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
             
         else if ((x1j2>=(L1-P1)) and (x1j2<=(L1+P1)) and (x2j2>=(-L2+P2)) and  (x2j2<=(L2-P2)) and x2j2>=((L2/L1)*x1j2)-((L2/L1)*P1+P2)) then // region 15 
             gamma1L=(L1*(a1-a2)*x2j2+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j2+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u2=(-L2*a2*x1j2+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             gamma2u2=(-L2*b2*x1j2+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             
           gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
              
         else if ((x1j2>=(L1-P1)) and (x1j2<=(L1+P1)) and (x2j2>=(-L2+P2)) and (x2j2<=(L2-P2)) and x2j2<=(-(L2/L1)*x1j2)+((L2/L1)*P1+P2)) then // region 16
             gamma1L=(L1*(a1-a2)*x2j2+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j2+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u2=(-L2*a1*x1j2+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             gamma2u2=(-L2*b1*x1j2+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
              
         else if ((x1j2>=(L1-P1)) and (x1j2<=(L1+P1)) and (x2j2>=(-L2+P2)) and (x2j2<=(L2-P2)) and x2j2>=(-(L2/L1)*x1j2)+((L2/L1)*P1+P2) and x2j2<=((L2/L1)*x1j2)-((L2/L1)*P1+P2)) then // region 20
             gamma1L=(L1*(a1-a2)*x2j2+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j2+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u2=(L2*(-a1-a2)*x1j2+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j2));
             gamma2u2=(L2*(-b1-b2)*x1j2+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j2));
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
              
	else if (x2j2>=((-L2/L1)*x1j2)-((L2/L1)*P1+P2) and x2j2<=((L2/L1)*x1j2)-((L2/L1)*P1+P2) and x2j2<=(-(L2+P2/L1+P1)*x1j2) and x2j2>=(-L2+P2)) then //%region 21
             gamma1L=(L2*(-a1+a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j2)/(2*(L1*x2j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j2)/(2*(L1*x2j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(-L2*a1*x1j2+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             gamma2u2=(-L2*b1*x1j2+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
             
         else if (x2j2<=((-L2/L1)*x1j2)-((L2/L1)*P1+P2) and x2j2>=((L2/L1)*x1j2)-((L2/L1)*P1+P2) and x2j2<=((L2+P2/L1+P1)*x1j2) and x2j2>=(-L2+P2)) then //%region 22
             gamma1L=(L2*(-a1+a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j2)/(2*(L1*x2j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j2)/(2*(L1*x2j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(L2*a2*x1j2+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             gamma2u2=(L2*b2*x1j2+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
                          
            u2=gamma1*x1j2+gamma2*x2j2;
                  
         else if (x2j2<=((-L2/L1)*x1j2)-((L2/L1)*P1+P2) and x2j2<=((L2/L1)*x1j2)-((L2/L1)*P1+P2) and x2j2>=(-L2+P2)) then //%region 29
             gamma1L=(L2*(-a1+a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j2)/(2*(L1*x2j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j2)/(2*(L1*x2j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(L2*(-a1+a2)*x1j2+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j2));
             gamma2u2=(L2*(-b1+b2)*x1j2+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j2));
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
             
        else if (x2j2<=((-L2/L1)*x1j2)-((L2/L1)*P1+P2) and x2j2<=((L2/L1)*x1j2)+((L2/L1)*P1+P2) and x2j2>=((L2+P2/L1+P1)*x1j2) and x1j2>=(-L1+P1) and x2j2>=(-L2+P2)) then //%region 23
             gamma1L=(L2*(a1+a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j2)/(2*(L2*x1j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j2)/(2*(L2*x1j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(L2*a2*x1j2+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             gamma2u2=(L2*b1*x1j2+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
            
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
      
         else if (x2j2>=((-L2/L1)*x1j2)-((L2/L1)*P1+P2) and x2j2>=((L2/L1)*x1j2)+((L2/L1)*P1+P2) and x2j2<=(-(L2+P2/L1+P1)*x1j2) and x1j2>=(-L1+P1) and x2j2<=(L2-P2)) then //%region 24
             gamma1L=(L2*(a1+a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j2)/(2*(L2*x1j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j2)/(2*(L2*x1j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(L2*a1*x1j2+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             gamma2u2=(L2*b1*x1j2+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
            u2=gamma1*x1j2+gamma2*x2j2;
           
         else if (x2j2>=((L2/L1)*x1j2)+((L2/L1)*P1+P2) and x2j2<=((-L2/L1)*x1j2)-((L2/L1)*P1+P2) and x1j2>=(-L1+P1)) then //%region 30
             gamma1L=(L2*(a1+a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j2)/(2*(L2*x1j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j2)/(2*(L2*x1j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(L2*(a1+a2)*x1j2+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j2));
             gamma2u2=(L2*(b1+b2)*x1j2+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j2));
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
                
        else if (x2j2>=((L2/L1)*x1j2)+((L2/L1)*P1+P2) and x2j2<=(-(L2/L1)*x1j2)+((L2/L1)*P1+P2) and x2j2>=(-(L2+P2/L1+P1)*x1j2) and x2j2<=(L2-P2) and x1j2>=(-L1+P1)) then //%region 25
             gamma1L=(L2*(a1-a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j2)/(2*(-L1*x2j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j2)/(2*(-L1*x2j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(L2*a1*x1j2+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             gamma2u2=(L2*b1*x1j2+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j2)/(L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
             
         else if (x2j2<=((L2/L1)*x1j2)+((L2/L1)*P1+P2) and x2j2>=(-(L2/L1)*x1j2)+((L2/L1)*P1+P2) and x2j2>=((L2+P2/L1+P1)*x1j2) and x2j2<=(L2-P2)) then //%region 26
             gamma1L=(L2*(a1-a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j2)/(2*(-L1*x2j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j2)/(2*(-L1*x2j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(-L2*a2*x1j2+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             gamma2u2=(-L2*b2*x1j2+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
                  
         else if (x2j2>=((-L2/L1)*x1j2)+((L2/L1)*P1+P2) and x2j2>=((L2/L1)*x1j2)+((L2/L1)*P1+P2) and x2j2<=(L2-P2)) then //%region 31
             gamma1L=(L2*(a1-a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j2)/(2*(-L1*x2j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j2)/(2*(-L1*x2j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(L2*(a1-a2)*x1j2+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j2));
             gamma2u2=(L2*(b1-b2)*x1j2+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j2));
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
           
            
         
        else if (x2j2>=((L2/L1)*x1j2)-((L2/L1)*P1+P2) and x2j2>=((-L2/L1)*x1j2)+((L2/L1)*P1+P2) and x2j2<=((L2+P2/L1+P1)*x1j2) and x1j2<=(L1-P1) and x2j2<=(L2-P2)) then //%region 27
             gamma1L=(L2*(-a1-a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j2)/(2*(-L2*x1j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j2)/(2*(-L2*x1j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(-L2*a2*x1j2+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             gamma2u2=(-L2*b2*x1j2+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)-L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
     
         else if (x2j2<=((L2/L1)*x1j2)+((L2/L1)*P1+P2) and x2j2<=((L2/L1)*x1j2)-((L2/L1)*P1+P2) and x2j2>=(-(L2+P2/L1+P1)*x1j2) and x1j2<=(L1-P1) and x2j2>=(-L2+P2)) then //%region 28
             gamma1L=(L2*(-a1-a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j2)/(2*(-L2*x1j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j2)/(2*(-L2*x1j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(-L2*a1*x1j2+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             gamma2u2=(-L2*b1*x1j2+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j2)/(-L2*x1j2+2*L1*L2*(2+t1+t2)+L1*x2j2);
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
           
         else if (x2j2<=((L2/L1)*x1j2)-((L2/L1)*P1+P2) and x2j2>=((-L2/L1)*x1j2)+((L2/L1)*P1+P2) and x1j2<=(L1-P1)) then //%region 32
             gamma1L=(L2*(-a1-a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j2)/(2*(-L2*x1j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j2)/(2*(-L2*x1j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(L2*(-a1-a2)*x1j2+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j2));
             gamma2u2=(L2*(-b1-b2)*x1j2+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j2)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j2));
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;  
             
             u2=gamma1*x1j2+gamma2*x2j2;
          
        else if (x2j2<=((L2+P2)/(L1+P1)*x1j2) and x2j2<=(-(L2+P2)/(L1+P1)*x1j2) and x2j2>=((-L2/L1)*x1j2)-((L2/L1)*P1+P2) and x2j2>=((L2/L1)*x1j2)-((L2/L1)*P1+P2)) then // %region 33
             gamma1L=(L2*(-a1+a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j2)/(2*(L1*x2j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j2)/(2*(L1*x2j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(a1+a2)/2;
             gamma2u2=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;   
             
             u2=gamma1*x1j2+gamma2*x2j2;
         
         else if (x2j2>=((L2+P2)/(L1+P1)*x1j2) and x2j2<=(-(L2+P2)/(L1+P1)*x1j2) and x2j2>=((-L2/L1)*x1j2)-((L2/L1)*P1+P2) and x2j2<=((L2/L1)*x1j2)+((L2/L1)*P1+P2)) then //%region 34
             gamma1L=(L2*(a1+a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j2)/(2*(L2*x1j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j2)/(2*(L2*x1j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(a1+a2)/2;
             gamma2u2=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
             
         else if (x2j2>=((L2+P2)/(L1+P1)*x1j2) and x2j2>=(-(L2+P2)/(L1+P1)*x1j2) and x2j2<=((-L2/L1)*x1j2)+((L2/L1)*P1+P2) and x2j2<=((L2/L1)*x1j2)+((L2/L1)*P1+P2)) then  //%region 35
             gamma1L=(L2*(a1-a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j2)/(2*(-L1*x2j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j2)/(2*(-L1*x2j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(a1+a2)/2;
             gamma2u2=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
         
         else if (x2j2<=((L2+P2)/(L1+P1)*x1j2) and x2j2>=(-(L2+P2)/(L1+P1)*x1j2) and x2j2<=((-L2/L1)*x1j2)+((L2/L1)*P1+P2) and x2j2>=((L2/L1)*x1j2)-((L2/L1)*P1+P2)) then //region 36
             gamma1L=(L2*(-a1-a2)*x1j2+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j2)/(2*(-L2*x1j2+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j2+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j2)/(2*(-L2*x1j2+2*L1*L2*(1-t1-t2)));
             
             gamma1u2=(a1+a2)/2;
             gamma2u2=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u2)/2;
             gamma2=(gamma2L+gamma2u2)/2;
             
             u2=gamma1*x1j2+gamma2*x2j2;
              
         else
            gamma1 = 0;
            gamma2 = 0;
            u2=gamma1*x1j2+gamma2*x2j2;
         end;  
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
  
//else
// u2=0
//	end;
	

	p.e = S2*u2;
	flow = p.f;
implementation_end;
         Sf 344 352
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Sf.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:38:03</TimeStamp>
</Description>
</Information>';
          type Sf
           ports
            power out p;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'Sf' 344 352 color 0 18 bold;
          end;
          implementation eq
parameters
	real global a1,a2,w1,w2,d,phi02,Kp,Kd;
	real initial = 0;
variables
	real global phir2;
	real global dphir2;
	real global dphi2,phi2;
	real effort;
	real global q2,q3;
	//real global n;
	//real global t2;
	//real global t3;
	
equations
	//t2=1;
	//t3=time;
	//if t2<=t3 and t2>0 then
				//n= floor (t3/t2);
				//t2=t3-(t2*n);
				//else
					//t2=t3;	
					//end;
	
	phir2=a1*sin((w1*time)+d)+a2*sin((w2*time)+d);

		
	dphir2=ddt(phir2,initial);
	//if -0.785<=phi2<=0.785 then //and -0.785<=q3<=0.785 then
	//p.e = Kp*(phir2-phi2)-Kd*(dphir2-dphi2);
	//else
		p.f=phir2;
		//end;
effort = p.e;
implementation_end;
         Splitter1 480 256
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [1];
            signal knot in input [1];
          end;
          icon bg ellipse
           figures
            ellipse 476.8 252.8 483.2 259.2 color -1 fill 0;
            ellipse 475.7 251.7 484.3 260.3 color -1;
           terminals
            input 480 256 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
        end;
        connections
         C\p <= OneJunction\p;
         Delay\input <- Splitter1\output;
         Delay\output -> PlusMinus1\minus;
         Gain1\output -> MSf3\flow;
         Gain2\output -> MSf2\flow;
         Integrate\output -> PlusMinus\minus;
         MSe1\p => OneJunction\p;
         MSf2\p => OneJunction2\p;
         MSf3\p => OneJunction3\p;
         OneJunction\flow -> Integrate\input;
         OneJunction1\flow -> PlusMinus\plus;
         phi2 => OneJunction\p;
         PlusMinus1\output -> Gain2\input;
         Pulse1\output -> MSe1\effort;
         R\p <= OneJunction\p;
         Se1\p => OneJunction\p;
         Sf\p => OneJunction1\p;
         Splitter1\input <- PlusMinus\output;
         Splitter1\output -> Gain1\input;
         Splitter1\output -> PlusMinus1\plus 480 184;
        end;
       implementation_end;
      control3 312 352
       description '<Information><Description><Version>4.7</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type Submodel
        ports
         power in phi3;
       end;
       implementation bg
        submodels
         C 200 120
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 200 120 color 0 18 bold;
          end;
          implementation eq
parameters
	real c = 0;
equations
	state = int(p.f);
	p.e = state * c;
implementation_end;
         Delay 632 256
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Delay-Time.emx</LibraryPath>
  <TimeStamp>2007-12-6 15:29:52</TimeStamp>
</Description>';
          type 'Delay-Time'
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 616 240 648 272 color 0 fill 15132390;
            line 620.5 246.4 620.5 265.6 color 0;
            line 646.1 256 617.3 256 color 0;
            spline 620.8 249.8 625.8 249.3 628.8 254.4 631.7 260.3 635.9 262.6 color 16711680;
            spline 631.5 249.3 636.3 249.3 638.9 253.3 641.6 258.7 646.4 262.1 color 16711680;
            group
             line 636.8 251.9 636.8 253.3 color 16711680;
             group
              line 636.8 253.3 636.8 251.9 color 16711680;
              line 629.5 252.7 636.8 252.7 color 16711680;
             end;
            end;
          end;
          implementation eq
parameters
	real delay = 0.1 {s};	// time delay (s)
	real initial = 0;		// initial value
variables
	real delayOutput;
equations
	delayOutput =  tdelay (input,delay);
	if (time <= delay) then
		output = initial;
	else
		output = delayOutput;
	end;
       implementation_end;
         Gain1 480 288
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 464.1 272 495.9 304 color 0 fill 15132390;
            text 'K' 480 288 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 0.5;		// gain
equations
	output = K * input;
    implementation_end;
         Gain2 664 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 648.1 168 679.9 200 color 0 fill 15132390;
            text 'K' 664 184 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 15;		// gain
equations
	output = K * input;
    implementation_end;
         Integrate 256 256
          description '<Information>
 <Description>
    <Version>4.3</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
  <TimeStamp>2013-3-8 14:47:42</TimeStamp>
</Description>
</Information>';
          type Integrate
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 240 240 272 272 color 0 fill 15132390;
            text '∫' 256 256.3 color 16711680 'Lucida Sans' 21 italic;
          end;
          implementation eq
parameters
	real initial = 0.5;		// initial value
equations
	output = int (input, initial);
     implementation_end;
         MSe1 192 176
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:12:33</TimeStamp>
</Description>
</Information>';
          type MSe
           ports
            power out p;
            signal in effort;
           restrictions
            causality fixed out p;
          end;
          icon bg bottom
           figures
            text 'MSe' 192 176 color 0 18 bold;
          end;
          implementation eq
variables
	real flow;
equations
	p.e = effort;
	flow = p.f;
implementation_end;
         MSf2 704 184
          description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MSf.emx</LibraryPath><TimeStamp>2011-11-29 16:14:18</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 704 184 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         MSf3 480 408
          description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MSf.emx</LibraryPath><TimeStamp>2011-11-29 16:14:18</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 480 408 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         plug phi3 352 176;
         OneJunction 256 176
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 256 176 color 0 18 bold;
          end;
          implementation eq
variables
	real global dphi3;
	real global phi3;
	
parameters
	real initial = 0.5;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dphi3=flow;
	phi3= int(dphi3,initial);implementation_end;
         OneJunction1 344 304
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 344 304 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         OneJunction2 784 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 784 184 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global  x2j3;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x2j3=flow;
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         OneJunction3 600 408
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 600 408 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global x1j3;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x1j3=flow;
	
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         PlusMinus 344 256
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 336 248 352 264 color 0 fill 16777215;
          end;
          implementation eq
variables
real global e3,ISE3;
equations
    output = sum (collect (plus)) - sum (collect (minus));
    e3=output;
ISE3= int(e3 .^ 2);implementation_end;
         PlusMinus1 632 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 624 176 640 192 color 0 fill 16777215;
          end;
          implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
         Pulse1 104 176
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Sources\SignalGenerator-Pulse.emx</LibraryPath>
  <TimeStamp>2007-9-27 16:1:38</TimeStamp>
</Description>';
          type 'SignalGenerator-Pulse'
           ports
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 88.1 160 119.9 192 color 0 fill 15132390;
            line 99.7 174.4 105.4 174.4 color 16711680 width 2;
            line 91 186.2 117 186.2 color 0;
            line 94 186.1 99.6 186.1 99.6 174.5 color 16711680 width 2;
            line 94 168.6 94 189 color 0;
            line 114.2 186.2 105.4 186.1 105.4 174.5 color 16711680 width 2;
          end;
          implementation eq
parameters
	real global start_time ;
	real global stop_time;
	real global amplitude ;
variables
	boolean hidden change;
	real global distb3;
equations
	"calculate at least at the start and stop time"
	change = timeevent (start_time) or timeevent (stop_time);

	"calculate the block signal"
	output = amplitude * (step (start_time) - step (stop_time));
distb3=output;implementation_end;
         R 320 128
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 320 128 color 0 18 bold;
          end;
          implementation eq
parameters
	real r = 0;
equations
	p.e = r * p.f;
implementation_end;
         Se1 256 112
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Se.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:36:49</TimeStamp>
</Description>
</Information>';
          type Se
           ports
            power out p;
           restrictions
            causality fixed out p;
          end;
          icon bg top
           figures
            text 'Se' 256 112 color 0 18 bold;
          end;
          implementation eq
parameters
real a1= 25.587598230129; 
real a2= 6.5217621245594; 
real b1= 1.313528734142; 
real b2= 0.66713851796067;
real L1= 949.03435079743; 
real L2= 11436.633234969;
real global S3;

variables
	real flow;
	real global x1j3,x2j3;
	real P1,P2,t1,t2;
	real gamma1L, gamma1u3, gamma2L, gamma2u3, gamma1, gamma2;
	real global u3, q1, q2, q3;
equations
	P1=L1/2; 
	P2=L2/2;
	t1=P1/(2*L1); 
	t2=P2/(2*L2);
	
//if ((q1>=-0.785 and q1<=0.785) and (q2>=-0.785 and q2<=0.785) and (q3>=-0.785 and q3<=0.785)) then
	
if ((x1j3>=(L1-P1)) and (x1j3<=(L1+P1)) and (x2j3>=(-L2-P2)) and (x2j3<=(-L2+P2))) then // region 1 and 8
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u3=(-L2*a1*x1j3+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             gamma2u3=(-L2*b1*x1j3+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
         
         else if ((x1j3>=(-L1-P1)) and (x1j3<=(-L1+P1)) and (x2j3>=(-L2-P2)) and (x2j3<=(-L2+P2)))  then // region 2 and 3
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u3=(L2*a2*x1j3+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             gamma2u3=(L2*b2*x1j3+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
             
         else if ((x1j3>=(-L1-P1)) and (x1j3<=(-L1+P1)) and (x2j3>=(L2-P2)) and (x2j3<=(L2+P2))) then // region 4 and 5
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u3=(L2*a1*x1j3+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             gamma2u3=(L2*b1*x1j3+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             
            u3=gamma1*x1j3+gamma2*x2j3;
             
         else if ((x1j3>=(L1-P1)) and (x1j3<=(L1+P1)) and (x2j3>=(L2-P2)) and (x2j3<=(L2+P2))) then // region 6 and 7
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u3=(-L2*a2*x1j3+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             gamma2u3=(-L2*b2*x1j3+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
             
         else if ((x1j3>=0) and (x1j3<=(L1-P1)) and (x2j3>=(-L2-P2)) and (x2j3<=(-L2+P2)) and x2j3>=((-L2/L1)*x1j3)-((L2/L1)*P1+P2)) then // region 9
             gamma1L=(L2*(-a1+a2)*x1j3+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j3+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u3=(-L2*a1*x1j3+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             gamma2u3=(-L2*b1*x1j3+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;

         else if ((x1j3>=(-L1+P1)) and (x1j3<=0) and (x2j3>=(-L2-P2)) and (x2j3<=(-L2+P2)) and x2j3>=((L2/L1)*x1j3)-((L2/L1)*P1+P2)) then // region 10
             gamma1L=(L2*(-a1+a2)*x1j3+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j3+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u3=(L2*a2*x1j3+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             gamma2u3=(L2*b2*x1j3+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
             
         else if ((x1j3>=(-L1+P1)) and (x1j3<=(L1-P1)) and (x2j3>=(-L2-P2)) and (x2j3<=(-L2+P2)) and x2j3<=((-L2/L1)*x1j3)-((L2/L1)*P1+P2) and x2j3<=((L2/L1)*x1j3)-((L2/L1)*P1+P2)) then // region 17
             gamma1L=(L2*(-a1+a2)*x1j3+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j3+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u3=(L2*(-a1+a2)*x1j3+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j3));
             gamma2u3=(L2*(-b1+b2)*x1j3+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j3));
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
             
         else if ((x1j3>=(-L1+P1)) and (x1j3<=0) and (x2j3>=(L2-P2)) and (x2j3<=(L2+P2)) and x2j3<=((-L2/L1)*x1j3)+((L2/L1)*P1+P2)) then  // region 13
             gamma1L=(L2*(a1-a2)*x1j3+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j3+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u3=(L2*a1*x1j3+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             gamma2u3=(L2*b1*x1j3+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             
            gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
             
         else if ((x1j3>=0) and (x1j3<=(L1-P1)) and (x2j3>=(L2-P2)) and (x2j3<=(L2+P2)) and x2j3<=((L2/L1)*x1j3)+((L2/L1)*P1+P2)) then // region 14
             gamma1L=(L2*(a1-a2)*x1j3+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j3+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u3=(-L2*a2*x1j3+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             gamma2u3=(-L2*b2*x1j3+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
             
         else if ((x1j3>=(-L1+P1)) and (x1j3<=(L1-P1)) and (x2j3>=(L2-P2)) and (x2j3<=(L2+P2)) and x2j3>=(((-L2/L1)*x1j3)+((L2/L1)*P1+P2)) and x2j3>=(((L2/L1)*x1j3)+((L2/L1)*P1+P2))) then // region 19
             gamma1L=(L2*(a1-a2)*x1j3+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j3+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u3=(L2*(a1-a2)*x1j3+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j3));
             gamma2u3=(L2*(b1-b2)*x1j3+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j3));
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
             
         else if ((x1j3>=(-L1-P1)) and (x1j3<=(-L1+P1)) and (x2j3>=(-L2+P2)) and (x2j3<=0) and x2j3<=((L2/L1)*x1j3)+((L2/L1)*P1+P2)) then // region 11
             gamma1L=(L1*(-a1+a2)*x2j3+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j3+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u3=(L2*a2*x1j3+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             gamma2u3=(L2*b2*x1j3+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
             
        else if ((x1j3>=(-L1-P1)) and (x1j3<=(-L1+P1)) and (x2j3>=0) and (x2j3<=(L2-P2)) and x2j3>=((-L2/L1)*x1j3)-((L2/L1)*P1+P2)) then // region 12
             gamma1L=(L1*(-a1+a2)*x2j3+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j3+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u3=(L2*a1*x1j3+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             gamma2u3=(L2*b1*x1j3+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
             
       else if ((x1j3>=(-L1-P1)) and (x1j3<=(-L1+P1)) and (x2j3>=(-L2+P2)) and (x2j3<=(L2-P2)) and x2j3<=((-L2/L1)*x1j3)-((L2/L1)*P1+P2) and x2j3>=((L2/L1)*x1j3)+((L2/L1)*P1+P2)) then // region 18
             gamma1L=(L1*(-a1+a2)*x2j3+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j3+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u3=(L2*(a1+a2)*x1j3+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j3));
             gamma2u3=(L2*(b1+b2)*x1j3+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j3));
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
             
         else if ((x1j3>=(L1-P1)) and (x1j3<=(L1+P1)) and (x2j3>=(-L2+P2)) and  (x2j3<=(L2-P2)) and x2j3>=((L2/L1)*x1j3)-((L2/L1)*P1+P2)) then // region 15 
             gamma1L=(L1*(a1-a2)*x2j3+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j3+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u3=(-L2*a2*x1j3+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             gamma2u3=(-L2*b2*x1j3+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             
           gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
              
         else if ((x1j3>=(L1-P1)) and (x1j3<=(L1+P1)) and (x2j3>=(-L2+P2)) and (x2j3<=(L2-P2)) and x2j3<=(-(L2/L1)*x1j3)+((L2/L1)*P1+P2)) then // region 16
             gamma1L=(L1*(a1-a2)*x2j3+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j3+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u3=(-L2*a1*x1j3+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             gamma2u3=(-L2*b1*x1j3+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
              
         else if ((x1j3>=(L1-P1)) and (x1j3<=(L1+P1)) and (x2j3>=(-L2+P2)) and (x2j3<=(L2-P2)) and x2j3>=(-(L2/L1)*x1j3)+((L2/L1)*P1+P2) and x2j3<=((L2/L1)*x1j3)-((L2/L1)*P1+P2)) then // region 20
             gamma1L=(L1*(a1-a2)*x2j3+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j3+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u3=(L2*(-a1-a2)*x1j3+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j3));
             gamma2u3=(L2*(-b1-b2)*x1j3+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j3));
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
              
	else if (x2j3>=((-L2/L1)*x1j3)-((L2/L1)*P1+P2) and x2j3<=((L2/L1)*x1j3)-((L2/L1)*P1+P2) and x2j3<=(-(L2+P2/L1+P1)*x1j3) and x2j3>=(-L2+P2)) then //%region 21
             gamma1L=(L2*(-a1+a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j3)/(2*(L1*x2j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j3)/(2*(L1*x2j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(-L2*a1*x1j3+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             gamma2u3=(-L2*b1*x1j3+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
             
         else if (x2j3<=((-L2/L1)*x1j3)-((L2/L1)*P1+P2) and x2j3>=((L2/L1)*x1j3)-((L2/L1)*P1+P2) and x2j3<=((L2+P2/L1+P1)*x1j3) and x2j3>=(-L2+P2)) then //%region 22
             gamma1L=(L2*(-a1+a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j3)/(2*(L1*x2j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j3)/(2*(L1*x2j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(L2*a2*x1j3+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             gamma2u3=(L2*b2*x1j3+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
                          
            u3=gamma1*x1j3+gamma2*x2j3;
                  
         else if (x2j3<=((-L2/L1)*x1j3)-((L2/L1)*P1+P2) and x2j3<=((L2/L1)*x1j3)-((L2/L1)*P1+P2) and x2j3>=(-L2+P2)) then //%region 29
             gamma1L=(L2*(-a1+a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j3)/(2*(L1*x2j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j3)/(2*(L1*x2j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(L2*(-a1+a2)*x1j3+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j3));
             gamma2u3=(L2*(-b1+b2)*x1j3+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j3));
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
             
        else if (x2j3<=((-L2/L1)*x1j3)-((L2/L1)*P1+P2) and x2j3<=((L2/L1)*x1j3)+((L2/L1)*P1+P2) and x2j3>=((L2+P2/L1+P1)*x1j3) and x1j3>=(-L1+P1) and x2j3>=(-L2+P2)) then //%region 23
             gamma1L=(L2*(a1+a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j3)/(2*(L2*x1j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j3)/(2*(L2*x1j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(L2*a2*x1j3+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             gamma2u3=(L2*b1*x1j3+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
            
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
      
         else if (x2j3>=((-L2/L1)*x1j3)-((L2/L1)*P1+P2) and x2j3>=((L2/L1)*x1j3)+((L2/L1)*P1+P2) and x2j3<=(-(L2+P2/L1+P1)*x1j3) and x1j3>=(-L1+P1) and x2j3<=(L2-P2)) then //%region 24
             gamma1L=(L2*(a1+a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j3)/(2*(L2*x1j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j3)/(2*(L2*x1j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(L2*a1*x1j3+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             gamma2u3=(L2*b1*x1j3+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
            u3=gamma1*x1j3+gamma2*x2j3;
           
         else if (x2j3>=((L2/L1)*x1j3)+((L2/L1)*P1+P2) and x2j3<=((-L2/L1)*x1j3)-((L2/L1)*P1+P2) and x1j3>=(-L1+P1)) then //%region 30
             gamma1L=(L2*(a1+a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j3)/(2*(L2*x1j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j3)/(2*(L2*x1j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(L2*(a1+a2)*x1j3+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j3));
             gamma2u3=(L2*(b1+b2)*x1j3+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j3));
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
                
        else if (x2j3>=((L2/L1)*x1j3)+((L2/L1)*P1+P2) and x2j3<=(-(L2/L1)*x1j3)+((L2/L1)*P1+P2) and x2j3>=(-(L2+P2/L1+P1)*x1j3) and x2j3<=(L2-P2) and x1j3>=(-L1+P1)) then //%region 25
             gamma1L=(L2*(a1-a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j3)/(2*(-L1*x2j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j3)/(2*(-L1*x2j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(L2*a1*x1j3+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             gamma2u3=(L2*b1*x1j3+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j3)/(L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
             
         else if (x2j3<=((L2/L1)*x1j3)+((L2/L1)*P1+P2) and x2j3>=(-(L2/L1)*x1j3)+((L2/L1)*P1+P2) and x2j3>=((L2+P2/L1+P1)*x1j3) and x2j3<=(L2-P2)) then //%region 26
             gamma1L=(L2*(a1-a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j3)/(2*(-L1*x2j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j3)/(2*(-L1*x2j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(-L2*a2*x1j3+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             gamma2u3=(-L2*b2*x1j3+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
                  
         else if (x2j3>=((-L2/L1)*x1j3)+((L2/L1)*P1+P2) and x2j3>=((L2/L1)*x1j3)+((L2/L1)*P1+P2) and x2j3<=(L2-P2)) then //%region 31
             gamma1L=(L2*(a1-a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j3)/(2*(-L1*x2j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j3)/(2*(-L1*x2j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(L2*(a1-a2)*x1j3+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j3));
             gamma2u3=(L2*(b1-b2)*x1j3+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j3));
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
           
            
         
        else if (x2j3>=((L2/L1)*x1j3)-((L2/L1)*P1+P2) and x2j3>=((-L2/L1)*x1j3)+((L2/L1)*P1+P2) and x2j3<=((L2+P2/L1+P1)*x1j3) and x1j3<=(L1-P1) and x2j3<=(L2-P2)) then //%region 27
             gamma1L=(L2*(-a1-a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j3)/(2*(-L2*x1j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j3)/(2*(-L2*x1j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(-L2*a2*x1j3+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             gamma2u3=(-L2*b2*x1j3+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)-L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
     
         else if (x2j3<=((L2/L1)*x1j3)+((L2/L1)*P1+P2) and x2j3<=((L2/L1)*x1j3)-((L2/L1)*P1+P2) and x2j3>=(-(L2+P2/L1+P1)*x1j3) and x1j3<=(L1-P1) and x2j3>=(-L2+P2)) then //%region 28
             gamma1L=(L2*(-a1-a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j3)/(2*(-L2*x1j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j3)/(2*(-L2*x1j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(-L2*a1*x1j3+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             gamma2u3=(-L2*b1*x1j3+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j3)/(-L2*x1j3+2*L1*L2*(2+t1+t2)+L1*x2j3);
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
           
         else if (x2j3<=((L2/L1)*x1j3)-((L2/L1)*P1+P2) and x2j3>=((-L2/L1)*x1j3)+((L2/L1)*P1+P2) and x1j3<=(L1-P1)) then //%region 32
             gamma1L=(L2*(-a1-a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j3)/(2*(-L2*x1j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j3)/(2*(-L2*x1j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(L2*(-a1-a2)*x1j3+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j3));
             gamma2u3=(L2*(-b1-b2)*x1j3+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j3)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j3));
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;  
             
             u3=gamma1*x1j3+gamma2*x2j3;
          
        else if (x2j3<=((L2+P2)/(L1+P1)*x1j3) and x2j3<=(-(L2+P2)/(L1+P1)*x1j3) and x2j3>=((-L2/L1)*x1j3)-((L2/L1)*P1+P2) and x2j3>=((L2/L1)*x1j3)-((L2/L1)*P1+P2)) then // %region 33
             gamma1L=(L2*(-a1+a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j3)/(2*(L1*x2j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j3)/(2*(L1*x2j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(a1+a2)/2;
             gamma2u3=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;   
             
             u3=gamma1*x1j3+gamma2*x2j3;
         
         else if (x2j3>=((L2+P2)/(L1+P1)*x1j3) and x2j3<=(-(L2+P2)/(L1+P1)*x1j3) and x2j3>=((-L2/L1)*x1j3)-((L2/L1)*P1+P2) and x2j3<=((L2/L1)*x1j3)+((L2/L1)*P1+P2)) then //%region 34
             gamma1L=(L2*(a1+a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j3)/(2*(L2*x1j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j3)/(2*(L2*x1j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(a1+a2)/2;
             gamma2u3=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
             
         else if (x2j3>=((L2+P2)/(L1+P1)*x1j3) and x2j3>=(-(L2+P2)/(L1+P1)*x1j3) and x2j3<=((-L2/L1)*x1j3)+((L2/L1)*P1+P2) and x2j3<=((L2/L1)*x1j3)+((L2/L1)*P1+P2)) then  //%region 35
             gamma1L=(L2*(a1-a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j3)/(2*(-L1*x2j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j3)/(2*(-L1*x2j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(a1+a2)/2;
             gamma2u3=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
         
         else if (x2j3<=((L2+P2)/(L1+P1)*x1j3) and x2j3>=(-(L2+P2)/(L1+P1)*x1j3) and x2j3<=((-L2/L1)*x1j3)+((L2/L1)*P1+P2) and x2j3>=((L2/L1)*x1j3)-((L2/L1)*P1+P2)) then //region 36
             gamma1L=(L2*(-a1-a2)*x1j3+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j3)/(2*(-L2*x1j3+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j3+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j3)/(2*(-L2*x1j3+2*L1*L2*(1-t1-t2)));
             
             gamma1u3=(a1+a2)/2;
             gamma2u3=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u3)/2;
             gamma2=(gamma2L+gamma2u3)/2;
             
             u3=gamma1*x1j3+gamma2*x2j3;
              
         else
            gamma1 = 0;
            gamma2 = 0;
            u3=gamma1*x1j3+gamma2*x2j3;
         end;  
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
  
//else
// u3=0
//	end;
	

	p.e = S3*u3;
	flow = p.f;
implementation_end;
         Sf 344 352
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Sf.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:38:03</TimeStamp>
</Description>
</Information>';
          type Sf
           ports
            power out p;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'Sf' 344 352 color 0 18 bold;
          end;
          implementation eq
parameters
	real global a1,a2,w1,w2,d,phi02,Kp,Kd;
	real initial = 0;
variables
	real global phir3;
	real global dphir3;
	real global dphi3,phi3;
	real effort;
	real global q2,q3;
	//real global n;
	//real global t2;
	//real global t3;
	
equations
	//t2=1;
	//t3=time;
	//if t2<=t3 and t2>0 then
				//n= floor (t3/t2);
				//t2=t3-(t2*n);
				//else
					//t2=t3;	
					//end;
	
	phir3=a1*sin((w1*time)+(2*d))+a2*sin((w2*time)+(2*d));

		
	dphir3=ddt(phir3,initial);
	//if -0.785<=phi2<=0.785 then //and -0.785<=q3<=0.785 then
	//p.e = Kp*(phir2-phi2)-Kd*(dphir2-dphi2);
	//else
		p.f=phir3;
		//end;
effort = p.e;
implementation_end;
         Splitter1 480 256
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [1];
            signal knot in input [1];
          end;
          icon bg ellipse
           figures
            ellipse 476.8 252.8 483.2 259.2 color -1 fill 0;
            ellipse 475.7 251.7 484.3 260.3 color -1;
           terminals
            input 480 256 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
        end;
        connections
         C\p <= OneJunction\p;
         Delay\input <- Splitter1\output;
         Delay\output -> PlusMinus1\minus;
         Gain1\output -> MSf3\flow;
         Gain2\output -> MSf2\flow;
         Integrate\output -> PlusMinus\minus;
         MSe1\p => OneJunction\p;
         MSf2\p => OneJunction2\p;
         MSf3\p => OneJunction3\p;
         OneJunction\flow -> Integrate\input;
         OneJunction1\flow -> PlusMinus\plus;
         phi3 => OneJunction\p;
         PlusMinus1\output -> Gain2\input;
         Pulse1\output -> MSe1\effort;
         R\p <= OneJunction\p;
         Se1\p => OneJunction\p;
         Sf\p => OneJunction1\p;
         Splitter1\input <- PlusMinus\output;
         Splitter1\output -> Gain1\input;
         Splitter1\output -> PlusMinus1\plus 480 184;
        end;
       implementation_end;
      J1 828 70
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 828 70 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
	real global l;
equations
    state = int(p.e);
    p.f = state / ((m*l*l)/2);
implementation_end;
      J2 820 166
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 820 166 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
	real global l;
equations
    state = int(p.e);
    p.f = state / ((m*l*l)/2);

implementation_end;
      J3 828 270
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 828 270 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
	real global l;
equations
    state = int(p.e);
    p.f = state / ((m*l*l)/2);

implementation_end;
      mx11 708 118
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 708 118 color 0 18 bold;
       end;
       implementation eq
variables
	real global S[9,9];
	real global M[9,9];
	real global q1,q2,q3,q4,q5,q6,q7,q8,q9;
	real global q11,q22,q33,q44,q55,q66,q77,q88,q99;
	
parameters
	real global K[9,9]= [0.8889, 1.6667, 1.4444, 1.2222, 1, 0.7778, 0.5556, 0.3333, 0.1111;
			-0.1111, 0.6667, 1.4444, 1.2222, 1, 0.7778, 0.5556, 0.3333, 0.1111;
			-0.1111, -0.3333, 0.4444, 1.2222, 1, 0.7778, 0.5556, 0.3333, 0.1111;
			-0.1111, -0.3333, -0.5556, 0.2222, 1, 0.7778, 0.5556, 0.3333, 0.1111;
			-0.1111, -0.3333, -0.5556, -0.7778, 0, 0.7778, 0.5556, 0.3333, 0.1111;
			-0.1111, -0.3333, -0.5556, -0.7778, -1, -0.2222, 0.5556, 0.3333, 0.1111;
			-0.1111, -0.3333, -0.5556, -0.7778, -1, -1.2222, -0.4444, 0.3333, 0.1111;
			-0.1111, -0.3333, -0.5556, -0.7778, -1, -1.2222, -1.4444, -0.6667, 0.1111;
			-0.1111, -0.3333, -0.5556, -0.7778, -1, -1.2222, -1.4444, -1.6667, -0.8889];
	real global l;

equations
	//S=[sin(q1),0,0,0,0,0,0,0,0;0,sin(q2),0,0,0,0,0,0,0;0,0,sin(q3),0,0,0,0,0,0;0,0,0,sin(q4),0,0,0,0,0;0,0,0,0,sin(q5),0,0,0,0;
	//0,0,0,0,0,sin(q6),0,0,0;0,0,0,0,0,0,sin(q7),0,0;0,0,0,0,0,0,0,sin(q8),0;0,0,0,0,0,0,0,0,sin(q9)];
	S=[sin(q11),0,0,0,0,0,0,0,0;0,sin(q22),0,0,0,0,0,0,0;0,0,sin(q33),0,0,0,0,0,0;0,0,0,sin(q44),0,0,0,0,0;0,0,0,0,sin(q55),0,0,0,0;
	0,0,0,0,0,sin(q66),0,0,0;0,0,0,0,0,0,sin(q77),0,0;0,0,0,0,0,0,0,sin(q88),0;0,0,0,0,0,0,0,0,sin(q99)];
	M= K*S;
	
	p1.e = l*M[1,1] * p2.e;
	//p1.e=0;
	p2.f = l*M[1,1] * p1.f;
	//p2.f=0;
implementation_end;
      mx12 692 214
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 692 214 color 0 18 bold;
       end;
       implementation eq
variables
	real global M[9,9];
		
parameters
	real global l;

equations
	
	p1.e = l*M[1,2] * p2.e;
	//p1.e=0;
	p2.f = l*M[1,2] * p1.f;
//p2.f=0;implementation_end;
      mx13 724 302
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 724 302 color 0 18 bold;
       end;
       implementation eq
variables
	real global M[9,9];
		
parameters
	real global l;

equations
	
	p1.e = l*M[1,3] * p2.e;
	p2.f = l*M[1,3] * p1.f;
implementation_end;
      mx21 700 166
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 700 166 color 0 18 bold;
       end;
       implementation eq
variables
	real global M[9,9];
		
parameters
	real global l;

equations
	
	p1.e = l*M[2,1] * p2.e;
	//p1.e=0;
	p2.f = l*M[2,1] * p1.f;
//p2.f=0;implementation_end;
      mx22 660 246
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 660 246 color 0 18 bold;
       end;
       implementation eq
variables
	real global M[9,9];
		
parameters
	real global l;

equations
	
	p1.e = l*M[2,2] * p2.e;
	//p1.e=0;
	p2.f = l*M[2,2] * p1.f;
	//p2.f=0;
implementation_end;
      mx32 740 270
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 740 270 color 0 18 bold;
       end;
       implementation eq
variables
	real global  M[9,9];
		
parameters
	real global l;

equations
	
	p1.e = l*M[3,2] * p2.e;
	//p1.e=0;
	p2.f = l*M[3,2] * p1.f;
	//p2.f=0;
implementation_end;
      mx33 680 336
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 680 336 color 0 18 bold;
       end;
       implementation eq
variables
	real global  M[9,9];
		
parameters
	real global l;

equations
	
	p1.e = l*M[3,3] * p2.e;
	p2.f = l*M[3,3] * p1.f;
implementation_end;
      mx43 664 392
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 664 392 color 0 18 bold;
       end;
       implementation eq
variables
real global  M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[4,3] * p2.e;
	p2.f = l*M[4,3] * p1.f;implementation_end;
      my11 940 118
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 940 118 color 0 18 bold;
       end;
       implementation eq
variables
	real global C[9,9];
	real global My[9,9];
	real global q1,q2,q3,q4,q5,q6,q7,q8,q9;
	real global q11,q22,q33,q44,q55,q66,q77,q88,q99;
	
parameters
	real global K[9,9];
	real global l;

equations
	//C= [cos(q1),0,0,0,0,0,0,0,0;0,cos(q2),0,0,0,0,0,0,0;0,0,cos(q3),0,0,0,0,0,0;0,0,0,cos(q4),0,0,0,0,0;0,0,0,0,cos(q5),0,0,0,0;
	//0,0,0,0,0,cos(q6),0,0,0;0,0,0,0,0,0,cos(q7),0,0;0,0,0,0,0,0,0,cos(q8),0;0,0,0,0,0,0,0,0,cos(q9)];
	C= [cos(q11),0,0,0,0,0,0,0,0;0,cos(q22),0,0,0,0,0,0,0;0,0,cos(q33),0,0,0,0,0,0;0,0,0,cos(q44),0,0,0,0,0;0,0,0,0,cos(q55),0,0,0,0;
	0,0,0,0,0,cos(q66),0,0,0;0,0,0,0,0,0,cos(q77),0,0;0,0,0,0,0,0,0,cos(q88),0;0,0,0,0,0,0,0,0,cos(q99)];
	My= K*C;
	
	p1.e = -l*My[1,1] * p2.e;
	//p1.e=0;
	p2.f = -l*My[1,1] * p1.f;
	//p2.f=0;
implementation_end;
      my12 908 206
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 908 206 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[1,2] * p2.e;
	//p1.e=0;
	p2.f = -l*My[1,2] * p1.f;
	//p2.f=0;implementation_end;
      my13 960 304
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 960 304 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[1,3] * p2.e;
	p2.f = -l*My[1,3] * p1.f;implementation_end;
      my21 892 158
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 892 158 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[2,1] * p2.e;
	//p1.e=0;
	p2.f = -l*My[2,1] * p1.f;
	//p2.f=0;implementation_end;
      my22 940 246
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 940 246 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[2,2] * p2.e;
	//p1.e=0;
	p2.f = -l*My[2,2] * p1.f;
//p2.f=0;implementation_end;
      my32 900 270
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 900 270 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[3,2] * p2.e;
	//p1.e=0;
	p2.f = -l*My[3,2] * p1.f;
	//p2.f=0;implementation_end;
      my33 920 352
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 920 352 color 0 18 bold;
       end;
       implementation eq
variables
	real global My[9,9];
		
parameters
	real global l;

equations
	
	p1.e = -l*My[3,3] * p2.e;
	p2.f = -l*My[3,3] * p1.f;
implementation_end;
      my43 888 384
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 888 384 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[4,3] * p2.e;
	p2.f = -l*My[4,3] * p1.f;implementation_end;
      plug p2 408 136;
      plug p22 616 303.8;
      plug p23 536 175.5;
      plug p24 200 224.4;
      plug pse4 456 392;
      plug p215 984 384;
      plug p214 1551 328.3;
      plug p213 1008 286.6;
      plug p212 1471 216.5;
      plug p211 1032 174.9;
      plug p210 1111 288.9;
      plug p29 992 128.4;
      plug p28 1415 135.7;
      plug p27 576 348.5;
      plug p26 392 304;
      plug p21 528 140.1;
      plug p25 536 272;
      theta1 832 120
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg bottom
        figures
         text '1' 832 120 color 0 18 bold;
       end;
       implementation eq
variables
	real global dq1;
	real global q11,q1;
	
parameters
	real initial = 0.53;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dq1=flow;
	q11= int(dq1,initial);
	q1=limit(q11,-0.785,0.785);
	
implementation_end;
      theta2 828 214
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg bottom
        figures
         text '1' 828 214 color 0 18 bold;
       end;
       implementation eq
variables
	real global dq2;
	real global q22,q2;
	
parameters
	real initial = 0.53;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dq2=flow;
	q22= int(dq2,initial);
	q2=limit(q22,-0.785,0.785);implementation_end;
      theta3 828 302
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg bottom
        figures
         text '1' 828 302 color 0 18 bold;
       end;
       implementation eq
variables
	real global dq3;
	real global q33,q3;
	
parameters
	real initial = 0.18;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dq3=flow;
	q33= int(dq3,initial);
	q3=limit(q33,-0.785,0.785);implementation_end;
      ZeroJunction 424 352
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 424 352 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction6 728 64
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 728 64 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction7 496 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 496 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      J1\p <= theta1\p;
      mx11\p2 => p2;
      mx12\p2 => p21;
      mx13\p2 => p22;
      mx21\p2 => p23;
      mx22\p2 => p24;
      mx32\p2 => p25;
      mx33\p2 => p26;
      mx43\p2 => p27;
      my11\p2 => p28;
      my12\p2 => p29;
      my13\p2 => p210;
      my21\p2 => p211;
      my22\p2 => p212;
      my32\p2 => p213;
      my33\p2 => p214;
      my43\p2 => p215;
      theta1\p => mx11\p1;
      theta1\p => mx21\p1;
      theta1\p => my11\p1;
      theta1\p => my21\p1;
      theta1\p => ZeroJunction6\p;
      theta2\p => mx22\p1;
      theta2\p => mx32\p1;
      theta2\p => my12\p1;
      theta2\p => my22\p1;
      theta2\p => my32\p1;
      theta2\p => ZeroJunction7\p;
      theta2\p =>| J2\p user;
      theta2\p |=> mx12\p1 user;
      theta3\p => mx33\p1;
      theta3\p => mx43\p1;
      theta3\p => my13\p1;
      theta3\p => my33\p1;
      theta3\p => my43\p1;
      theta3\p => ZeroJunction\p;
      theta3\p =>| J3\p user;
      theta3\p |=> mx13\p1 user;
      ZeroJunction\p => control3\phi3;
      ZeroJunction\p => pse4;
      ZeroJunction6\p => control1\phi1;
      ZeroJunction6\p => theta2\p;
      ZeroJunction7\p => control2\phi2;
      ZeroJunction7\p => theta3\p;
     end;
    implementation_end;
   Submodel2 -104 192
    description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
    type Submodel
     ports
      power in p;
      power in p1;
      power in p2;
    end;
    implementation bg
     submodels
      MX1 220 78
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 220 78 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;
implementation_end;
      MX2 220 190
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 220 190 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;
implementation_end;
      MX3 220 294
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 220 294 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;implementation_end;
      plug p 608 240;
      plug p1 624 336;
      plug p2 595 134;
      Submodel1 384 64
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p => C\p;
         OneJunction\p |=> R\p user;
         p => OneJunction\p;
        end;
       implementation_end;
      Submodel2 416 184
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      Submodel3 408 280
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;


implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      x1 224 136
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 224 136 color 0 18 bold;
       end;
       implementation eq
variables
	real global dx1;
	real global x1;
	real global x11,x22,q11;
	
parameters
	real initial = -0.56;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dx1=flow;
	x1= int(dx1,initial);
	x11=x1-(l*cos(q11));
	x22=x1+(l*cos(q11));implementation_end;
      x2 220 238
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 220 238 color 0 18 bold;
       end;
       implementation eq
variables
	real global dx2;
	real global x2;
	real global q22,x33;
	
parameters
	real initial = -0.42;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dx2=flow;
	x2= int(dx2,initial);
	x33=x2+(l*cos(q22));implementation_end;
      x3 220 334
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 220 334 color 0 18 bold;
       end;
       implementation eq
variables
	real global dx3;
	real global x3;
	real global x44,q33;
	
parameters
	real initial = -0.28;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dx3=flow;
	x3= int(dx3,initial);
	x44=x3+(l*cos(q33));implementation_end;
      ZeroJunction1 392 136
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 392 136 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction2 408 240
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 408 240 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction3 408 336
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 408 336 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      p |=> ZeroJunction2\p user;
      p1 |=> ZeroJunction3\p user;
      p2 => ZeroJunction1\p;
      x1\p =>| MX1\p user;
      x2\p =>| MX2\p user;
      x3\p =>| MX3\p user;
      ZeroJunction1\p =>| x1\p user;
      ZeroJunction1\p |=> Submodel1\p user;
      ZeroJunction2\p =>| x2\p user;
      ZeroJunction2\p |=> Submodel2\p user;
      ZeroJunction3\p =>| x3\p user;
      ZeroJunction3\p |=> Submodel3\p user;
     end;
    implementation_end;
   Submodel3 1608 136
    description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
    type Submodel
     ports
      power in p;
      power in p1;
      power in p2;
    end;
    icon bg bottom
     figures
      rectangle 1568 120 1648 152 color 0 fill 15132390;
      text 'name' 1608 136 color 0 16;
    end;
    implementation bg
     submodels
      MY1 552 56
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 552 56 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;implementation_end;
      MY2 554 169
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 554 169 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;
implementation_end;
      MY3 554 297
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 554 297 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;implementation_end;
      plug p 352 216;
      plug p1 352 344;
      plug p2 352 120;
      Submodel1 440 160
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      Submodel2 440 280
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      Submodel3 448 64
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      y1 552 120
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 552 120 color 0 18 bold;
       end;
       implementation eq
variables
	real global dy1;
	real global y1;
	real global y11,y22,q11;
	
parameters
	real initial = -0.5;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dy1=flow;
	y1= int(dy1,initial);
	y11=y1-(l*sin(q11));
	y22=y1+(l*sin(q11));implementation_end;
      y2 554 217
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 554 217 color 0 18 bold;
       end;
       implementation eq
variables
	real global dy2;
	real global y2;
	real global y33,q22;
	
	
parameters
	real initial = -0.5;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dy2=flow;
	y2= int(dy2,initial);
	y33=y2+(l*sin(q22));implementation_end;
      y3 554 345
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 554 345 color 0 18 bold;
       end;
       implementation eq
variables
	real global dy3;
	real global y3;
	real global y44,q33;
	
parameters
	real initial = -0.5;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dy3=flow;
	y3= int(dy3,initial);
	y44=y3+(l*sin(q33));implementation_end;
      ZeroJunction1 448 120
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 448 120 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction2 440 216
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 440 216 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction3 440 344
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 440 344 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      p => ZeroJunction2\p;
      p1 => ZeroJunction3\p;
      p2 => ZeroJunction1\p;
      y1\p =>| MY1\p user;
      y2\p =>| MY2\p user;
      y3\p =>| MY3\p user;
      ZeroJunction1\p =>| y1\p user;
      ZeroJunction1\p |=> Submodel3\p user;
      ZeroJunction2\p =>| y2\p user;
      ZeroJunction2\p |=> Submodel1\p user;
      ZeroJunction3\p =>| y3\p user;
      ZeroJunction3\p |=> Submodel2\p user;
     end;
    implementation_end;
   Submodel4 808 488
    description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
    type Submodel
     ports
      power out py16;
      power out p14;
      power out p15;
      power out p16;
      power out p44;
      power out p55;
      power out p65;
      power out p66;
      power out py14;
      power out py15;
      power out py44;
      power out py55;
      power out py65;
      power out py66;
      power out p54;
      power out py54;
      power in pse4;
      power out pse6;
      power out py76;
      power out p76;
    end;
    implementation bg
     submodels
      control4 208 80
       description '<Information><Description><Version>4.7</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type Submodel
        ports
         power in phi2;
       end;
       implementation bg
        submodels
         C 184 112
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 184 112 color 0 18 bold;
          end;
          implementation eq
parameters
	real c = 0;
equations
	state = int(p.f);
	p.e = state * c;
implementation_end;
         Delay 632 256
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Delay-Time.emx</LibraryPath>
  <TimeStamp>2007-12-6 15:29:52</TimeStamp>
</Description>';
          type 'Delay-Time'
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 616 240 648 272 color 0 fill 15132390;
            line 620.5 246.4 620.5 265.6 color 0;
            line 646.1 256 617.3 256 color 0;
            spline 620.8 249.8 625.8 249.3 628.8 254.4 631.7 260.3 635.9 262.6 color 16711680;
            spline 631.5 249.3 636.3 249.3 638.9 253.3 641.6 258.7 646.4 262.1 color 16711680;
            group
             line 636.8 251.9 636.8 253.3 color 16711680;
             group
              line 636.8 253.3 636.8 251.9 color 16711680;
              line 629.5 252.7 636.8 252.7 color 16711680;
             end;
            end;
          end;
          implementation eq
parameters
	real delay = 0.1 {s};	// time delay (s)
	real initial = 0;		// initial value
variables
	real delayOutput;
equations
	delayOutput =  tdelay (input,delay);
	if (time <= delay) then
		output = initial;
	else
		output = delayOutput;
	end;
       implementation_end;
         Gain1 480 288
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 464.1 272 495.9 304 color 0 fill 15132390;
            text 'K' 480 288 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 0.5;		// gain
equations
	output = K * input;
    implementation_end;
         Gain2 664 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 648.1 168 679.9 200 color 0 fill 15132390;
            text 'K' 664 184 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 5;		// gain
equations
	output = K * input;
    implementation_end;
         Integrate 256 256
          description '<Information>
 <Description>
    <Version>4.3</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
  <TimeStamp>2013-3-8 14:47:42</TimeStamp>
</Description>
</Information>';
          type Integrate
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 240 240 272 272 color 0 fill 15132390;
            text '∫' 256 256.3 color 16711680 'Lucida Sans' 21 italic;
          end;
          implementation eq
parameters
	real initial = 0.35;		// initial value
equations
	output = int (input, initial);
     implementation_end;
         MSe1 184 176
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:12:33</TimeStamp>
</Description>
</Information>';
          type MSe
           ports
            power out p;
            signal in effort;
           restrictions
            causality fixed out p;
          end;
          icon bg bottom
           figures
            text 'MSe' 184 176 color 0 18 bold;
          end;
          implementation eq
variables
	real flow;
equations
	p.e = effort;
	flow = p.f;
implementation_end;
         MSf2 704 184
          description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MSf.emx</LibraryPath><TimeStamp>2011-11-29 16:14:18</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 704 184 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         MSf3 480 408
          description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MSf.emx</LibraryPath><TimeStamp>2011-11-29 16:14:18</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 480 408 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         plug phi2 352 176;
         OneJunction 256 176
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 256 176 color 0 18 bold;
          end;
          implementation eq
variables
	real global dphi4;
	real global phi4;
	
parameters
	real initial = 0.35;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dphi4=flow;
	phi4= int(dphi4,initial);implementation_end;
         OneJunction1 344 304
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 344 304 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         OneJunction2 784 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 784 184 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global  x2j4;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x2j4=flow;
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         OneJunction3 600 408
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 600 408 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global x1j4;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x1j4=flow;
	
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         PlusMinus 344 256
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 336 248 352 264 color 0 fill 16777215;
          end;
          implementation eq
variables
real global e4,ISE4;
equations
    output = sum (collect (plus)) - sum (collect (minus));
    e4=output;
ISE4= int(e4 .^ 2);implementation_end;
         PlusMinus1 632 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 624 176 640 192 color 0 fill 16777215;
          end;
          implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
         Pulse1 96 176
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Sources\SignalGenerator-Pulse.emx</LibraryPath>
  <TimeStamp>2007-9-27 16:1:38</TimeStamp>
</Description>';
          type 'SignalGenerator-Pulse'
           ports
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 80.1 160 111.9 192 color 0 fill 15132390;
            line 91.7 174.4 97.4 174.4 color 16711680 width 2;
            line 83 186.2 109 186.2 color 0;
            line 86 186.1 91.6 186.1 91.6 174.5 color 16711680 width 2;
            line 86 168.6 86 189 color 0;
            line 106.2 186.2 97.4 186.1 97.4 174.5 color 16711680 width 2;
          end;
          implementation eq
parameters
	real global start_time ;
	real global stop_time;
	real global amplitude ;
variables
	boolean hidden change;
	real global distb4;
equations
	"calculate at least at the start and stop time"
	change = timeevent (start_time) or timeevent (stop_time);

	"calculate the block signal"
	output = amplitude * (step (start_time) - step (stop_time));
distb4=output;implementation_end;
         R 320 120
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 320 120 color 0 18 bold;
          end;
          implementation eq
parameters
	real r = 0;
equations
	p.e = r * p.f;
implementation_end;
         Se1 256 112
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Se.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:36:49</TimeStamp>
</Description>
</Information>';
          type Se
           ports
            power out p;
           restrictions
            causality fixed out p;
          end;
          icon bg top
           figures
            text 'Se' 256 112 color 0 18 bold;
          end;
          implementation eq
parameters
real a1= 7.8764477569527; 
real a2= 17.908572376772; 
real b1= 2.3284105640534; 
real b2= 0.8349476273608;
real L1= 819.69153870378; 
real L2= 18180.398891237;
real global S4;

variables
	real flow;
	real global x1j4,x2j4;
	real P1,P2,t1,t2;
	real gamma1L, gamma1u4, gamma2L, gamma2u4, gamma1, gamma2;
	real global u4, q1, q2, q3;
equations
	P1=L1/2; 
	P2=L2/2;
	t1=P1/(2*L1); 
	t2=P2/(2*L2);
	
//if ((q1>=-0.785 and q1<=0.785) and (q2>=-0.785 and q2<=0.785) and (q3>=-0.785 and q3<=0.785)) then
	
if ((x1j4>=(L1-P1)) and (x1j4<=(L1+P1)) and (x2j4>=(-L2-P2)) and (x2j4<=(-L2+P2))) then // region 1 and 8
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u4=(-L2*a1*x1j4+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             gamma2u4=(-L2*b1*x1j4+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
         
         else if ((x1j4>=(-L1-P1)) and (x1j4<=(-L1+P1)) and (x2j4>=(-L2-P2)) and (x2j4<=(-L2+P2)))  then // region 2 and 3
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u4=(L2*a2*x1j4+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             gamma2u4=(L2*b2*x1j4+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
             
         else if ((x1j4>=(-L1-P1)) and (x1j4<=(-L1+P1)) and (x2j4>=(L2-P2)) and (x2j4<=(L2+P2))) then // region 4 and 5
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u4=(L2*a1*x1j4+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             gamma2u4=(L2*b1*x1j4+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             
            u4=gamma1*x1j4+gamma2*x2j4;
             
         else if ((x1j4>=(L1-P1)) and (x1j4<=(L1+P1)) and (x2j4>=(L2-P2)) and (x2j4<=(L2+P2))) then // region 6 and 7
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u4=(-L2*a2*x1j4+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             gamma2u4=(-L2*b2*x1j4+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
             
         else if ((x1j4>=0) and (x1j4<=(L1-P1)) and (x2j4>=(-L2-P2)) and (x2j4<=(-L2+P2)) and x2j4>=((-L2/L1)*x1j4)-((L2/L1)*P1+P2)) then // region 9
             gamma1L=(L2*(-a1+a2)*x1j4+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j4+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u4=(-L2*a1*x1j4+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             gamma2u4=(-L2*b1*x1j4+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;

         else if ((x1j4>=(-L1+P1)) and (x1j4<=0) and (x2j4>=(-L2-P2)) and (x2j4<=(-L2+P2)) and x2j4>=((L2/L1)*x1j4)-((L2/L1)*P1+P2)) then // region 10
             gamma1L=(L2*(-a1+a2)*x1j4+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j4+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u4=(L2*a2*x1j4+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             gamma2u4=(L2*b2*x1j4+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
             
         else if ((x1j4>=(-L1+P1)) and (x1j4<=(L1-P1)) and (x2j4>=(-L2-P2)) and (x2j4<=(-L2+P2)) and x2j4<=((-L2/L1)*x1j4)-((L2/L1)*P1+P2) and x2j4<=((L2/L1)*x1j4)-((L2/L1)*P1+P2)) then // region 17
             gamma1L=(L2*(-a1+a2)*x1j4+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j4+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u4=(L2*(-a1+a2)*x1j4+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j4));
             gamma2u4=(L2*(-b1+b2)*x1j4+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j4));
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
             
         else if ((x1j4>=(-L1+P1)) and (x1j4<=0) and (x2j4>=(L2-P2)) and (x2j4<=(L2+P2)) and x2j4<=((-L2/L1)*x1j4)+((L2/L1)*P1+P2)) then  // region 13
             gamma1L=(L2*(a1-a2)*x1j4+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j4+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u4=(L2*a1*x1j4+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             gamma2u4=(L2*b1*x1j4+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             
            gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
             
         else if ((x1j4>=0) and (x1j4<=(L1-P1)) and (x2j4>=(L2-P2)) and (x2j4<=(L2+P2)) and x2j4<=((L2/L1)*x1j4)+((L2/L1)*P1+P2)) then // region 14
             gamma1L=(L2*(a1-a2)*x1j4+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j4+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u4=(-L2*a2*x1j4+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             gamma2u4=(-L2*b2*x1j4+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
             
         else if ((x1j4>=(-L1+P1)) and (x1j4<=(L1-P1)) and (x2j4>=(L2-P2)) and (x2j4<=(L2+P2)) and x2j4>=(((-L2/L1)*x1j4)+((L2/L1)*P1+P2)) and x2j4>=(((L2/L1)*x1j4)+((L2/L1)*P1+P2))) then // region 19
             gamma1L=(L2*(a1-a2)*x1j4+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j4+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u4=(L2*(a1-a2)*x1j4+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j4));
             gamma2u4=(L2*(b1-b2)*x1j4+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j4));
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
             
         else if ((x1j4>=(-L1-P1)) and (x1j4<=(-L1+P1)) and (x2j4>=(-L2+P2)) and (x2j4<=0) and x2j4<=((L2/L1)*x1j4)+((L2/L1)*P1+P2)) then // region 11
             gamma1L=(L1*(-a1+a2)*x2j4+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j4+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u4=(L2*a2*x1j4+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             gamma2u4=(L2*b2*x1j4+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
             
        else if ((x1j4>=(-L1-P1)) and (x1j4<=(-L1+P1)) and (x2j4>=0) and (x2j4<=(L2-P2)) and x2j4>=((-L2/L1)*x1j4)-((L2/L1)*P1+P2)) then // region 12
             gamma1L=(L1*(-a1+a2)*x2j4+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j4+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u4=(L2*a1*x1j4+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             gamma2u4=(L2*b1*x1j4+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
             
       else if ((x1j4>=(-L1-P1)) and (x1j4<=(-L1+P1)) and (x2j4>=(-L2+P2)) and (x2j4<=(L2-P2)) and x2j4<=((-L2/L1)*x1j4)-((L2/L1)*P1+P2) and x2j4>=((L2/L1)*x1j4)+((L2/L1)*P1+P2)) then // region 18
             gamma1L=(L1*(-a1+a2)*x2j4+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j4+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u4=(L2*(a1+a2)*x1j4+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j4));
             gamma2u4=(L2*(b1+b2)*x1j4+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j4));
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
             
         else if ((x1j4>=(L1-P1)) and (x1j4<=(L1+P1)) and (x2j4>=(-L2+P2)) and  (x2j4<=(L2-P2)) and x2j4>=((L2/L1)*x1j4)-((L2/L1)*P1+P2)) then // region 15 
             gamma1L=(L1*(a1-a2)*x2j4+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j4+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u4=(-L2*a2*x1j4+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             gamma2u4=(-L2*b2*x1j4+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             
           gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
              
         else if ((x1j4>=(L1-P1)) and (x1j4<=(L1+P1)) and (x2j4>=(-L2+P2)) and (x2j4<=(L2-P2)) and x2j4<=(-(L2/L1)*x1j4)+((L2/L1)*P1+P2)) then // region 16
             gamma1L=(L1*(a1-a2)*x2j4+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j4+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u4=(-L2*a1*x1j4+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             gamma2u4=(-L2*b1*x1j4+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
              
         else if ((x1j4>=(L1-P1)) and (x1j4<=(L1+P1)) and (x2j4>=(-L2+P2)) and (x2j4<=(L2-P2)) and x2j4>=(-(L2/L1)*x1j4)+((L2/L1)*P1+P2) and x2j4<=((L2/L1)*x1j4)-((L2/L1)*P1+P2)) then // region 20
             gamma1L=(L1*(a1-a2)*x2j4+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j4+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u4=(L2*(-a1-a2)*x1j4+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j4));
             gamma2u4=(L2*(-b1-b2)*x1j4+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j4));
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
              
	else if (x2j4>=((-L2/L1)*x1j4)-((L2/L1)*P1+P2) and x2j4<=((L2/L1)*x1j4)-((L2/L1)*P1+P2) and x2j4<=(-(L2+P2/L1+P1)*x1j4) and x2j4>=(-L2+P2)) then //%region 21
             gamma1L=(L2*(-a1+a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j4)/(2*(L1*x2j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j4)/(2*(L1*x2j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(-L2*a1*x1j4+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             gamma2u4=(-L2*b1*x1j4+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
             
         else if (x2j4<=((-L2/L1)*x1j4)-((L2/L1)*P1+P2) and x2j4>=((L2/L1)*x1j4)-((L2/L1)*P1+P2) and x2j4<=((L2+P2/L1+P1)*x1j4) and x2j4>=(-L2+P2)) then //%region 22
             gamma1L=(L2*(-a1+a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j4)/(2*(L1*x2j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j4)/(2*(L1*x2j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(L2*a2*x1j4+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             gamma2u4=(L2*b2*x1j4+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
                          
            u4=gamma1*x1j4+gamma2*x2j4;
                  
         else if (x2j4<=((-L2/L1)*x1j4)-((L2/L1)*P1+P2) and x2j4<=((L2/L1)*x1j4)-((L2/L1)*P1+P2) and x2j4>=(-L2+P2)) then //%region 29
             gamma1L=(L2*(-a1+a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j4)/(2*(L1*x2j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j4)/(2*(L1*x2j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(L2*(-a1+a2)*x1j4+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j4));
             gamma2u4=(L2*(-b1+b2)*x1j4+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j4));
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
             
        else if (x2j4<=((-L2/L1)*x1j4)-((L2/L1)*P1+P2) and x2j4<=((L2/L1)*x1j4)+((L2/L1)*P1+P2) and x2j4>=((L2+P2/L1+P1)*x1j4) and x1j4>=(-L1+P1) and x2j4>=(-L2+P2)) then //%region 23
             gamma1L=(L2*(a1+a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j4)/(2*(L2*x1j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j4)/(2*(L2*x1j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(L2*a2*x1j4+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             gamma2u4=(L2*b1*x1j4+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
            
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
      
         else if (x2j4>=((-L2/L1)*x1j4)-((L2/L1)*P1+P2) and x2j4>=((L2/L1)*x1j4)+((L2/L1)*P1+P2) and x2j4<=(-(L2+P2/L1+P1)*x1j4) and x1j4>=(-L1+P1) and x2j4<=(L2-P2)) then //%region 24
             gamma1L=(L2*(a1+a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j4)/(2*(L2*x1j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j4)/(2*(L2*x1j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(L2*a1*x1j4+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             gamma2u4=(L2*b1*x1j4+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
            u4=gamma1*x1j4+gamma2*x2j4;
           
         else if (x2j4>=((L2/L1)*x1j4)+((L2/L1)*P1+P2) and x2j4<=((-L2/L1)*x1j4)-((L2/L1)*P1+P2) and x1j4>=(-L1+P1)) then //%region 30
             gamma1L=(L2*(a1+a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j4)/(2*(L2*x1j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j4)/(2*(L2*x1j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(L2*(a1+a2)*x1j4+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j4));
             gamma2u4=(L2*(b1+b2)*x1j4+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j4));
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
                
        else if (x2j4>=((L2/L1)*x1j4)+((L2/L1)*P1+P2) and x2j4<=(-(L2/L1)*x1j4)+((L2/L1)*P1+P2) and x2j4>=(-(L2+P2/L1+P1)*x1j4) and x2j4<=(L2-P2) and x1j4>=(-L1+P1)) then //%region 25
             gamma1L=(L2*(a1-a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j4)/(2*(-L1*x2j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j4)/(2*(-L1*x2j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(L2*a1*x1j4+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             gamma2u4=(L2*b1*x1j4+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j4)/(L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
             
         else if (x2j4<=((L2/L1)*x1j4)+((L2/L1)*P1+P2) and x2j4>=(-(L2/L1)*x1j4)+((L2/L1)*P1+P2) and x2j4>=((L2+P2/L1+P1)*x1j4) and x2j4<=(L2-P2)) then //%region 26
             gamma1L=(L2*(a1-a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j4)/(2*(-L1*x2j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j4)/(2*(-L1*x2j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(-L2*a2*x1j4+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             gamma2u4=(-L2*b2*x1j4+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
                  
         else if (x2j4>=((-L2/L1)*x1j4)+((L2/L1)*P1+P2) and x2j4>=((L2/L1)*x1j4)+((L2/L1)*P1+P2) and x2j4<=(L2-P2)) then //%region 31
             gamma1L=(L2*(a1-a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j4)/(2*(-L1*x2j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j4)/(2*(-L1*x2j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(L2*(a1-a2)*x1j4+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j4));
             gamma2u4=(L2*(b1-b2)*x1j4+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j4));
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
           
            
         
        else if (x2j4>=((L2/L1)*x1j4)-((L2/L1)*P1+P2) and x2j4>=((-L2/L1)*x1j4)+((L2/L1)*P1+P2) and x2j4<=((L2+P2/L1+P1)*x1j4) and x1j4<=(L1-P1) and x2j4<=(L2-P2)) then //%region 27
             gamma1L=(L2*(-a1-a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j4)/(2*(-L2*x1j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j4)/(2*(-L2*x1j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(-L2*a2*x1j4+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             gamma2u4=(-L2*b2*x1j4+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)-L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
     
         else if (x2j4<=((L2/L1)*x1j4)+((L2/L1)*P1+P2) and x2j4<=((L2/L1)*x1j4)-((L2/L1)*P1+P2) and x2j4>=(-(L2+P2/L1+P1)*x1j4) and x1j4<=(L1-P1) and x2j4>=(-L2+P2)) then //%region 28
             gamma1L=(L2*(-a1-a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j4)/(2*(-L2*x1j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j4)/(2*(-L2*x1j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(-L2*a1*x1j4+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             gamma2u4=(-L2*b1*x1j4+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j4)/(-L2*x1j4+2*L1*L2*(2+t1+t2)+L1*x2j4);
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
           
         else if (x2j4<=((L2/L1)*x1j4)-((L2/L1)*P1+P2) and x2j4>=((-L2/L1)*x1j4)+((L2/L1)*P1+P2) and x1j4<=(L1-P1)) then //%region 32
             gamma1L=(L2*(-a1-a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j4)/(2*(-L2*x1j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j4)/(2*(-L2*x1j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(L2*(-a1-a2)*x1j4+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j4));
             gamma2u4=(L2*(-b1-b2)*x1j4+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j4)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j4));
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;  
             
             u4=gamma1*x1j4+gamma2*x2j4;
          
        else if (x2j4<=((L2+P2)/(L1+P1)*x1j4) and x2j4<=(-(L2+P2)/(L1+P1)*x1j4) and x2j4>=((-L2/L1)*x1j4)-((L2/L1)*P1+P2) and x2j4>=((L2/L1)*x1j4)-((L2/L1)*P1+P2)) then // %region 33
             gamma1L=(L2*(-a1+a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j4)/(2*(L1*x2j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j4)/(2*(L1*x2j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(a1+a2)/2;
             gamma2u4=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;   
             
             u4=gamma1*x1j4+gamma2*x2j4;
         
         else if (x2j4>=((L2+P2)/(L1+P1)*x1j4) and x2j4<=(-(L2+P2)/(L1+P1)*x1j4) and x2j4>=((-L2/L1)*x1j4)-((L2/L1)*P1+P2) and x2j4<=((L2/L1)*x1j4)+((L2/L1)*P1+P2)) then //%region 34
             gamma1L=(L2*(a1+a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j4)/(2*(L2*x1j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j4)/(2*(L2*x1j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(a1+a2)/2;
             gamma2u4=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
             
         else if (x2j4>=((L2+P2)/(L1+P1)*x1j4) and x2j4>=(-(L2+P2)/(L1+P1)*x1j4) and x2j4<=((-L2/L1)*x1j4)+((L2/L1)*P1+P2) and x2j4<=((L2/L1)*x1j4)+((L2/L1)*P1+P2)) then  //%region 35
             gamma1L=(L2*(a1-a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j4)/(2*(-L1*x2j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j4)/(2*(-L1*x2j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(a1+a2)/2;
             gamma2u4=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
         
         else if (x2j4<=((L2+P2)/(L1+P1)*x1j4) and x2j4>=(-(L2+P2)/(L1+P1)*x1j4) and x2j4<=((-L2/L1)*x1j4)+((L2/L1)*P1+P2) and x2j4>=((L2/L1)*x1j4)-((L2/L1)*P1+P2)) then //region 36
             gamma1L=(L2*(-a1-a2)*x1j4+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j4)/(2*(-L2*x1j4+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j4+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j4)/(2*(-L2*x1j4+2*L1*L2*(1-t1-t2)));
             
             gamma1u4=(a1+a2)/2;
             gamma2u4=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u4)/2;
             gamma2=(gamma2L+gamma2u4)/2;
             
             u4=gamma1*x1j4+gamma2*x2j4;
              
         else
            gamma1 = 0;
            gamma2 = 0;
            u4=gamma1*x1j4+gamma2*x2j4;
         end;  
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
  
//else
// u4=0
//	end;
	

	p.e = S4*u4;
	flow = p.f;
implementation_end;
         Sf 344 352
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Sf.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:38:03</TimeStamp>
</Description>
</Information>';
          type Sf
           ports
            power out p;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'Sf' 344 352 color 0 18 bold;
          end;
          implementation eq
parameters
	real global a1,a2,w1,w2,d,phi02,Kp,Kd;
	real initial = 0;
variables
	real global phir4;
	real global dphir4;
	real global dphi4,phi4;
	real effort;
	real global q2,q3;
	//real global n;
	//real global t2;
	//real global t3;
	
equations
	//t2=1;
	//t3=time;
	//if t2<=t3 and t2>0 then
				//n= floor (t3/t2);
				//t2=t3-(t2*n);
				//else
					//t2=t3;	
					//end;
	
	phir4=a1*sin((w1*time)+(3*d))+a2*sin((w2*time)+(3*d));

		
	dphir4=ddt(phir4,initial);
	//if -0.785<=phi2<=0.785 then //and -0.785<=q3<=0.785 then
	//p.e = Kp*(phir2-phi2)-Kd*(dphir2-dphi2);
	//else
		p.f=phir4;
		//end;
effort = p.e;
implementation_end;
         Splitter1 480 256
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [1];
            signal knot in input [1];
          end;
          icon bg ellipse
           figures
            ellipse 476.8 252.8 483.2 259.2 color -1 fill 0;
            ellipse 475.7 251.7 484.3 260.3 color -1;
           terminals
            input 480 256 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
        end;
        connections
         C\p <= OneJunction\p;
         Delay\input <- Splitter1\output;
         Delay\output -> PlusMinus1\minus;
         Gain1\output -> MSf3\flow;
         Gain2\output -> MSf2\flow;
         Integrate\output -> PlusMinus\minus;
         MSe1\p => OneJunction\p;
         MSf2\p => OneJunction2\p;
         MSf3\p => OneJunction3\p;
         OneJunction\flow -> Integrate\input;
         OneJunction1\flow -> PlusMinus\plus;
         phi2 => OneJunction\p;
         PlusMinus1\output -> Gain2\input;
         Pulse1\output -> MSe1\effort;
         R\p <= OneJunction\p;
         Se1\p => OneJunction\p;
         Sf\p => OneJunction1\p;
         Splitter1\input <- PlusMinus\output;
         Splitter1\output -> Gain1\input;
         Splitter1\output -> PlusMinus1\plus 480 184;
        end;
       implementation_end;
      control5 176 176
       description '<Information><Description><Version>4.7</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type Submodel
        ports
         power in phi2;
       end;
       implementation bg
        submodels
         C 200 120
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 200 120 color 0 18 bold;
          end;
          implementation eq
parameters
	real c = 0;
equations
	state = int(p.f);
	p.e = state * c;
implementation_end;
         Delay 632 256
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Delay-Time.emx</LibraryPath>
  <TimeStamp>2007-12-6 15:29:52</TimeStamp>
</Description>';
          type 'Delay-Time'
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 616 240 648 272 color 0 fill 15132390;
            line 620.5 246.4 620.5 265.6 color 0;
            line 646.1 256 617.3 256 color 0;
            spline 620.8 249.8 625.8 249.3 628.8 254.4 631.7 260.3 635.9 262.6 color 16711680;
            spline 631.5 249.3 636.3 249.3 638.9 253.3 641.6 258.7 646.4 262.1 color 16711680;
            group
             line 636.8 251.9 636.8 253.3 color 16711680;
             group
              line 636.8 253.3 636.8 251.9 color 16711680;
              line 629.5 252.7 636.8 252.7 color 16711680;
             end;
            end;
          end;
          implementation eq
parameters
	real delay = 0.1 {s};	// time delay (s)
	real initial = 0;		// initial value
variables
	real delayOutput;
equations
	delayOutput =  tdelay (input,delay);
	if (time <= delay) then
		output = initial;
	else
		output = delayOutput;
	end;
       implementation_end;
         Gain1 480 288
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 464.1 272 495.9 304 color 0 fill 15132390;
            text 'K' 480 288 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 0.1;		// gain
equations
	output = K * input;
    implementation_end;
         Gain2 664 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 648.1 168 679.9 200 color 0 fill 15132390;
            text 'K' 664 184 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 5;		// gain
equations
	output = K * input;
    implementation_end;
         Integrate 256 256
          description '<Information>
 <Description>
    <Version>4.3</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
  <TimeStamp>2013-3-8 14:47:42</TimeStamp>
</Description>
</Information>';
          type Integrate
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 240 240 272 272 color 0 fill 15132390;
            text '∫' 256 256.3 color 16711680 'Lucida Sans' 21 italic;
          end;
          implementation eq
parameters
	real initial = 0;		// initial value
equations
	output = int (input, initial);
     implementation_end;
         MSe1 199.9 177
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:12:33</TimeStamp>
</Description>
</Information>';
          type MSe
           ports
            power out p;
            signal in effort;
           restrictions
            causality fixed out p;
          end;
          icon bg bottom
           figures
            text 'MSe' 199.9 177 color 0 18 bold;
          end;
          implementation eq
variables
	real flow;
equations
	p.e = effort;
	flow = p.f;
implementation_end;
         MSf2 704 184
          description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MSf.emx</LibraryPath><TimeStamp>2011-11-29 16:14:18</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 704 184 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         MSf3 480 408
          description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MSf.emx</LibraryPath><TimeStamp>2011-11-29 16:14:18</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 480 408 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         plug phi2 352 176;
         OneJunction 256 176
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 256 176 color 0 18 bold;
          end;
          implementation eq
variables
	real global dphi5;
	real global phi5;
	
parameters
	real initial = 0;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dphi5=flow;
	phi5= int(dphi5,initial);implementation_end;
         OneJunction1 344 304
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 344 304 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         OneJunction2 784 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 784 184 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global  x2j5;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x2j5=flow;
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         OneJunction3 600 408
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 600 408 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global x1j5;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x1j5=flow;
	
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         PlusMinus 344 256
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 336 248 352 264 color 0 fill 16777215;
          end;
          implementation eq
variables
real global e5,ISE5;
equations
    output = sum (collect (plus)) - sum (collect (minus));
    e5=output;
ISE5= int(e5 .^ 2);implementation_end;
         PlusMinus1 632 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 624 176 640 192 color 0 fill 16777215;
          end;
          implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
         Pulse1 119.9 177
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Sources\SignalGenerator-Pulse.emx</LibraryPath>
  <TimeStamp>2007-9-27 16:1:38</TimeStamp>
</Description>';
          type 'SignalGenerator-Pulse'
           ports
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 104 161 135.8 193 color 0 fill 15132390;
            line 115.6 175.4 121.3 175.4 color 16711680 width 2;
            line 106.9 187.2 132.9 187.2 color 0;
            line 109.9 187.1 115.5 187.1 115.5 175.5 color 16711680 width 2;
            line 109.9 169.6 109.9 190 color 0;
            line 130.1 187.2 121.3 187.1 121.3 175.5 color 16711680 width 2;
          end;
          implementation eq
parameters
	real global start_time ;
	real global stop_time;
	real global amplitude ;
variables
	boolean hidden change;
	real global distb5;
equations
	"calculate at least at the start and stop time"
	change = timeevent (start_time) or timeevent (stop_time);

	"calculate the block signal"
	output = amplitude * (step (start_time) - step (stop_time));
distb5=output;implementation_end;
         R 328 128
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 328 128 color 0 18 bold;
          end;
          implementation eq
parameters
	real r = 0;
equations
	p.e = r * p.f;
implementation_end;
         Se1 256 112
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Se.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:36:49</TimeStamp>
</Description>
</Information>';
          type Se
           ports
            power out p;
           restrictions
            causality fixed out p;
          end;
          icon bg top
           figures
            text 'Se' 256 112 color 0 18 bold;
          end;
          implementation eq
parameters
real a1= 21.584456136411; 
real a2= 14.984570995201; 
real b1= 1.0313359772235; 
real b2= 0.83422887579483;
real L1= 1988.1167904784; 
real L2= 18807.147201824;
real global S5;

variables
	real flow;
	real global x1j5,x2j5;
	real P1,P2,t1,t2;
	real gamma1L, gamma1u5, gamma2L, gamma2u5, gamma1, gamma2;
	real global u5, q1, q2, q3;
equations
	P1=L1/2; 
	P2=L2/2;
	t1=P1/(2*L1); 
	t2=P2/(2*L2);
	
//if ((q1>=-0.785 and q1<=0.785) and (q2>=-0.785 and q2<=0.785) and (q3>=-0.785 and q3<=0.785)) then
	
if ((x1j5>=(L1-P1)) and (x1j5<=(L1+P1)) and (x2j5>=(-L2-P2)) and (x2j5<=(-L2+P2))) then // region 1 and 8
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u5=(-L2*a1*x1j5+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             gamma2u5=(-L2*b1*x1j5+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
         
         else if ((x1j5>=(-L1-P1)) and (x1j5<=(-L1+P1)) and (x2j5>=(-L2-P2)) and (x2j5<=(-L2+P2)))  then // region 2 and 3
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u5=(L2*a2*x1j5+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             gamma2u5=(L2*b2*x1j5+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
             
         else if ((x1j5>=(-L1-P1)) and (x1j5<=(-L1+P1)) and (x2j5>=(L2-P2)) and (x2j5<=(L2+P2))) then // region 4 and 5
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u5=(L2*a1*x1j5+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             gamma2u5=(L2*b1*x1j5+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             
            u5=gamma1*x1j5+gamma2*x2j5;
             
         else if ((x1j5>=(L1-P1)) and (x1j5<=(L1+P1)) and (x2j5>=(L2-P2)) and (x2j5<=(L2+P2))) then // region 6 and 7
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u5=(-L2*a2*x1j5+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             gamma2u5=(-L2*b2*x1j5+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
             
         else if ((x1j5>=0) and (x1j5<=(L1-P1)) and (x2j5>=(-L2-P2)) and (x2j5<=(-L2+P2)) and x2j5>=((-L2/L1)*x1j5)-((L2/L1)*P1+P2)) then // region 9
             gamma1L=(L2*(-a1+a2)*x1j5+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j5+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u5=(-L2*a1*x1j5+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             gamma2u5=(-L2*b1*x1j5+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;

         else if ((x1j5>=(-L1+P1)) and (x1j5<=0) and (x2j5>=(-L2-P2)) and (x2j5<=(-L2+P2)) and x2j5>=((L2/L1)*x1j5)-((L2/L1)*P1+P2)) then // region 10
             gamma1L=(L2*(-a1+a2)*x1j5+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j5+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u5=(L2*a2*x1j5+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             gamma2u5=(L2*b2*x1j5+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
             
         else if ((x1j5>=(-L1+P1)) and (x1j5<=(L1-P1)) and (x2j5>=(-L2-P2)) and (x2j5<=(-L2+P2)) and x2j5<=((-L2/L1)*x1j5)-((L2/L1)*P1+P2) and x2j5<=((L2/L1)*x1j5)-((L2/L1)*P1+P2)) then // region 17
             gamma1L=(L2*(-a1+a2)*x1j5+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j5+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u5=(L2*(-a1+a2)*x1j5+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j5));
             gamma2u5=(L2*(-b1+b2)*x1j5+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j5));
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
             
         else if ((x1j5>=(-L1+P1)) and (x1j5<=0) and (x2j5>=(L2-P2)) and (x2j5<=(L2+P2)) and x2j5<=((-L2/L1)*x1j5)+((L2/L1)*P1+P2)) then  // region 13
             gamma1L=(L2*(a1-a2)*x1j5+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j5+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u5=(L2*a1*x1j5+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             gamma2u5=(L2*b1*x1j5+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             
            gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
             
         else if ((x1j5>=0) and (x1j5<=(L1-P1)) and (x2j5>=(L2-P2)) and (x2j5<=(L2+P2)) and x2j5<=((L2/L1)*x1j5)+((L2/L1)*P1+P2)) then // region 14
             gamma1L=(L2*(a1-a2)*x1j5+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j5+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u5=(-L2*a2*x1j5+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             gamma2u5=(-L2*b2*x1j5+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
             
         else if ((x1j5>=(-L1+P1)) and (x1j5<=(L1-P1)) and (x2j5>=(L2-P2)) and (x2j5<=(L2+P2)) and x2j5>=(((-L2/L1)*x1j5)+((L2/L1)*P1+P2)) and x2j5>=(((L2/L1)*x1j5)+((L2/L1)*P1+P2))) then // region 19
             gamma1L=(L2*(a1-a2)*x1j5+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j5+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u5=(L2*(a1-a2)*x1j5+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j5));
             gamma2u5=(L2*(b1-b2)*x1j5+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j5));
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
             
         else if ((x1j5>=(-L1-P1)) and (x1j5<=(-L1+P1)) and (x2j5>=(-L2+P2)) and (x2j5<=0) and x2j5<=((L2/L1)*x1j5)+((L2/L1)*P1+P2)) then // region 11
             gamma1L=(L1*(-a1+a2)*x2j5+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j5+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u5=(L2*a2*x1j5+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             gamma2u5=(L2*b2*x1j5+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
             
        else if ((x1j5>=(-L1-P1)) and (x1j5<=(-L1+P1)) and (x2j5>=0) and (x2j5<=(L2-P2)) and x2j5>=((-L2/L1)*x1j5)-((L2/L1)*P1+P2)) then // region 12
             gamma1L=(L1*(-a1+a2)*x2j5+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j5+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u5=(L2*a1*x1j5+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             gamma2u5=(L2*b1*x1j5+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
             
       else if ((x1j5>=(-L1-P1)) and (x1j5<=(-L1+P1)) and (x2j5>=(-L2+P2)) and (x2j5<=(L2-P2)) and x2j5<=((-L2/L1)*x1j5)-((L2/L1)*P1+P2) and x2j5>=((L2/L1)*x1j5)+((L2/L1)*P1+P2)) then // region 18
             gamma1L=(L1*(-a1+a2)*x2j5+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j5+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u5=(L2*(a1+a2)*x1j5+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j5));
             gamma2u5=(L2*(b1+b2)*x1j5+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j5));
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
             
         else if ((x1j5>=(L1-P1)) and (x1j5<=(L1+P1)) and (x2j5>=(-L2+P2)) and  (x2j5<=(L2-P2)) and x2j5>=((L2/L1)*x1j5)-((L2/L1)*P1+P2)) then // region 15 
             gamma1L=(L1*(a1-a2)*x2j5+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j5+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u5=(-L2*a2*x1j5+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             gamma2u5=(-L2*b2*x1j5+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             
           gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
              
         else if ((x1j5>=(L1-P1)) and (x1j5<=(L1+P1)) and (x2j5>=(-L2+P2)) and (x2j5<=(L2-P2)) and x2j5<=(-(L2/L1)*x1j5)+((L2/L1)*P1+P2)) then // region 16
             gamma1L=(L1*(a1-a2)*x2j5+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j5+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u5=(-L2*a1*x1j5+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             gamma2u5=(-L2*b1*x1j5+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
              
         else if ((x1j5>=(L1-P1)) and (x1j5<=(L1+P1)) and (x2j5>=(-L2+P2)) and (x2j5<=(L2-P2)) and x2j5>=(-(L2/L1)*x1j5)+((L2/L1)*P1+P2) and x2j5<=((L2/L1)*x1j5)-((L2/L1)*P1+P2)) then // region 20
             gamma1L=(L1*(a1-a2)*x2j5+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j5+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u5=(L2*(-a1-a2)*x1j5+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j5));
             gamma2u5=(L2*(-b1-b2)*x1j5+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j5));
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
              
	else if (x2j5>=((-L2/L1)*x1j5)-((L2/L1)*P1+P2) and x2j5<=((L2/L1)*x1j5)-((L2/L1)*P1+P2) and x2j5<=(-(L2+P2/L1+P1)*x1j5) and x2j5>=(-L2+P2)) then //%region 21
             gamma1L=(L2*(-a1+a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j5)/(2*(L1*x2j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j5)/(2*(L1*x2j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(-L2*a1*x1j5+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             gamma2u5=(-L2*b1*x1j5+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
             
         else if (x2j5<=((-L2/L1)*x1j5)-((L2/L1)*P1+P2) and x2j5>=((L2/L1)*x1j5)-((L2/L1)*P1+P2) and x2j5<=((L2+P2/L1+P1)*x1j5) and x2j5>=(-L2+P2)) then //%region 22
             gamma1L=(L2*(-a1+a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j5)/(2*(L1*x2j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j5)/(2*(L1*x2j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(L2*a2*x1j5+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             gamma2u5=(L2*b2*x1j5+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
                          
            u5=gamma1*x1j5+gamma2*x2j5;
                  
         else if (x2j5<=((-L2/L1)*x1j5)-((L2/L1)*P1+P2) and x2j5<=((L2/L1)*x1j5)-((L2/L1)*P1+P2) and x2j5>=(-L2+P2)) then //%region 29
             gamma1L=(L2*(-a1+a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j5)/(2*(L1*x2j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j5)/(2*(L1*x2j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(L2*(-a1+a2)*x1j5+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j5));
             gamma2u5=(L2*(-b1+b2)*x1j5+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j5));
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
             
        else if (x2j5<=((-L2/L1)*x1j5)-((L2/L1)*P1+P2) and x2j5<=((L2/L1)*x1j5)+((L2/L1)*P1+P2) and x2j5>=((L2+P2/L1+P1)*x1j5) and x1j5>=(-L1+P1) and x2j5>=(-L2+P2)) then //%region 23
             gamma1L=(L2*(a1+a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j5)/(2*(L2*x1j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j5)/(2*(L2*x1j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(L2*a2*x1j5+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             gamma2u5=(L2*b1*x1j5+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
            
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
      
         else if (x2j5>=((-L2/L1)*x1j5)-((L2/L1)*P1+P2) and x2j5>=((L2/L1)*x1j5)+((L2/L1)*P1+P2) and x2j5<=(-(L2+P2/L1+P1)*x1j5) and x1j5>=(-L1+P1) and x2j5<=(L2-P2)) then //%region 24
             gamma1L=(L2*(a1+a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j5)/(2*(L2*x1j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j5)/(2*(L2*x1j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(L2*a1*x1j5+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             gamma2u5=(L2*b1*x1j5+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
            u5=gamma1*x1j5+gamma2*x2j5;
           
         else if (x2j5>=((L2/L1)*x1j5)+((L2/L1)*P1+P2) and x2j5<=((-L2/L1)*x1j5)-((L2/L1)*P1+P2) and x1j5>=(-L1+P1)) then //%region 30
             gamma1L=(L2*(a1+a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j5)/(2*(L2*x1j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j5)/(2*(L2*x1j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(L2*(a1+a2)*x1j5+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j5));
             gamma2u5=(L2*(b1+b2)*x1j5+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j5));
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
                
        else if (x2j5>=((L2/L1)*x1j5)+((L2/L1)*P1+P2) and x2j5<=(-(L2/L1)*x1j5)+((L2/L1)*P1+P2) and x2j5>=(-(L2+P2/L1+P1)*x1j5) and x2j5<=(L2-P2) and x1j5>=(-L1+P1)) then //%region 25
             gamma1L=(L2*(a1-a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j5)/(2*(-L1*x2j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j5)/(2*(-L1*x2j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(L2*a1*x1j5+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             gamma2u5=(L2*b1*x1j5+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j5)/(L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
             
         else if (x2j5<=((L2/L1)*x1j5)+((L2/L1)*P1+P2) and x2j5>=(-(L2/L1)*x1j5)+((L2/L1)*P1+P2) and x2j5>=((L2+P2/L1+P1)*x1j5) and x2j5<=(L2-P2)) then //%region 26
             gamma1L=(L2*(a1-a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j5)/(2*(-L1*x2j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j5)/(2*(-L1*x2j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(-L2*a2*x1j5+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             gamma2u5=(-L2*b2*x1j5+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
                  
         else if (x2j5>=((-L2/L1)*x1j5)+((L2/L1)*P1+P2) and x2j5>=((L2/L1)*x1j5)+((L2/L1)*P1+P2) and x2j5<=(L2-P2)) then //%region 31
             gamma1L=(L2*(a1-a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j5)/(2*(-L1*x2j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j5)/(2*(-L1*x2j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(L2*(a1-a2)*x1j5+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j5));
             gamma2u5=(L2*(b1-b2)*x1j5+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j5));
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
           
            
         
        else if (x2j5>=((L2/L1)*x1j5)-((L2/L1)*P1+P2) and x2j5>=((-L2/L1)*x1j5)+((L2/L1)*P1+P2) and x2j5<=((L2+P2/L1+P1)*x1j5) and x1j5<=(L1-P1) and x2j5<=(L2-P2)) then //%region 27
             gamma1L=(L2*(-a1-a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j5)/(2*(-L2*x1j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j5)/(2*(-L2*x1j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(-L2*a2*x1j5+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             gamma2u5=(-L2*b2*x1j5+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)-L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
     
         else if (x2j5<=((L2/L1)*x1j5)+((L2/L1)*P1+P2) and x2j5<=((L2/L1)*x1j5)-((L2/L1)*P1+P2) and x2j5>=(-(L2+P2/L1+P1)*x1j5) and x1j5<=(L1-P1) and x2j5>=(-L2+P2)) then //%region 28
             gamma1L=(L2*(-a1-a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j5)/(2*(-L2*x1j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j5)/(2*(-L2*x1j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(-L2*a1*x1j5+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             gamma2u5=(-L2*b1*x1j5+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j5)/(-L2*x1j5+2*L1*L2*(2+t1+t2)+L1*x2j5);
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
           
         else if (x2j5<=((L2/L1)*x1j5)-((L2/L1)*P1+P2) and x2j5>=((-L2/L1)*x1j5)+((L2/L1)*P1+P2) and x1j5<=(L1-P1)) then //%region 32
             gamma1L=(L2*(-a1-a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j5)/(2*(-L2*x1j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j5)/(2*(-L2*x1j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(L2*(-a1-a2)*x1j5+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j5));
             gamma2u5=(L2*(-b1-b2)*x1j5+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j5)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j5));
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;  
             
             u5=gamma1*x1j5+gamma2*x2j5;
          
        else if (x2j5<=((L2+P2)/(L1+P1)*x1j5) and x2j5<=(-(L2+P2)/(L1+P1)*x1j5) and x2j5>=((-L2/L1)*x1j5)-((L2/L1)*P1+P2) and x2j5>=((L2/L1)*x1j5)-((L2/L1)*P1+P2)) then // %region 33
             gamma1L=(L2*(-a1+a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j5)/(2*(L1*x2j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j5)/(2*(L1*x2j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(a1+a2)/2;
             gamma2u5=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;   
             
             u5=gamma1*x1j5+gamma2*x2j5;
         
         else if (x2j5>=((L2+P2)/(L1+P1)*x1j5) and x2j5<=(-(L2+P2)/(L1+P1)*x1j5) and x2j5>=((-L2/L1)*x1j5)-((L2/L1)*P1+P2) and x2j5<=((L2/L1)*x1j5)+((L2/L1)*P1+P2)) then //%region 34
             gamma1L=(L2*(a1+a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j5)/(2*(L2*x1j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j5)/(2*(L2*x1j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(a1+a2)/2;
             gamma2u5=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
             
         else if (x2j5>=((L2+P2)/(L1+P1)*x1j5) and x2j5>=(-(L2+P2)/(L1+P1)*x1j5) and x2j5<=((-L2/L1)*x1j5)+((L2/L1)*P1+P2) and x2j5<=((L2/L1)*x1j5)+((L2/L1)*P1+P2)) then  //%region 35
             gamma1L=(L2*(a1-a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j5)/(2*(-L1*x2j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j5)/(2*(-L1*x2j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(a1+a2)/2;
             gamma2u5=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
         
         else if (x2j5<=((L2+P2)/(L1+P1)*x1j5) and x2j5>=(-(L2+P2)/(L1+P1)*x1j5) and x2j5<=((-L2/L1)*x1j5)+((L2/L1)*P1+P2) and x2j5>=((L2/L1)*x1j5)-((L2/L1)*P1+P2)) then //region 36
             gamma1L=(L2*(-a1-a2)*x1j5+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j5)/(2*(-L2*x1j5+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j5+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j5)/(2*(-L2*x1j5+2*L1*L2*(1-t1-t2)));
             
             gamma1u5=(a1+a2)/2;
             gamma2u5=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u5)/2;
             gamma2=(gamma2L+gamma2u5)/2;
             
             u5=gamma1*x1j5+gamma2*x2j5;
              
         else
            gamma1 = 0;
            gamma2 = 0;
            u5=gamma1*x1j5+gamma2*x2j5;
         end;  
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
  
//else
// u5=0
//	end;
	

	p.e = S5*u5;
	flow = p.f;
implementation_end;
         Sf 344 352
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Sf.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:38:03</TimeStamp>
</Description>
</Information>';
          type Sf
           ports
            power out p;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'Sf' 344 352 color 0 18 bold;
          end;
          implementation eq
parameters
	real global a1,a2,w1,w2,d,phi02,Kp,Kd;
	real initial = 0;
variables
	real global phir5;
	real global dphir5;
	real global dphi5,phi5;
	real effort;
	real global q2,q3;
	//real global n;
	//real global t2;
	//real global t3;
	
equations
	//t2=1;
	//t3=time;
	//if t2<=t3 and t2>0 then
				//n= floor (t3/t2);
				//t2=t3-(t2*n);
				//else
					//t2=t3;	
					//end;
	
	phir5=a1*sin((w1*time)+(4*d))+a2*sin((w2*time)+(4*d));

		
	dphir5=ddt(phir5,initial);
	//if -0.785<=phi2<=0.785 then //and -0.785<=q3<=0.785 then
	//p.e = Kp*(phir2-phi2)-Kd*(dphir2-dphi2);
	//else
		p.f=phir5;
		//end;
effort = p.e;
implementation_end;
         Splitter1 480 256
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [1];
            signal knot in input [1];
          end;
          icon bg ellipse
           figures
            ellipse 476.8 252.8 483.2 259.2 color -1 fill 0;
            ellipse 475.7 251.7 484.3 260.3 color -1;
           terminals
            input 480 256 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
        end;
        connections
         C\p <= OneJunction\p;
         Delay\input <- Splitter1\output;
         Delay\output -> PlusMinus1\minus;
         Gain1\output -> MSf3\flow;
         Gain2\output -> MSf2\flow;
         Integrate\output -> PlusMinus\minus;
         MSe1\p => OneJunction\p;
         MSf2\p => OneJunction2\p;
         MSf3\p => OneJunction3\p;
         OneJunction\flow -> Integrate\input;
         OneJunction1\flow -> PlusMinus\plus;
         phi2 => OneJunction\p;
         PlusMinus1\output -> Gain2\input;
         Pulse1\output -> MSe1\effort;
         R\p <= OneJunction\p;
         Se1\p => OneJunction\p;
         Sf\p => OneJunction1\p;
         Splitter1\input <- PlusMinus\output;
         Splitter1\output -> Gain1\input;
         Splitter1\output -> PlusMinus1\plus 480 184;
        end;
       implementation_end;
      control6 152 280
       description '<Information><Description><Version>4.7</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type Submodel
        ports
         power in phi2;
       end;
       implementation bg
        submodels
         C 192 120
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 192 120 color 0 18 bold;
          end;
          implementation eq
parameters
	real c = 0;
equations
	state = int(p.f);
	p.e = state * c;
implementation_end;
         Delay 632 256
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Delay-Time.emx</LibraryPath>
  <TimeStamp>2007-12-6 15:29:52</TimeStamp>
</Description>';
          type 'Delay-Time'
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 616 240 648 272 color 0 fill 15132390;
            line 620.5 246.4 620.5 265.6 color 0;
            line 646.1 256 617.3 256 color 0;
            spline 620.8 249.8 625.8 249.3 628.8 254.4 631.7 260.3 635.9 262.6 color 16711680;
            spline 631.5 249.3 636.3 249.3 638.9 253.3 641.6 258.7 646.4 262.1 color 16711680;
            group
             line 636.8 251.9 636.8 253.3 color 16711680;
             group
              line 636.8 253.3 636.8 251.9 color 16711680;
              line 629.5 252.7 636.8 252.7 color 16711680;
             end;
            end;
          end;
          implementation eq
parameters
	real delay = 0.1 {s};	// time delay (s)
	real initial = 0;		// initial value
variables
	real delayOutput;
equations
	delayOutput =  tdelay (input,delay);
	if (time <= delay) then
		output = initial;
	else
		output = delayOutput;
	end;
       implementation_end;
         Gain1 480 288
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 464.1 272 495.9 304 color 0 fill 15132390;
            text 'K' 480 288 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 0.5;		// gain
equations
	output = K * input;
    implementation_end;
         Gain2 664 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 648.1 168 679.9 200 color 0 fill 15132390;
            text 'K' 664 184 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 5;		// gain
equations
	output = K * input;
    implementation_end;
         Integrate 256 256
          description '<Information>
 <Description>
    <Version>4.3</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
  <TimeStamp>2013-3-8 14:47:42</TimeStamp>
</Description>
</Information>';
          type Integrate
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 240 240 272 272 color 0 fill 15132390;
            text '∫' 256 256.3 color 16711680 'Lucida Sans' 21 italic;
          end;
          implementation eq
parameters
	real initial = -0.35;		// initial value
equations
	output = int (input, initial);
     implementation_end;
         MSe1 184 176
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:12:33</TimeStamp>
</Description>
</Information>';
          type MSe
           ports
            power out p;
            signal in effort;
           restrictions
            causality fixed out p;
          end;
          icon bg bottom
           figures
            text 'MSe' 184 176 color 0 18 bold;
          end;
          implementation eq
variables
	real flow;
equations
	p.e = effort;
	flow = p.f;
implementation_end;
         MSf2 704 184
          description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MSf.emx</LibraryPath><TimeStamp>2011-11-29 16:14:18</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 704 184 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         MSf3 480 408
          description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MSf.emx</LibraryPath><TimeStamp>2011-11-29 16:14:18</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 480 408 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         plug phi2 352 176;
         OneJunction 256 176
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 256 176 color 0 18 bold;
          end;
          implementation eq
variables
	real global dphi6;
	real global phi6;
	
parameters
	real initial = -0.35;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dphi6=flow;
	phi6= int(dphi6,initial);implementation_end;
         OneJunction1 344 304
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 344 304 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         OneJunction2 784 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 784 184 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global  x2j6;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x2j6=flow;
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         OneJunction3 600 408
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 600 408 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global x1j6;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x1j6=flow;
	
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         PlusMinus 344 256
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 336 248 352 264 color 0 fill 16777215;
          end;
          implementation eq
variables
real global e6,ISE6;
equations
    output = sum (collect (plus)) - sum (collect (minus));
    e6=output;
ISE6= int(e6 .^ 2);implementation_end;
         PlusMinus1 632 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 624 176 640 192 color 0 fill 16777215;
          end;
          implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
         Pulse1 104 176
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Sources\SignalGenerator-Pulse.emx</LibraryPath>
  <TimeStamp>2007-9-27 16:1:38</TimeStamp>
</Description>';
          type 'SignalGenerator-Pulse'
           ports
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 88.1 160 119.9 192 color 0 fill 15132390;
            line 99.7 174.4 105.4 174.4 color 16711680 width 2;
            line 91 186.2 117 186.2 color 0;
            line 94 186.1 99.6 186.1 99.6 174.5 color 16711680 width 2;
            line 94 168.6 94 189 color 0;
            line 114.2 186.2 105.4 186.1 105.4 174.5 color 16711680 width 2;
          end;
          implementation eq
parameters
	real global start_time ;
	real global stop_time;
	real global amplitude ;
variables
	boolean hidden change;
	real global distb6;
equations
	"calculate at least at the start and stop time"
	change = timeevent (start_time) or timeevent (stop_time);

	"calculate the block signal"
	output = amplitude * (step (start_time) - step (stop_time));
distb6=output;implementation_end;
         R 320 128
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 320 128 color 0 18 bold;
          end;
          implementation eq
parameters
	real r = 0;
equations
	p.e = r * p.f;
implementation_end;
         Se1 256 112
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Se.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:36:49</TimeStamp>
</Description>
</Information>';
          type Se
           ports
            power out p;
           restrictions
            causality fixed out p;
          end;
          icon bg top
           figures
            text 'Se' 256 112 color 0 18 bold;
          end;
          implementation eq
parameters
real a1= 12.414787871339; 
real a2= 13.978711006297; 
real b1= 1.471755888829; 
real b2= 0.57768593369117;
real L1= 1646.5454316807; 
real L2= 14529.999736818;
real global S6;

variables
	real flow;
	real global x1j6,x2j6;
	real P1,P2,t1,t2;
	real gamma1L, gamma1u6, gamma2L, gamma2u6, gamma1, gamma2;
	real global u6, q1, q2, q3;
equations
	P1=L1/2; 
	P2=L2/2;
	t1=P1/(2*L1); 
	t2=P2/(2*L2);
	
//if ((q1>=-0.785 and q1<=0.785) and (q2>=-0.785 and q2<=0.785) and (q3>=-0.785 and q3<=0.785)) then
	
if ((x1j6>=(L1-P1)) and (x1j6<=(L1+P1)) and (x2j6>=(-L2-P2)) and (x2j6<=(-L2+P2))) then // region 1 and 8
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u6=(-L2*a1*x1j6+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             gamma2u6=(-L2*b1*x1j6+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
         
         else if ((x1j6>=(-L1-P1)) and (x1j6<=(-L1+P1)) and (x2j6>=(-L2-P2)) and (x2j6<=(-L2+P2)))  then // region 2 and 3
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u6=(L2*a2*x1j6+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             gamma2u6=(L2*b2*x1j6+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
             
         else if ((x1j6>=(-L1-P1)) and (x1j6<=(-L1+P1)) and (x2j6>=(L2-P2)) and (x2j6<=(L2+P2))) then // region 4 and 5
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u6=(L2*a1*x1j6+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             gamma2u6=(L2*b1*x1j6+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             
            u6=gamma1*x1j6+gamma2*x2j6;
             
         else if ((x1j6>=(L1-P1)) and (x1j6<=(L1+P1)) and (x2j6>=(L2-P2)) and (x2j6<=(L2+P2))) then // region 6 and 7
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u6=(-L2*a2*x1j6+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             gamma2u6=(-L2*b2*x1j6+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
             
         else if ((x1j6>=0) and (x1j6<=(L1-P1)) and (x2j6>=(-L2-P2)) and (x2j6<=(-L2+P2)) and x2j6>=((-L2/L1)*x1j6)-((L2/L1)*P1+P2)) then // region 9
             gamma1L=(L2*(-a1+a2)*x1j6+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j6+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u6=(-L2*a1*x1j6+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             gamma2u6=(-L2*b1*x1j6+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;

         else if ((x1j6>=(-L1+P1)) and (x1j6<=0) and (x2j6>=(-L2-P2)) and (x2j6<=(-L2+P2)) and x2j6>=((L2/L1)*x1j6)-((L2/L1)*P1+P2)) then // region 10
             gamma1L=(L2*(-a1+a2)*x1j6+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j6+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u6=(L2*a2*x1j6+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             gamma2u6=(L2*b2*x1j6+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
             
         else if ((x1j6>=(-L1+P1)) and (x1j6<=(L1-P1)) and (x2j6>=(-L2-P2)) and (x2j6<=(-L2+P2)) and x2j6<=((-L2/L1)*x1j6)-((L2/L1)*P1+P2) and x2j6<=((L2/L1)*x1j6)-((L2/L1)*P1+P2)) then // region 17
             gamma1L=(L2*(-a1+a2)*x1j6+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j6+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u6=(L2*(-a1+a2)*x1j6+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j6));
             gamma2u6=(L2*(-b1+b2)*x1j6+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j6));
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
             
         else if ((x1j6>=(-L1+P1)) and (x1j6<=0) and (x2j6>=(L2-P2)) and (x2j6<=(L2+P2)) and x2j6<=((-L2/L1)*x1j6)+((L2/L1)*P1+P2)) then  // region 13
             gamma1L=(L2*(a1-a2)*x1j6+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j6+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u6=(L2*a1*x1j6+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             gamma2u6=(L2*b1*x1j6+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             
            gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
             
         else if ((x1j6>=0) and (x1j6<=(L1-P1)) and (x2j6>=(L2-P2)) and (x2j6<=(L2+P2)) and x2j6<=((L2/L1)*x1j6)+((L2/L1)*P1+P2)) then // region 14
             gamma1L=(L2*(a1-a2)*x1j6+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j6+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u6=(-L2*a2*x1j6+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             gamma2u6=(-L2*b2*x1j6+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
             
         else if ((x1j6>=(-L1+P1)) and (x1j6<=(L1-P1)) and (x2j6>=(L2-P2)) and (x2j6<=(L2+P2)) and x2j6>=(((-L2/L1)*x1j6)+((L2/L1)*P1+P2)) and x2j6>=(((L2/L1)*x1j6)+((L2/L1)*P1+P2))) then // region 19
             gamma1L=(L2*(a1-a2)*x1j6+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j6+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u6=(L2*(a1-a2)*x1j6+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j6));
             gamma2u6=(L2*(b1-b2)*x1j6+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j6));
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
             
         else if ((x1j6>=(-L1-P1)) and (x1j6<=(-L1+P1)) and (x2j6>=(-L2+P2)) and (x2j6<=0) and x2j6<=((L2/L1)*x1j6)+((L2/L1)*P1+P2)) then // region 11
             gamma1L=(L1*(-a1+a2)*x2j6+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j6+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u6=(L2*a2*x1j6+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             gamma2u6=(L2*b2*x1j6+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
             
        else if ((x1j6>=(-L1-P1)) and (x1j6<=(-L1+P1)) and (x2j6>=0) and (x2j6<=(L2-P2)) and x2j6>=((-L2/L1)*x1j6)-((L2/L1)*P1+P2)) then // region 12
             gamma1L=(L1*(-a1+a2)*x2j6+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j6+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u6=(L2*a1*x1j6+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             gamma2u6=(L2*b1*x1j6+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
             
       else if ((x1j6>=(-L1-P1)) and (x1j6<=(-L1+P1)) and (x2j6>=(-L2+P2)) and (x2j6<=(L2-P2)) and x2j6<=((-L2/L1)*x1j6)-((L2/L1)*P1+P2) and x2j6>=((L2/L1)*x1j6)+((L2/L1)*P1+P2)) then // region 18
             gamma1L=(L1*(-a1+a2)*x2j6+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j6+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u6=(L2*(a1+a2)*x1j6+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j6));
             gamma2u6=(L2*(b1+b2)*x1j6+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j6));
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
             
         else if ((x1j6>=(L1-P1)) and (x1j6<=(L1+P1)) and (x2j6>=(-L2+P2)) and  (x2j6<=(L2-P2)) and x2j6>=((L2/L1)*x1j6)-((L2/L1)*P1+P2)) then // region 15 
             gamma1L=(L1*(a1-a2)*x2j6+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j6+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u6=(-L2*a2*x1j6+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             gamma2u6=(-L2*b2*x1j6+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             
           gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
              
         else if ((x1j6>=(L1-P1)) and (x1j6<=(L1+P1)) and (x2j6>=(-L2+P2)) and (x2j6<=(L2-P2)) and x2j6<=(-(L2/L1)*x1j6)+((L2/L1)*P1+P2)) then // region 16
             gamma1L=(L1*(a1-a2)*x2j6+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j6+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u6=(-L2*a1*x1j6+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             gamma2u6=(-L2*b1*x1j6+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
              
         else if ((x1j6>=(L1-P1)) and (x1j6<=(L1+P1)) and (x2j6>=(-L2+P2)) and (x2j6<=(L2-P2)) and x2j6>=(-(L2/L1)*x1j6)+((L2/L1)*P1+P2) and x2j6<=((L2/L1)*x1j6)-((L2/L1)*P1+P2)) then // region 20
             gamma1L=(L1*(a1-a2)*x2j6+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j6+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u6=(L2*(-a1-a2)*x1j6+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j6));
             gamma2u6=(L2*(-b1-b2)*x1j6+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j6));
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
              
	else if (x2j6>=((-L2/L1)*x1j6)-((L2/L1)*P1+P2) and x2j6<=((L2/L1)*x1j6)-((L2/L1)*P1+P2) and x2j6<=(-(L2+P2/L1+P1)*x1j6) and x2j6>=(-L2+P2)) then //%region 21
             gamma1L=(L2*(-a1+a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j6)/(2*(L1*x2j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j6)/(2*(L1*x2j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(-L2*a1*x1j6+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             gamma2u6=(-L2*b1*x1j6+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
             
         else if (x2j6<=((-L2/L1)*x1j6)-((L2/L1)*P1+P2) and x2j6>=((L2/L1)*x1j6)-((L2/L1)*P1+P2) and x2j6<=((L2+P2/L1+P1)*x1j6) and x2j6>=(-L2+P2)) then //%region 22
             gamma1L=(L2*(-a1+a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j6)/(2*(L1*x2j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j6)/(2*(L1*x2j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(L2*a2*x1j6+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             gamma2u6=(L2*b2*x1j6+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
                          
            u6=gamma1*x1j6+gamma2*x2j6;
                  
         else if (x2j6<=((-L2/L1)*x1j6)-((L2/L1)*P1+P2) and x2j6<=((L2/L1)*x1j6)-((L2/L1)*P1+P2) and x2j6>=(-L2+P2)) then //%region 29
             gamma1L=(L2*(-a1+a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j6)/(2*(L1*x2j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j6)/(2*(L1*x2j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(L2*(-a1+a2)*x1j6+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j6));
             gamma2u6=(L2*(-b1+b2)*x1j6+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j6));
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
             
        else if (x2j6<=((-L2/L1)*x1j6)-((L2/L1)*P1+P2) and x2j6<=((L2/L1)*x1j6)+((L2/L1)*P1+P2) and x2j6>=((L2+P2/L1+P1)*x1j6) and x1j6>=(-L1+P1) and x2j6>=(-L2+P2)) then //%region 23
             gamma1L=(L2*(a1+a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j6)/(2*(L2*x1j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j6)/(2*(L2*x1j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(L2*a2*x1j6+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             gamma2u6=(L2*b1*x1j6+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
            
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
      
         else if (x2j6>=((-L2/L1)*x1j6)-((L2/L1)*P1+P2) and x2j6>=((L2/L1)*x1j6)+((L2/L1)*P1+P2) and x2j6<=(-(L2+P2/L1+P1)*x1j6) and x1j6>=(-L1+P1) and x2j6<=(L2-P2)) then //%region 24
             gamma1L=(L2*(a1+a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j6)/(2*(L2*x1j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j6)/(2*(L2*x1j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(L2*a1*x1j6+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             gamma2u6=(L2*b1*x1j6+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
            u6=gamma1*x1j6+gamma2*x2j6;
           
         else if (x2j6>=((L2/L1)*x1j6)+((L2/L1)*P1+P2) and x2j6<=((-L2/L1)*x1j6)-((L2/L1)*P1+P2) and x1j6>=(-L1+P1)) then //%region 30
             gamma1L=(L2*(a1+a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j6)/(2*(L2*x1j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j6)/(2*(L2*x1j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(L2*(a1+a2)*x1j6+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j6));
             gamma2u6=(L2*(b1+b2)*x1j6+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j6));
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
                
        else if (x2j6>=((L2/L1)*x1j6)+((L2/L1)*P1+P2) and x2j6<=(-(L2/L1)*x1j6)+((L2/L1)*P1+P2) and x2j6>=(-(L2+P2/L1+P1)*x1j6) and x2j6<=(L2-P2) and x1j6>=(-L1+P1)) then //%region 25
             gamma1L=(L2*(a1-a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j6)/(2*(-L1*x2j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j6)/(2*(-L1*x2j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(L2*a1*x1j6+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             gamma2u6=(L2*b1*x1j6+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j6)/(L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
             
         else if (x2j6<=((L2/L1)*x1j6)+((L2/L1)*P1+P2) and x2j6>=(-(L2/L1)*x1j6)+((L2/L1)*P1+P2) and x2j6>=((L2+P2/L1+P1)*x1j6) and x2j6<=(L2-P2)) then //%region 26
             gamma1L=(L2*(a1-a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j6)/(2*(-L1*x2j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j6)/(2*(-L1*x2j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(-L2*a2*x1j6+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             gamma2u6=(-L2*b2*x1j6+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
                  
         else if (x2j6>=((-L2/L1)*x1j6)+((L2/L1)*P1+P2) and x2j6>=((L2/L1)*x1j6)+((L2/L1)*P1+P2) and x2j6<=(L2-P2)) then //%region 31
             gamma1L=(L2*(a1-a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j6)/(2*(-L1*x2j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j6)/(2*(-L1*x2j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(L2*(a1-a2)*x1j6+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j6));
             gamma2u6=(L2*(b1-b2)*x1j6+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j6));
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
           
            
         
        else if (x2j6>=((L2/L1)*x1j6)-((L2/L1)*P1+P2) and x2j6>=((-L2/L1)*x1j6)+((L2/L1)*P1+P2) and x2j6<=((L2+P2/L1+P1)*x1j6) and x1j6<=(L1-P1) and x2j6<=(L2-P2)) then //%region 27
             gamma1L=(L2*(-a1-a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j6)/(2*(-L2*x1j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j6)/(2*(-L2*x1j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(-L2*a2*x1j6+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             gamma2u6=(-L2*b2*x1j6+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)-L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
     
         else if (x2j6<=((L2/L1)*x1j6)+((L2/L1)*P1+P2) and x2j6<=((L2/L1)*x1j6)-((L2/L1)*P1+P2) and x2j6>=(-(L2+P2/L1+P1)*x1j6) and x1j6<=(L1-P1) and x2j6>=(-L2+P2)) then //%region 28
             gamma1L=(L2*(-a1-a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j6)/(2*(-L2*x1j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j6)/(2*(-L2*x1j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(-L2*a1*x1j6+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             gamma2u6=(-L2*b1*x1j6+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j6)/(-L2*x1j6+2*L1*L2*(2+t1+t2)+L1*x2j6);
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
           
         else if (x2j6<=((L2/L1)*x1j6)-((L2/L1)*P1+P2) and x2j6>=((-L2/L1)*x1j6)+((L2/L1)*P1+P2) and x1j6<=(L1-P1)) then //%region 32
             gamma1L=(L2*(-a1-a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j6)/(2*(-L2*x1j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j6)/(2*(-L2*x1j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(L2*(-a1-a2)*x1j6+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j6));
             gamma2u6=(L2*(-b1-b2)*x1j6+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j6)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j6));
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;  
             
             u6=gamma1*x1j6+gamma2*x2j6;
          
        else if (x2j6<=((L2+P2)/(L1+P1)*x1j6) and x2j6<=(-(L2+P2)/(L1+P1)*x1j6) and x2j6>=((-L2/L1)*x1j6)-((L2/L1)*P1+P2) and x2j6>=((L2/L1)*x1j6)-((L2/L1)*P1+P2)) then // %region 33
             gamma1L=(L2*(-a1+a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j6)/(2*(L1*x2j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j6)/(2*(L1*x2j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(a1+a2)/2;
             gamma2u6=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;   
             
             u6=gamma1*x1j6+gamma2*x2j6;
         
         else if (x2j6>=((L2+P2)/(L1+P1)*x1j6) and x2j6<=(-(L2+P2)/(L1+P1)*x1j6) and x2j6>=((-L2/L1)*x1j6)-((L2/L1)*P1+P2) and x2j6<=((L2/L1)*x1j6)+((L2/L1)*P1+P2)) then //%region 34
             gamma1L=(L2*(a1+a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j6)/(2*(L2*x1j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j6)/(2*(L2*x1j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(a1+a2)/2;
             gamma2u6=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
             
         else if (x2j6>=((L2+P2)/(L1+P1)*x1j6) and x2j6>=(-(L2+P2)/(L1+P1)*x1j6) and x2j6<=((-L2/L1)*x1j6)+((L2/L1)*P1+P2) and x2j6<=((L2/L1)*x1j6)+((L2/L1)*P1+P2)) then  //%region 35
             gamma1L=(L2*(a1-a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j6)/(2*(-L1*x2j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j6)/(2*(-L1*x2j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(a1+a2)/2;
             gamma2u6=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
         
         else if (x2j6<=((L2+P2)/(L1+P1)*x1j6) and x2j6>=(-(L2+P2)/(L1+P1)*x1j6) and x2j6<=((-L2/L1)*x1j6)+((L2/L1)*P1+P2) and x2j6>=((L2/L1)*x1j6)-((L2/L1)*P1+P2)) then //region 36
             gamma1L=(L2*(-a1-a2)*x1j6+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j6)/(2*(-L2*x1j6+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j6+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j6)/(2*(-L2*x1j6+2*L1*L2*(1-t1-t2)));
             
             gamma1u6=(a1+a2)/2;
             gamma2u6=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u6)/2;
             gamma2=(gamma2L+gamma2u6)/2;
             
             u6=gamma1*x1j6+gamma2*x2j6;
              
         else
            gamma1 = 0;
            gamma2 = 0;
            u6=gamma1*x1j6+gamma2*x2j6;
         end;  
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
  
//else
// u6=0
//	end;
	

	p.e = S6*u6;
	flow = p.f;
implementation_end;
         Sf 344 352
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Sf.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:38:03</TimeStamp>
</Description>
</Information>';
          type Sf
           ports
            power out p;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'Sf' 344 352 color 0 18 bold;
          end;
          implementation eq
parameters
	real global a1,a2,w1,w2,d,phi02,Kp,Kd;
	real initial = 0;
variables
	real global phir6;
	real global dphir6;
	real global dphi6,phi6;
	real effort;
	real global q2,q3;
	//real global n;
	//real global t2;
	//real global t3;
	
equations
	//t2=1;
	//t3=time;
	//if t2<=t3 and t2>0 then
				//n= floor (t3/t2);
				//t2=t3-(t2*n);
				//else
					//t2=t3;	
					//end;
	
	phir6=a1*sin((w1*time)+(5*d))+a2*sin((w2*time)+(5*d));

		
	dphir6=ddt(phir6,initial);
	//if -0.785<=phi2<=0.785 then //and -0.785<=q3<=0.785 then
	//p.e = Kp*(phir2-phi2)-Kd*(dphir2-dphi2);
	//else
		p.f=phir6;
		//end;
effort = p.e;
implementation_end;
         Splitter1 480 256
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [1];
            signal knot in input [1];
          end;
          icon bg ellipse
           figures
            ellipse 476.8 252.8 483.2 259.2 color -1 fill 0;
            ellipse 475.7 251.7 484.3 260.3 color -1;
           terminals
            input 480 256 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
        end;
        connections
         C\p <= OneJunction\p;
         Delay\input <- Splitter1\output;
         Delay\output -> PlusMinus1\minus;
         Gain1\output -> MSf3\flow;
         Gain2\output -> MSf2\flow;
         Integrate\output -> PlusMinus\minus;
         MSe1\p => OneJunction\p;
         MSf2\p => OneJunction2\p;
         MSf3\p => OneJunction3\p;
         OneJunction\flow -> Integrate\input;
         OneJunction1\flow -> PlusMinus\plus;
         phi2 => OneJunction\p;
         PlusMinus1\output -> Gain2\input;
         Pulse1\output -> MSe1\effort;
         R\p <= OneJunction\p;
         Se1\p => OneJunction\p;
         Sf\p => OneJunction1\p;
         Splitter1\input <- PlusMinus\output;
         Splitter1\output -> Gain1\input;
         Splitter1\output -> PlusMinus1\plus 480 184;
        end;
       implementation_end;
      J1 660 70
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 660 70 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
	real global l;
equations
    state = int(p.e);
    p.f = state / ((m*l*l)/2);
implementation_end;
      J2 652 166
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 652 166 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
	real global l;
equations
    state = int(p.e);
    p.f = state / ((m*l*l)/2);

implementation_end;
      J3 660 270
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 660 270 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
	real global l;
equations
    state = int(p.e);
    p.f = state / ((m*l*l)/2);

implementation_end;
      mx14 540 118
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 540 118 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[1,4] * p2.e;
	p2.f = l*M[1,4] * p1.f;
implementation_end;
      mx15 524 214
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 524 214 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[1,5] * p2.e;
	p2.f = l*M[1,5] * p1.f;implementation_end;
      mx16 556 302
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 556 302 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[1,6] * p2.e;
	p2.f = l*M[1,6] * p1.f;implementation_end;
      mx44 532 166
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 532 166 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[4,4] * p2.e;
	p2.f = l*M[4,4] * p1.f;
implementation_end;
      mx54 608 192
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 608 192 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[5,4] * p2.e;
	p2.f = l*M[5,4] * p1.f;
implementation_end;
      mx55 492 246
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 492 246 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[5,5] * p2.e;
	p2.f = l*M[5,5] * p1.f;
implementation_end;
      mx65 572 270
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 572 270 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[6,5] * p2.e;
	p2.f = l*M[6,5] * p1.f;implementation_end;
      mx66 512 336
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 512 336 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[6,6] * p2.e;
	p2.f = l*M[6,6] * p1.f;
implementation_end;
      mx76 520 392
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 520 392 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[7,6] * p2.e;
	p2.f = l*M[7,6] * p1.f;
implementation_end;
      my14 772 118
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 772 118 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[1,4] * p2.e;
	p2.f = -l*My[1,4] * p1.f;
implementation_end;
      my15 740 206
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 740 206 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[1,5] * p2.e;
	p2.f = -l*My[1,5] * p1.f;implementation_end;
      my16 792 304
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 792 304 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[1,6] * p2.e;
	p2.f = -l*My[1,6] * p1.f;implementation_end;
      My31 792 192
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 792 192 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      my44 724 158
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 724 158 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[4,4] * p2.e;
	p2.f = -l*My[4,4] * p1.f;implementation_end;
      my54 680 184
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 680 184 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[5,4] * p2.e;
	p2.f = -l*My[5,4] * p1.f;
implementation_end;
      my55 772 246
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 772 246 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[5,5] * p2.e;
	p2.f = -l*My[5,5] * p1.f;implementation_end;
      my65 732 270
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 732 270 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[6,5] * p2.e;
	p2.f = -l*My[6,5] * p1.f;implementation_end;
      my66 752 352
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 752 352 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[6,6] * p2.e;
	p2.f = -l*My[6,6] * p1.f;implementation_end;
      my76 744 392
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 744 392 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[7,6] * p2.e;
	p2.f = -l*My[7,6] * p1.f;implementation_end;
      plug py16 920 274.1;
      plug p15 344 216;
      plug p16 304 296;
      plug p44 344 160.3;
      plug p76 432 424;
      plug py76 832 424;
      plug pse6 344 400;
      plug pse4 536 56;
      plug py54 888 184;
      plug p54 424 192;
      plug py66 904 352;
      plug py65 816 271.8;
      plug py55 872 211.2;
      plug py44 840 159.9;
      plug py15 920 256;
      plug py14 872 112.5;
      plug p66 224 341.8;
      plug p65 384 264;
      plug p14 424 118;
      plug p55 240 230.5;
      theta4 664 120
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg bottom
        figures
         text '1' 664 120 color 0 18 bold;
       end;
       implementation eq
variables
	real global dq4;
	real global q44,q4;
	
parameters
	real initial = -0.32;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dq4=flow;
	q44= int(dq4,initial);
	q4=limit(q44,-0.785,0.785);
	
implementation_end;
      theta5 660 214
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg bottom
        figures
         text '1' 660 214 color 0 18 bold;
       end;
       implementation eq
variables
	real global dq5;
	real global q55,q5;
	
parameters
	real initial = -0.67;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dq5=flow;
	q55= int(dq5,initial);
	q5=limit(q55,-0.785,0.785);implementation_end;
      theta6 660 302
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg bottom
        figures
         text '1' 660 302 color 0 18 bold;
       end;
       implementation eq
variables
	real global dq6;
	real global q66,q6;
	
parameters
	real initial = -0.67;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dq6=flow;
	q66= int(dq6,initial);
	q6=limit(q66,-0.785,0.785);implementation_end;
      ZeroJunction 304 80
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 304 80 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction1 256 176
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 256 176 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction2 240 280
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 240 280 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      J1\p <= theta4\p;
      mx14\p2 => p14;
      mx15\p2 => p15;
      mx16\p2 => p16;
      mx44\p2 => p44;
      mx54\p2 => p54;
      mx55\p2 => p55;
      mx65\p2 => p65;
      mx66\p2 => p66;
      mx76\p2 => p76;
      my14\p2 => py14;
      my15\p2 => py15;
      my16\p2 => py16;
      My31\p => py54;
      my44\p2 => py44;
      my54\p2 => My31\p;
      my55\p2 => py55;
      my65\p2 => py65;
      my66\p2 => py66;
      my76\p2 => py76;
      pse4 => theta4\p;
      theta4\p => mx14\p1;
      theta4\p => mx44\p1;
      theta4\p => mx54\p1;
      theta4\p => my14\p1;
      theta4\p => my44\p1;
      theta4\p => my54\p1;
      theta4\p => ZeroJunction\p;
      theta5\p => mx55\p1;
      theta5\p => mx65\p1;
      theta5\p => my15\p1;
      theta5\p => my55\p1;
      theta5\p => my65\p1;
      theta5\p => ZeroJunction1\p;
      theta5\p =>| J2\p user;
      theta5\p |=> mx15\p1 user;
      theta6\p => mx66\p1;
      theta6\p => mx76\p1;
      theta6\p => my16\p1;
      theta6\p => my66\p1;
      theta6\p => my76\p1;
      theta6\p => ZeroJunction2\p;
      theta6\p =>| J3\p user;
      theta6\p |=> mx16\p1 user;
      ZeroJunction\p => control4\phi2;
      ZeroJunction\p => theta5\p;
      ZeroJunction1\p => control5\phi2;
      ZeroJunction1\p => theta6\p;
      ZeroJunction2\p => control6\phi2;
      ZeroJunction2\p =>| pse6 user;
     end;
    implementation_end;
   Submodel5 1736 504
    description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
    type Submodel
     ports
      power in p5;
      power in p6;
      power in p4;
    end;
    icon bg bottom
     figures
      rectangle 1696 488 1776 520 color 0 fill 15132390;
      text 'name' 1736 504 color 0 16;
    end;
    implementation bg
     submodels
      MY4 456 80
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 456 80 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;implementation_end;
      MY5 458 193
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 458 193 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;
implementation_end;
      MY6 458 321
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 458 321 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;implementation_end;
      plug p5 272 240;
      plug p6 272 352;
      plug p4 256 144;
      Submodel1 352 176
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      Submodel2 360 304
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      Submodel3 344 80
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      y4 456 144
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 456 144 color 0 18 bold;
       end;
       implementation eq
variables
	real global dy4;
	real global y4;
	real global y55,q44;
	
parameters
	real initial = -0.5;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dy4=flow;
	y4= int(dy4,initial);
	y55=y4+(l*sin(q44));implementation_end;
      y5 458 241
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 458 241 color 0 18 bold;
       end;
       implementation eq
variables
	real global dy5;
	real global y5;
	real global y66,q55;
	
parameters
	real initial = -0.5;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dy5=flow;
	y5= int(dy5,initial);
	y66=y5+(l*sin(q55));implementation_end;
      y6 458 369
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 458 369 color 0 18 bold;
       end;
       implementation eq
variables
	real global dy6;
	real global y6;
	real global y77,q66;
	
parameters
	real initial = -0.5;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dy6=flow;
	y6= int(dy6,initial);
	y77=y6+(l*sin(q66));implementation_end;
      ZeroJunction1 336 144
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 336 144 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction2 352 240
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 352 240 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction3 352 360
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 352 360 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      p4 => ZeroJunction1\p;
      p5 => ZeroJunction2\p;
      p6 => ZeroJunction3\p;
      y4\p =>| MY4\p user;
      y5\p =>| MY5\p user;
      y6\p =>| MY6\p user;
      ZeroJunction1\p =>| y4\p user;
      ZeroJunction1\p |=> Submodel3\p user;
      ZeroJunction2\p =>| y5\p user;
      ZeroJunction2\p |=> Submodel1\p user;
      ZeroJunction3\p =>| y6\p user;
      ZeroJunction3\p |=> Submodel2\p user;
     end;
    implementation_end;
   Submodel6 -88 400
    description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
    type Submodel
     ports
      power in p5;
      power in p6;
      power in p4;
    end;
    implementation bg
     submodels
      MX4 220 78
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 220 78 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;
implementation_end;
      MX5 220 190
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 220 190 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;
implementation_end;
      MX6 220 294
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 220 294 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;implementation_end;
      plug p5 608 232;
      plug p6 544 344;
      plug p4 592 134;
      Submodel1 400 176
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      Submodel2 408 288
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      Submodel3 392 72
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      x4 220 134
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 220 134 color 0 18 bold;
       end;
       implementation eq
variables
	real global dx4;
	real global x4;
	real global x55,q44;
	
parameters
	real initial = -0.14;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dx4=flow;
	x4= int(dx4,initial);
	x55=x4+(l*cos(q44));
implementation_end;
      x5 220 238
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 220 238 color 0 18 bold;
       end;
       implementation eq
variables
	real global dx5;
	real global x5;
	real global x66,q55;
	
parameters
	real initial = 0;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dx5=flow;
	x5= int(dx5,initial);
	x66=x5+(l*cos(q55));
implementation_end;
      x6 220 334
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 220 334 color 0 18 bold;
       end;
       implementation eq
variables
	real global dx6;
	real global x6;
	real global x77,q66;
	
parameters
	real initial = 0.14;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dx6=flow;
	x6= int(dx6,initial);
	x77=x6+(l*cos(q66));
implementation_end;
      ZeroJunction1 392 136
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 392 136 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction2 400 232
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 400 232 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction3 416 344
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 416 344 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      p4 => ZeroJunction1\p;
      p5 => ZeroJunction2\p;
      p6 |=> ZeroJunction3\p user;
      x4\p =>| MX4\p user;
      x5\p =>| MX5\p user;
      x6\p =>| MX6\p user;
      ZeroJunction1\p =>| x4\p user;
      ZeroJunction1\p |=> Submodel3\p user;
      ZeroJunction2\p =>| x5\p user;
      ZeroJunction2\p |=> Submodel1\p user;
      ZeroJunction3\p =>| x6\p user;
      ZeroJunction3\p |=> Submodel2\p user;
     end;
    implementation_end;
   Submodel7 800 752
    description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
    type Submodel
     ports
      power out p17;
      power out p77;
      power out py17;
      power out py77;
      power in pse6;
      power out p87;
      power out py87;
      power out p18;
      power out py18;
      power out p88;
      power out py88;
      power out p98;
      power out py98;
      power out p19;
      power out py19;
      power out p99;
      power out py99;
    end;
    implementation bg
     submodels
      control7 208 72
       description '<Information><Description><Version>4.7</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type Submodel
        ports
         power in phi2;
       end;
       implementation bg
        submodels
         C 200 112
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 200 112 color 0 18 bold;
          end;
          implementation eq
parameters
	real c = 0;
equations
	state = int(p.f);
	p.e = state * c;
implementation_end;
         Delay 632 256
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Delay-Time.emx</LibraryPath>
  <TimeStamp>2007-12-6 15:29:52</TimeStamp>
</Description>';
          type 'Delay-Time'
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 616 240 648 272 color 0 fill 15132390;
            line 620.5 246.4 620.5 265.6 color 0;
            line 646.1 256 617.3 256 color 0;
            spline 620.8 249.8 625.8 249.3 628.8 254.4 631.7 260.3 635.9 262.6 color 16711680;
            spline 631.5 249.3 636.3 249.3 638.9 253.3 641.6 258.7 646.4 262.1 color 16711680;
            group
             line 636.8 251.9 636.8 253.3 color 16711680;
             group
              line 636.8 253.3 636.8 251.9 color 16711680;
              line 629.5 252.7 636.8 252.7 color 16711680;
             end;
            end;
          end;
          implementation eq
parameters
	real delay = 0.1 {s};	// time delay (s)
	real initial = 0;		// initial value
variables
	real delayOutput;
equations
	delayOutput =  tdelay (input,delay);
	if (time <= delay) then
		output = initial;
	else
		output = delayOutput;
	end;
       implementation_end;
         Gain1 480 288
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 464.1 272 495.9 304 color 0 fill 15132390;
            text 'K' 480 288 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 0.1;		// gain
equations
	output = K * input;
    implementation_end;
         Gain2 664 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 648.1 168 679.9 200 color 0 fill 15132390;
            text 'K' 664 184 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 5;		// gain
equations
	output = K * input;
    implementation_end;
         Integrate 256 256
          description '<Information>
 <Description>
    <Version>4.3</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
  <TimeStamp>2013-3-8 14:47:42</TimeStamp>
</Description>
</Information>';
          type Integrate
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 240 240 272 272 color 0 fill 15132390;
            text '∫' 256 256.3 color 16711680 'Lucida Sans' 21 italic;
          end;
          implementation eq
parameters
	real initial = -0.5;		// initial value
equations
	output = int (input, initial);
     implementation_end;
         MSe1 192 176
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:12:33</TimeStamp>
</Description>
</Information>';
          type MSe
           ports
            power out p;
            signal in effort;
           restrictions
            causality fixed out p;
          end;
          icon bg bottom
           figures
            text 'MSe' 192 176 color 0 18 bold;
          end;
          implementation eq
variables
	real flow;
equations
	p.e = effort;
	flow = p.f;
implementation_end;
         MSf2 704 184
          description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MSf.emx</LibraryPath><TimeStamp>2011-11-29 16:14:18</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 704 184 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         MSf3 480 408
          description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MSf.emx</LibraryPath><TimeStamp>2011-11-29 16:14:18</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 480 408 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         plug phi2 352 176;
         OneJunction 256 176
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 256 176 color 0 18 bold;
          end;
          implementation eq
variables
	real global dphi7;
	real global phi7;
	
parameters
	real initial = -0.5;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dphi7=flow;
	phi7= int(dphi7,initial);implementation_end;
         OneJunction1 344 304
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 344 304 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         OneJunction2 784 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 784 184 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global  x2j7;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x2j7=flow;
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         OneJunction3 600 408
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 600 408 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global x1j7;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x1j7=flow;
	
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         PlusMinus 344 256
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 336 248 352 264 color 0 fill 16777215;
          end;
          implementation eq
variables
real global e7,ISE7;
equations
    output = sum (collect (plus)) - sum (collect (minus));
    e7=output;
ISE7= int(e7 .^ 2);implementation_end;
         PlusMinus1 632 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 624 176 640 192 color 0 fill 16777215;
          end;
          implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
         Pulse1 112 176
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Sources\SignalGenerator-Pulse.emx</LibraryPath>
  <TimeStamp>2007-9-27 16:1:38</TimeStamp>
</Description>';
          type 'SignalGenerator-Pulse'
           ports
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 96.1 160 127.9 192 color 0 fill 15132390;
            line 107.7 174.4 113.4 174.4 color 16711680 width 2;
            line 99 186.2 125 186.2 color 0;
            line 102 186.1 107.6 186.1 107.6 174.5 color 16711680 width 2;
            line 102 168.6 102 189 color 0;
            line 122.2 186.2 113.4 186.1 113.4 174.5 color 16711680 width 2;
          end;
          implementation eq
parameters
	real global start_time ;
	real global stop_time;
	real global amplitude ;
variables
	boolean hidden change;
	real global distb7;
equations
	"calculate at least at the start and stop time"
	change = timeevent (start_time) or timeevent (stop_time);

	"calculate the block signal"
	output = amplitude * (step (start_time) - step (stop_time));
distb7=output;implementation_end;
         R 320 120
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 320 120 color 0 18 bold;
          end;
          implementation eq
parameters
	real r = 0;
equations
	p.e = r * p.f;
implementation_end;
         Se1 256 112
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Se.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:36:49</TimeStamp>
</Description>
</Information>';
          type Se
           ports
            power out p;
           restrictions
            causality fixed out p;
          end;
          icon bg top
           figures
            text 'Se' 256 112 color 0 18 bold;
          end;
          implementation eq
parameters
real a1= 4.0616122399795; 
real a2= 11.443315846605; 
real b1= 2.4854885610844; 
real b2= 0.65143722266322;
real L1= 1293.5182853574; 
real L2= 15636.034988181;
real global S7;

variables
	real flow;
	real global x1j7,x2j7;
	real P1,P2,t1,t2;
	real gamma1L, gamma1u7, gamma2L, gamma2u7, gamma1, gamma2;
	real global u7, q1, q2, q3;
equations
	P1=L1/2; 
	P2=L2/2;
	t1=P1/(2*L1); 
	t2=P2/(2*L2);
	
//if ((q1>=-0.785 and q1<=0.785) and (q2>=-0.785 and q2<=0.785) and (q3>=-0.785 and q3<=0.785)) then
	
if ((x1j7>=(L1-P1)) and (x1j7<=(L1+P1)) and (x2j7>=(-L2-P2)) and (x2j7<=(-L2+P2))) then // region 1 and 8
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u7=(-L2*a1*x1j7+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             gamma2u7=(-L2*b1*x1j7+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
         
         else if ((x1j7>=(-L1-P1)) and (x1j7<=(-L1+P1)) and (x2j7>=(-L2-P2)) and (x2j7<=(-L2+P2)))  then // region 2 and 3
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u7=(L2*a2*x1j7+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             gamma2u7=(L2*b2*x1j7+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
             
         else if ((x1j7>=(-L1-P1)) and (x1j7<=(-L1+P1)) and (x2j7>=(L2-P2)) and (x2j7<=(L2+P2))) then // region 4 and 5
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u7=(L2*a1*x1j7+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             gamma2u7=(L2*b1*x1j7+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             
            u7=gamma1*x1j7+gamma2*x2j7;
             
         else if ((x1j7>=(L1-P1)) and (x1j7<=(L1+P1)) and (x2j7>=(L2-P2)) and (x2j7<=(L2+P2))) then // region 6 and 7
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u7=(-L2*a2*x1j7+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             gamma2u7=(-L2*b2*x1j7+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
             
         else if ((x1j7>=0) and (x1j7<=(L1-P1)) and (x2j7>=(-L2-P2)) and (x2j7<=(-L2+P2)) and x2j7>=((-L2/L1)*x1j7)-((L2/L1)*P1+P2)) then // region 9
             gamma1L=(L2*(-a1+a2)*x1j7+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j7+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u7=(-L2*a1*x1j7+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             gamma2u7=(-L2*b1*x1j7+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;

         else if ((x1j7>=(-L1+P1)) and (x1j7<=0) and (x2j7>=(-L2-P2)) and (x2j7<=(-L2+P2)) and x2j7>=((L2/L1)*x1j7)-((L2/L1)*P1+P2)) then // region 10
             gamma1L=(L2*(-a1+a2)*x1j7+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j7+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u7=(L2*a2*x1j7+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             gamma2u7=(L2*b2*x1j7+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
             
         else if ((x1j7>=(-L1+P1)) and (x1j7<=(L1-P1)) and (x2j7>=(-L2-P2)) and (x2j7<=(-L2+P2)) and x2j7<=((-L2/L1)*x1j7)-((L2/L1)*P1+P2) and x2j7<=((L2/L1)*x1j7)-((L2/L1)*P1+P2)) then // region 17
             gamma1L=(L2*(-a1+a2)*x1j7+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j7+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u7=(L2*(-a1+a2)*x1j7+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j7));
             gamma2u7=(L2*(-b1+b2)*x1j7+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j7));
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
             
         else if ((x1j7>=(-L1+P1)) and (x1j7<=0) and (x2j7>=(L2-P2)) and (x2j7<=(L2+P2)) and x2j7<=((-L2/L1)*x1j7)+((L2/L1)*P1+P2)) then  // region 13
             gamma1L=(L2*(a1-a2)*x1j7+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j7+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u7=(L2*a1*x1j7+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             gamma2u7=(L2*b1*x1j7+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             
            gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
             
         else if ((x1j7>=0) and (x1j7<=(L1-P1)) and (x2j7>=(L2-P2)) and (x2j7<=(L2+P2)) and x2j7<=((L2/L1)*x1j7)+((L2/L1)*P1+P2)) then // region 14
             gamma1L=(L2*(a1-a2)*x1j7+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j7+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u7=(-L2*a2*x1j7+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             gamma2u7=(-L2*b2*x1j7+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
             
         else if ((x1j7>=(-L1+P1)) and (x1j7<=(L1-P1)) and (x2j7>=(L2-P2)) and (x2j7<=(L2+P2)) and x2j7>=(((-L2/L1)*x1j7)+((L2/L1)*P1+P2)) and x2j7>=(((L2/L1)*x1j7)+((L2/L1)*P1+P2))) then // region 19
             gamma1L=(L2*(a1-a2)*x1j7+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j7+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u7=(L2*(a1-a2)*x1j7+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j7));
             gamma2u7=(L2*(b1-b2)*x1j7+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j7));
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
             
         else if ((x1j7>=(-L1-P1)) and (x1j7<=(-L1+P1)) and (x2j7>=(-L2+P2)) and (x2j7<=0) and x2j7<=((L2/L1)*x1j7)+((L2/L1)*P1+P2)) then // region 11
             gamma1L=(L1*(-a1+a2)*x2j7+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j7+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u7=(L2*a2*x1j7+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             gamma2u7=(L2*b2*x1j7+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
             
        else if ((x1j7>=(-L1-P1)) and (x1j7<=(-L1+P1)) and (x2j7>=0) and (x2j7<=(L2-P2)) and x2j7>=((-L2/L1)*x1j7)-((L2/L1)*P1+P2)) then // region 12
             gamma1L=(L1*(-a1+a2)*x2j7+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j7+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u7=(L2*a1*x1j7+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             gamma2u7=(L2*b1*x1j7+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
             
       else if ((x1j7>=(-L1-P1)) and (x1j7<=(-L1+P1)) and (x2j7>=(-L2+P2)) and (x2j7<=(L2-P2)) and x2j7<=((-L2/L1)*x1j7)-((L2/L1)*P1+P2) and x2j7>=((L2/L1)*x1j7)+((L2/L1)*P1+P2)) then // region 18
             gamma1L=(L1*(-a1+a2)*x2j7+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j7+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u7=(L2*(a1+a2)*x1j7+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j7));
             gamma2u7=(L2*(b1+b2)*x1j7+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j7));
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
             
         else if ((x1j7>=(L1-P1)) and (x1j7<=(L1+P1)) and (x2j7>=(-L2+P2)) and  (x2j7<=(L2-P2)) and x2j7>=((L2/L1)*x1j7)-((L2/L1)*P1+P2)) then // region 15 
             gamma1L=(L1*(a1-a2)*x2j7+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j7+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u7=(-L2*a2*x1j7+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             gamma2u7=(-L2*b2*x1j7+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             
           gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
              
         else if ((x1j7>=(L1-P1)) and (x1j7<=(L1+P1)) and (x2j7>=(-L2+P2)) and (x2j7<=(L2-P2)) and x2j7<=(-(L2/L1)*x1j7)+((L2/L1)*P1+P2)) then // region 16
             gamma1L=(L1*(a1-a2)*x2j7+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j7+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u7=(-L2*a1*x1j7+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             gamma2u7=(-L2*b1*x1j7+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
              
         else if ((x1j7>=(L1-P1)) and (x1j7<=(L1+P1)) and (x2j7>=(-L2+P2)) and (x2j7<=(L2-P2)) and x2j7>=(-(L2/L1)*x1j7)+((L2/L1)*P1+P2) and x2j7<=((L2/L1)*x1j7)-((L2/L1)*P1+P2)) then // region 20
             gamma1L=(L1*(a1-a2)*x2j7+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j7+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u7=(L2*(-a1-a2)*x1j7+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j7));
             gamma2u7=(L2*(-b1-b2)*x1j7+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j7));
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
              
	else if (x2j7>=((-L2/L1)*x1j7)-((L2/L1)*P1+P2) and x2j7<=((L2/L1)*x1j7)-((L2/L1)*P1+P2) and x2j7<=(-(L2+P2/L1+P1)*x1j7) and x2j7>=(-L2+P2)) then //%region 21
             gamma1L=(L2*(-a1+a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j7)/(2*(L1*x2j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j7)/(2*(L1*x2j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(-L2*a1*x1j7+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             gamma2u7=(-L2*b1*x1j7+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
             
         else if (x2j7<=((-L2/L1)*x1j7)-((L2/L1)*P1+P2) and x2j7>=((L2/L1)*x1j7)-((L2/L1)*P1+P2) and x2j7<=((L2+P2/L1+P1)*x1j7) and x2j7>=(-L2+P2)) then //%region 22
             gamma1L=(L2*(-a1+a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j7)/(2*(L1*x2j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j7)/(2*(L1*x2j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(L2*a2*x1j7+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             gamma2u7=(L2*b2*x1j7+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
                          
            u7=gamma1*x1j7+gamma2*x2j7;
                  
         else if (x2j7<=((-L2/L1)*x1j7)-((L2/L1)*P1+P2) and x2j7<=((L2/L1)*x1j7)-((L2/L1)*P1+P2) and x2j7>=(-L2+P2)) then //%region 29
             gamma1L=(L2*(-a1+a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j7)/(2*(L1*x2j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j7)/(2*(L1*x2j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(L2*(-a1+a2)*x1j7+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j7));
             gamma2u7=(L2*(-b1+b2)*x1j7+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j7));
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
             
        else if (x2j7<=((-L2/L1)*x1j7)-((L2/L1)*P1+P2) and x2j7<=((L2/L1)*x1j7)+((L2/L1)*P1+P2) and x2j7>=((L2+P2/L1+P1)*x1j7) and x1j7>=(-L1+P1) and x2j7>=(-L2+P2)) then //%region 23
             gamma1L=(L2*(a1+a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j7)/(2*(L2*x1j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j7)/(2*(L2*x1j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(L2*a2*x1j7+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             gamma2u7=(L2*b1*x1j7+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
            
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
      
         else if (x2j7>=((-L2/L1)*x1j7)-((L2/L1)*P1+P2) and x2j7>=((L2/L1)*x1j7)+((L2/L1)*P1+P2) and x2j7<=(-(L2+P2/L1+P1)*x1j7) and x1j7>=(-L1+P1) and x2j7<=(L2-P2)) then //%region 24
             gamma1L=(L2*(a1+a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j7)/(2*(L2*x1j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j7)/(2*(L2*x1j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(L2*a1*x1j7+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             gamma2u7=(L2*b1*x1j7+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
            u7=gamma1*x1j7+gamma2*x2j7;
           
         else if (x2j7>=((L2/L1)*x1j7)+((L2/L1)*P1+P2) and x2j7<=((-L2/L1)*x1j7)-((L2/L1)*P1+P2) and x1j7>=(-L1+P1)) then //%region 30
             gamma1L=(L2*(a1+a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j7)/(2*(L2*x1j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j7)/(2*(L2*x1j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(L2*(a1+a2)*x1j7+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j7));
             gamma2u7=(L2*(b1+b2)*x1j7+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j7));
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
                
        else if (x2j7>=((L2/L1)*x1j7)+((L2/L1)*P1+P2) and x2j7<=(-(L2/L1)*x1j7)+((L2/L1)*P1+P2) and x2j7>=(-(L2+P2/L1+P1)*x1j7) and x2j7<=(L2-P2) and x1j7>=(-L1+P1)) then //%region 25
             gamma1L=(L2*(a1-a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j7)/(2*(-L1*x2j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j7)/(2*(-L1*x2j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(L2*a1*x1j7+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             gamma2u7=(L2*b1*x1j7+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j7)/(L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
             
         else if (x2j7<=((L2/L1)*x1j7)+((L2/L1)*P1+P2) and x2j7>=(-(L2/L1)*x1j7)+((L2/L1)*P1+P2) and x2j7>=((L2+P2/L1+P1)*x1j7) and x2j7<=(L2-P2)) then //%region 26
             gamma1L=(L2*(a1-a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j7)/(2*(-L1*x2j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j7)/(2*(-L1*x2j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(-L2*a2*x1j7+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             gamma2u7=(-L2*b2*x1j7+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
                  
         else if (x2j7>=((-L2/L1)*x1j7)+((L2/L1)*P1+P2) and x2j7>=((L2/L1)*x1j7)+((L2/L1)*P1+P2) and x2j7<=(L2-P2)) then //%region 31
             gamma1L=(L2*(a1-a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j7)/(2*(-L1*x2j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j7)/(2*(-L1*x2j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(L2*(a1-a2)*x1j7+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j7));
             gamma2u7=(L2*(b1-b2)*x1j7+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j7));
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
           
            
         
        else if (x2j7>=((L2/L1)*x1j7)-((L2/L1)*P1+P2) and x2j7>=((-L2/L1)*x1j7)+((L2/L1)*P1+P2) and x2j7<=((L2+P2/L1+P1)*x1j7) and x1j7<=(L1-P1) and x2j7<=(L2-P2)) then //%region 27
             gamma1L=(L2*(-a1-a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j7)/(2*(-L2*x1j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j7)/(2*(-L2*x1j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(-L2*a2*x1j7+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             gamma2u7=(-L2*b2*x1j7+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)-L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
     
         else if (x2j7<=((L2/L1)*x1j7)+((L2/L1)*P1+P2) and x2j7<=((L2/L1)*x1j7)-((L2/L1)*P1+P2) and x2j7>=(-(L2+P2/L1+P1)*x1j7) and x1j7<=(L1-P1) and x2j7>=(-L2+P2)) then //%region 28
             gamma1L=(L2*(-a1-a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j7)/(2*(-L2*x1j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j7)/(2*(-L2*x1j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(-L2*a1*x1j7+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             gamma2u7=(-L2*b1*x1j7+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j7)/(-L2*x1j7+2*L1*L2*(2+t1+t2)+L1*x2j7);
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
           
         else if (x2j7<=((L2/L1)*x1j7)-((L2/L1)*P1+P2) and x2j7>=((-L2/L1)*x1j7)+((L2/L1)*P1+P2) and x1j7<=(L1-P1)) then //%region 32
             gamma1L=(L2*(-a1-a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j7)/(2*(-L2*x1j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j7)/(2*(-L2*x1j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(L2*(-a1-a2)*x1j7+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j7));
             gamma2u7=(L2*(-b1-b2)*x1j7+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j7)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j7));
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;  
             
             u7=gamma1*x1j7+gamma2*x2j7;
          
        else if (x2j7<=((L2+P2)/(L1+P1)*x1j7) and x2j7<=(-(L2+P2)/(L1+P1)*x1j7) and x2j7>=((-L2/L1)*x1j7)-((L2/L1)*P1+P2) and x2j7>=((L2/L1)*x1j7)-((L2/L1)*P1+P2)) then // %region 33
             gamma1L=(L2*(-a1+a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j7)/(2*(L1*x2j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j7)/(2*(L1*x2j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(a1+a2)/2;
             gamma2u7=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;   
             
             u7=gamma1*x1j7+gamma2*x2j7;
         
         else if (x2j7>=((L2+P2)/(L1+P1)*x1j7) and x2j7<=(-(L2+P2)/(L1+P1)*x1j7) and x2j7>=((-L2/L1)*x1j7)-((L2/L1)*P1+P2) and x2j7<=((L2/L1)*x1j7)+((L2/L1)*P1+P2)) then //%region 34
             gamma1L=(L2*(a1+a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j7)/(2*(L2*x1j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j7)/(2*(L2*x1j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(a1+a2)/2;
             gamma2u7=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
             
         else if (x2j7>=((L2+P2)/(L1+P1)*x1j7) and x2j7>=(-(L2+P2)/(L1+P1)*x1j7) and x2j7<=((-L2/L1)*x1j7)+((L2/L1)*P1+P2) and x2j7<=((L2/L1)*x1j7)+((L2/L1)*P1+P2)) then  //%region 35
             gamma1L=(L2*(a1-a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j7)/(2*(-L1*x2j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j7)/(2*(-L1*x2j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(a1+a2)/2;
             gamma2u7=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
         
         else if (x2j7<=((L2+P2)/(L1+P1)*x1j7) and x2j7>=(-(L2+P2)/(L1+P1)*x1j7) and x2j7<=((-L2/L1)*x1j7)+((L2/L1)*P1+P2) and x2j7>=((L2/L1)*x1j7)-((L2/L1)*P1+P2)) then //region 36
             gamma1L=(L2*(-a1-a2)*x1j7+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j7)/(2*(-L2*x1j7+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j7+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j7)/(2*(-L2*x1j7+2*L1*L2*(1-t1-t2)));
             
             gamma1u7=(a1+a2)/2;
             gamma2u7=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u7)/2;
             gamma2=(gamma2L+gamma2u7)/2;
             
             u7=gamma1*x1j7+gamma2*x2j7;
              
         else
            gamma1 = 0;
            gamma2 = 0;
            u7=gamma1*x1j7+gamma2*x2j7;
         end;  
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
  
//else
// u7=0
//	end;
	

	p.e = S7*u7;
	flow = p.f;
implementation_end;
         Sf 344 352
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Sf.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:38:03</TimeStamp>
</Description>
</Information>';
          type Sf
           ports
            power out p;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'Sf' 344 352 color 0 18 bold;
          end;
          implementation eq
parameters
	real global a1,a2,w1,w2,d,phi02,Kp,Kd;
	real initial = 0;
variables
	real global phir7;
	real global dphir7;
	real global dphi7,phi7;
	real effort;
	real global q2,q3;
	//real global n;
	//real global t2;
	//real global t3;
	
equations
	//t2=1;
	//t3=time;
	//if t2<=t3 and t2>0 then
				//n= floor (t3/t2);
				//t2=t3-(t2*n);
				//else
					//t2=t3;	
					//end;
	
	phir7=a1*sin((w1*time)+(6*d))+a2*sin((w2*time)+(6*d));

		
	dphir7=ddt(phir7,initial);
	//if -0.785<=phi2<=0.785 then //and -0.785<=q3<=0.785 then
	//p.e = Kp*(phir2-phi2)-Kd*(dphir2-dphi2);
	//else
		p.f=phir7;
		//end;
effort = p.e;
implementation_end;
         Splitter1 480 256
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [1];
            signal knot in input [1];
          end;
          icon bg ellipse
           figures
            ellipse 476.8 252.8 483.2 259.2 color -1 fill 0;
            ellipse 475.7 251.7 484.3 260.3 color -1;
           terminals
            input 480 256 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
        end;
        connections
         Delay\input <- Splitter1\output;
         Delay\output -> PlusMinus1\minus;
         Gain1\output -> MSf3\flow;
         Gain2\output -> MSf2\flow;
         Integrate\output -> PlusMinus\minus;
         MSe1\p => OneJunction\p;
         MSf2\p => OneJunction2\p;
         MSf3\p => OneJunction3\p;
         OneJunction\flow -> Integrate\input;
         OneJunction\p => C\p;
         OneJunction1\flow -> PlusMinus\plus;
         phi2 => OneJunction\p;
         PlusMinus1\output -> Gain2\input;
         Pulse1\output -> MSe1\effort;
         R\p <= OneJunction\p;
         Se1\p => OneJunction\p;
         Sf\p => OneJunction1\p;
         Splitter1\input <- PlusMinus\output;
         Splitter1\output -> Gain1\input;
         Splitter1\output -> PlusMinus1\plus 480 184;
        end;
       implementation_end;
      control8 112 264
       description '<Information><Description><Version>4.7</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type Submodel
        ports
         power in phi2;
       end;
       implementation bg
        submodels
         C 192 112
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 192 112 color 0 18 bold;
          end;
          implementation eq
parameters
	real c = 0;
equations
	state = int(p.f);
	p.e = state * c;
implementation_end;
         Delay 632 256
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Delay-Time.emx</LibraryPath>
  <TimeStamp>2007-12-6 15:29:52</TimeStamp>
</Description>';
          type 'Delay-Time'
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 616 240 648 272 color 0 fill 15132390;
            line 620.5 246.4 620.5 265.6 color 0;
            line 646.1 256 617.3 256 color 0;
            spline 620.8 249.8 625.8 249.3 628.8 254.4 631.7 260.3 635.9 262.6 color 16711680;
            spline 631.5 249.3 636.3 249.3 638.9 253.3 641.6 258.7 646.4 262.1 color 16711680;
            group
             line 636.8 251.9 636.8 253.3 color 16711680;
             group
              line 636.8 253.3 636.8 251.9 color 16711680;
              line 629.5 252.7 636.8 252.7 color 16711680;
             end;
            end;
          end;
          implementation eq
parameters
	real delay = 0.1 {s};	// time delay (s)
	real initial = 0;		// initial value
variables
	real delayOutput;
equations
	delayOutput =  tdelay (input,delay);
	if (time <= delay) then
		output = initial;
	else
		output = delayOutput;
	end;
       implementation_end;
         Gain1 480 288
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 464.1 272 495.9 304 color 0 fill 15132390;
            text 'K' 480 288 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 0.1;		// gain
equations
	output = K * input;
    implementation_end;
         Gain2 664 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:15:12</TimeStamp>
</Description>';
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 648.1 168 679.9 200 color 0 fill 15132390;
            text 'K' 664 184 color 16711680 16 bold;
          end;
          implementation eq
parameters
	real K = 10;		// gain
equations
	output = K * input;
    implementation_end;
         Integrate 256 256
          description '<Information>
 <Description>
    <Version>4.3</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
  <TimeStamp>2013-3-8 14:47:42</TimeStamp>
</Description>
</Information>';
          type Integrate
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 240 240 272 272 color 0 fill 15132390;
            text '∫' 256 256.3 color 16711680 'Lucida Sans' 21 italic;
          end;
          implementation eq
parameters
	real initial = -0.35;		// initial value
equations
	output = int (input, initial);
     implementation_end;
         MSe1 200 176
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:12:33</TimeStamp>
</Description>
</Information>';
          type MSe
           ports
            power out p;
            signal in effort;
           restrictions
            causality fixed out p;
          end;
          icon bg bottom
           figures
            text 'MSe' 200 176 color 0 18 bold;
          end;
          implementation eq
variables
	real flow;
equations
	p.e = effort;
	flow = p.f;
implementation_end;
         MSf2 704 184
          description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MSf.emx</LibraryPath><TimeStamp>2011-11-29 16:14:18</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 704 184 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         MSf3 480 408
          description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MSf.emx</LibraryPath><TimeStamp>2011-11-29 16:14:18</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
          type MSf
           ports
            power out p;
            signal in flow;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'MSf' 480 408 color 0 18 bold;
          end;
          implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
         plug phi2 352 176;
         OneJunction 256 176
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 256 176 color 0 18 bold;
          end;
          implementation eq
variables
	real global dphi8;
	real global phi8;
	
parameters
	real initial = -0.35;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dphi8=flow;
	phi8= int(dphi8,initial);implementation_end;
         OneJunction1 344 304
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 344 304 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         OneJunction2 784 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 784 184 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global  x2j8;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x2j8=flow;
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         OneJunction3 600 408
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction-Activity.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:29:59</TimeStamp>
</Description>';
          knot 'OneJunction-Activity'
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 600 408 color 128 18 bold;
          end;
          implementation eq
variables
	real power [any];
	real activity [any];
	real maximum_activity;
	real relative_activity [any];
	real global x1j8;
equations
	"normal junction equations"
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	x1j8=flow;
	
	"calculate the activity for each bond"
	power = direct (p.e) * flow;
	activity = int (abs (power));

	"calculate the relative activity as well"
	maximum_activity = max (activity);
	relative_activity = if maximum_activity > 0 then
		activity ./ maximum_activity
	else
		activity
	end;
implementation_end;
         PlusMinus 344 256
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 336 248 352 264 color 0 fill 16777215;
          end;
          implementation eq
variables
real global e8,ISE8;
equations
    output = sum (collect (plus)) - sum (collect (minus));
    e8=output;
ISE8= int(e8 .^ 2);implementation_end;
         PlusMinus1 632 184
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
          knot PlusMinus
           ports
            signal knot duplicatable in plus [1];
            signal knot duplicatable in minus [1];
            signal knot out output [1];
          end;
          icon bg ellipse
           figures
            ellipse 624 176 640 192 color 0 fill 16777215;
          end;
          implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
         Pulse1 120 176
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Sources\SignalGenerator-Pulse.emx</LibraryPath>
  <TimeStamp>2007-9-27 16:1:38</TimeStamp>
</Description>';
          type 'SignalGenerator-Pulse'
           ports
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 104.1 160 135.9 192 color 0 fill 15132390;
            line 115.7 174.4 121.4 174.4 color 16711680 width 2;
            line 107 186.2 133 186.2 color 0;
            line 110 186.1 115.6 186.1 115.6 174.5 color 16711680 width 2;
            line 110 168.6 110 189 color 0;
            line 130.2 186.2 121.4 186.1 121.4 174.5 color 16711680 width 2;
          end;
          implementation eq
parameters
	real global start_time ;
	real global stop_time;
	real global amplitude ;
variables
	boolean hidden change;
	real global distb8;
equations
	"calculate at least at the start and stop time"
	change = timeevent (start_time) or timeevent (stop_time);

	"calculate the block signal"
	output = amplitude * (step (start_time) - step (stop_time));
distb8=output;implementation_end;
         R 320 128
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 320 128 color 0 18 bold;
          end;
          implementation eq
parameters
	real r = 0;
equations
	p.e = r * p.f;
implementation_end;
         Se1 256 112
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Se.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:36:49</TimeStamp>
</Description>
</Information>';
          type Se
           ports
            power out p;
           restrictions
            causality fixed out p;
          end;
          icon bg top
           figures
            text 'Se' 256 112 color 0 18 bold;
          end;
          implementation eq
parameters
real a1= 10.249693145166; 
real a2= 4.5201813769593; 
real b1= 2.6258997653981; 
real b2= 0.65139994890386;
real L1= 1967.8424408067; 
real L2= 15454.46353873;
real global S8;

variables
	real flow;
	real global x1j8,x2j8;
	real P1,P2,t1,t2;
	real gamma1L, gamma1u8, gamma2L, gamma2u8, gamma1, gamma2;
	real global u8, q1, q2, q3;
equations
	P1=L1/2; 
	P2=L2/2;
	t1=P1/(2*L1); 
	t2=P2/(2*L2);
	
//if ((q1>=-0.785 and q1<=0.785) and (q2>=-0.785 and q2<=0.785) and (q3>=-0.785 and q3<=0.785)) then
	
if ((x1j8>=(L1-P1)) and (x1j8<=(L1+P1)) and (x2j8>=(-L2-P2)) and (x2j8<=(-L2+P2))) then // region 1 and 8
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u8=(-L2*a1*x1j8+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             gamma2u8=(-L2*b1*x1j8+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
         
         else if ((x1j8>=(-L1-P1)) and (x1j8<=(-L1+P1)) and (x2j8>=(-L2-P2)) and (x2j8<=(-L2+P2)))  then // region 2 and 3
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u8=(L2*a2*x1j8+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             gamma2u8=(L2*b2*x1j8+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
             
         else if ((x1j8>=(-L1-P1)) and (x1j8<=(-L1+P1)) and (x2j8>=(L2-P2)) and (x2j8<=(L2+P2))) then // region 4 and 5
             gamma1L=a2;
             gamma2L=b2;
             
             gamma1u8=(L2*a1*x1j8+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             gamma2u8=(L2*b1*x1j8+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             
            u8=gamma1*x1j8+gamma2*x2j8;
             
         else if ((x1j8>=(L1-P1)) and (x1j8<=(L1+P1)) and (x2j8>=(L2-P2)) and (x2j8<=(L2+P2))) then // region 6 and 7
             gamma1L=a1;
             gamma2L=b1;
             
             gamma1u8=(-L2*a2*x1j8+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             gamma2u8=(-L2*b2*x1j8+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
             
         else if ((x1j8>=0) and (x1j8<=(L1-P1)) and (x2j8>=(-L2-P2)) and (x2j8<=(-L2+P2)) and x2j8>=((-L2/L1)*x1j8)-((L2/L1)*P1+P2)) then // region 9
             gamma1L=(L2*(-a1+a2)*x1j8+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j8+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u8=(-L2*a1*x1j8+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             gamma2u8=(-L2*b1*x1j8+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;

         else if ((x1j8>=(-L1+P1)) and (x1j8<=0) and (x2j8>=(-L2-P2)) and (x2j8<=(-L2+P2)) and x2j8>=((L2/L1)*x1j8)-((L2/L1)*P1+P2)) then // region 10
             gamma1L=(L2*(-a1+a2)*x1j8+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j8+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u8=(L2*a2*x1j8+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             gamma2u8=(L2*b2*x1j8+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
             
         else if ((x1j8>=(-L1+P1)) and (x1j8<=(L1-P1)) and (x2j8>=(-L2-P2)) and (x2j8<=(-L2+P2)) and x2j8<=((-L2/L1)*x1j8)-((L2/L1)*P1+P2) and x2j8<=((L2/L1)*x1j8)-((L2/L1)*P1+P2)) then // region 17
             gamma1L=(L2*(-a1+a2)*x1j8+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(-b1+b2)*x1j8+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u8=(L2*(-a1+a2)*x1j8+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j8));
             gamma2u8=(L2*(-b1+b2)*x1j8+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j8));
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
             
         else if ((x1j8>=(-L1+P1)) and (x1j8<=0) and (x2j8>=(L2-P2)) and (x2j8<=(L2+P2)) and x2j8<=((-L2/L1)*x1j8)+((L2/L1)*P1+P2)) then  // region 13
             gamma1L=(L2*(a1-a2)*x1j8+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j8+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u8=(L2*a1*x1j8+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             gamma2u8=(L2*b1*x1j8+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             
            gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
             
         else if ((x1j8>=0) and (x1j8<=(L1-P1)) and (x2j8>=(L2-P2)) and (x2j8<=(L2+P2)) and x2j8<=((L2/L1)*x1j8)+((L2/L1)*P1+P2)) then // region 14
             gamma1L=(L2*(a1-a2)*x1j8+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j8+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u8=(-L2*a2*x1j8+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             gamma2u8=(-L2*b2*x1j8+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
             
         else if ((x1j8>=(-L1+P1)) and (x1j8<=(L1-P1)) and (x2j8>=(L2-P2)) and (x2j8<=(L2+P2)) and x2j8>=(((-L2/L1)*x1j8)+((L2/L1)*P1+P2)) and x2j8>=(((L2/L1)*x1j8)+((L2/L1)*P1+P2))) then // region 19
             gamma1L=(L2*(a1-a2)*x1j8+2*L1*L2*(0.5-t1)*(a1+a2))/(4*L1*L2*(0.5-t1));
             gamma2L=(L2*(b1-b2)*x1j8+2*L1*L2*(0.5-t1)*(b1+b2))/(4*L1*L2*(0.5-t1));
             
             gamma1u8=(L2*(a1-a2)*x1j8+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j8));
             gamma2u8=(L2*(b1-b2)*x1j8+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j8));
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
             
         else if ((x1j8>=(-L1-P1)) and (x1j8<=(-L1+P1)) and (x2j8>=(-L2+P2)) and (x2j8<=0) and x2j8<=((L2/L1)*x1j8)+((L2/L1)*P1+P2)) then // region 11
             gamma1L=(L1*(-a1+a2)*x2j8+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j8+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u8=(L2*a2*x1j8+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             gamma2u8=(L2*b2*x1j8+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
             
        else if ((x1j8>=(-L1-P1)) and (x1j8<=(-L1+P1)) and (x2j8>=0) and (x2j8<=(L2-P2)) and x2j8>=((-L2/L1)*x1j8)-((L2/L1)*P1+P2)) then // region 12
             gamma1L=(L1*(-a1+a2)*x2j8+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j8+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u8=(L2*a1*x1j8+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             gamma2u8=(L2*b1*x1j8+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
             
       else if ((x1j8>=(-L1-P1)) and (x1j8<=(-L1+P1)) and (x2j8>=(-L2+P2)) and (x2j8<=(L2-P2)) and x2j8<=((-L2/L1)*x1j8)-((L2/L1)*P1+P2) and x2j8>=((L2/L1)*x1j8)+((L2/L1)*P1+P2)) then // region 18
             gamma1L=(L1*(-a1+a2)*x2j8+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(-b1+b2)*x2j8+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u8=(L2*(a1+a2)*x1j8+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j8));
             gamma2u8=(L2*(b1+b2)*x1j8+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j8));
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
             
         else if ((x1j8>=(L1-P1)) and (x1j8<=(L1+P1)) and (x2j8>=(-L2+P2)) and  (x2j8<=(L2-P2)) and x2j8>=((L2/L1)*x1j8)-((L2/L1)*P1+P2)) then // region 15 
             gamma1L=(L1*(a1-a2)*x2j8+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j8+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u8=(-L2*a2*x1j8+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             gamma2u8=(-L2*b2*x1j8+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             
           gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
              
         else if ((x1j8>=(L1-P1)) and (x1j8<=(L1+P1)) and (x2j8>=(-L2+P2)) and (x2j8<=(L2-P2)) and x2j8<=(-(L2/L1)*x1j8)+((L2/L1)*P1+P2)) then // region 16
             gamma1L=(L1*(a1-a2)*x2j8+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j8+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u8=(-L2*a1*x1j8+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             gamma2u8=(-L2*b1*x1j8+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
              
         else if ((x1j8>=(L1-P1)) and (x1j8<=(L1+P1)) and (x2j8>=(-L2+P2)) and (x2j8<=(L2-P2)) and x2j8>=(-(L2/L1)*x1j8)+((L2/L1)*P1+P2) and x2j8<=((L2/L1)*x1j8)-((L2/L1)*P1+P2)) then // region 20
             gamma1L=(L1*(a1-a2)*x2j8+2*L1*L2*(0.5-t2)*(a1+a2))/(4*L1*L2*(0.5-t2));
             gamma2L=(L1*(b1-b2)*x2j8+2*L1*L2*(0.5-t2)*(b1+b2))/(4*L1*L2*(0.5-t2));
             
             gamma1u8=(L2*(-a1-a2)*x1j8+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j8));
             gamma2u8=(L2*(-b1-b2)*x1j8+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j8));
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
              
	else if (x2j8>=((-L2/L1)*x1j8)-((L2/L1)*P1+P2) and x2j8<=((L2/L1)*x1j8)-((L2/L1)*P1+P2) and x2j8<=(-(L2+P2/L1+P1)*x1j8) and x2j8>=(-L2+P2)) then //%region 21
             gamma1L=(L2*(-a1+a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j8)/(2*(L1*x2j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j8)/(2*(L1*x2j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(-L2*a1*x1j8+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             gamma2u8=(-L2*b1*x1j8+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
             
         else if (x2j8<=((-L2/L1)*x1j8)-((L2/L1)*P1+P2) and x2j8>=((L2/L1)*x1j8)-((L2/L1)*P1+P2) and x2j8<=((L2+P2/L1+P1)*x1j8) and x2j8>=(-L2+P2)) then //%region 22
             gamma1L=(L2*(-a1+a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j8)/(2*(L1*x2j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j8)/(2*(L1*x2j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(L2*a2*x1j8+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             gamma2u8=(L2*b2*x1j8+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
                          
            u8=gamma1*x1j8+gamma2*x2j8;
                  
         else if (x2j8<=((-L2/L1)*x1j8)-((L2/L1)*P1+P2) and x2j8<=((L2/L1)*x1j8)-((L2/L1)*P1+P2) and x2j8>=(-L2+P2)) then //%region 29
             gamma1L=(L2*(-a1+a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j8)/(2*(L1*x2j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j8)/(2*(L1*x2j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(L2*(-a1+a2)*x1j8+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1+a2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j8));
             gamma2u8=(L2*(-b1+b2)*x1j8+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1+b2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)+L1*x2j8));
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
             
        else if (x2j8<=((-L2/L1)*x1j8)-((L2/L1)*P1+P2) and x2j8<=((L2/L1)*x1j8)+((L2/L1)*P1+P2) and x2j8>=((L2+P2/L1+P1)*x1j8) and x1j8>=(-L1+P1) and x2j8>=(-L2+P2)) then //%region 23
             gamma1L=(L2*(a1+a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j8)/(2*(L2*x1j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j8)/(2*(L2*x1j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(L2*a2*x1j8+2*L1*L2*((1+t1+t2)*a2+a1)+L1*a2*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             gamma2u8=(L2*b1*x1j8+2*L1*L2*((1+t1+t2)*b2+b1)+L1*b2*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
            
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
      
         else if (x2j8>=((-L2/L1)*x1j8)-((L2/L1)*P1+P2) and x2j8>=((L2/L1)*x1j8)+((L2/L1)*P1+P2) and x2j8<=(-(L2+P2/L1+P1)*x1j8) and x1j8>=(-L1+P1) and x2j8<=(L2-P2)) then //%region 24
             gamma1L=(L2*(a1+a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j8)/(2*(L2*x1j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j8)/(2*(L2*x1j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(L2*a1*x1j8+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             gamma2u8=(L2*b1*x1j8+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
            u8=gamma1*x1j8+gamma2*x2j8;
           
         else if (x2j8>=((L2/L1)*x1j8)+((L2/L1)*P1+P2) and x2j8<=((-L2/L1)*x1j8)-((L2/L1)*P1+P2) and x1j8>=(-L1+P1)) then //%region 30
             gamma1L=(L2*(a1+a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j8)/(2*(L2*x1j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j8)/(2*(L2*x1j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(L2*(a1+a2)*x1j8+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1+a2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j8));
             gamma2u8=(L2*(b1+b2)*x1j8+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1+b2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)+L2*x1j8));
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
                
        else if (x2j8>=((L2/L1)*x1j8)+((L2/L1)*P1+P2) and x2j8<=(-(L2/L1)*x1j8)+((L2/L1)*P1+P2) and x2j8>=(-(L2+P2/L1+P1)*x1j8) and x2j8<=(L2-P2) and x1j8>=(-L1+P1)) then //%region 25
             gamma1L=(L2*(a1-a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j8)/(2*(-L1*x2j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j8)/(2*(-L1*x2j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(L2*a1*x1j8+2*L1*L2*((1+t1+t2)*a1+a2)-L1*a1*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             gamma2u8=(L2*b1*x1j8+2*L1*L2*((1+t1+t2)*b1+b2)-L1*b1*x2j8)/(L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
             
         else if (x2j8<=((L2/L1)*x1j8)+((L2/L1)*P1+P2) and x2j8>=(-(L2/L1)*x1j8)+((L2/L1)*P1+P2) and x2j8>=((L2+P2/L1+P1)*x1j8) and x2j8<=(L2-P2)) then //%region 26
             gamma1L=(L2*(a1-a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j8)/(2*(-L1*x2j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j8)/(2*(-L1*x2j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(-L2*a2*x1j8+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             gamma2u8=(-L2*b2*x1j8+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
                  
         else if (x2j8>=((-L2/L1)*x1j8)+((L2/L1)*P1+P2) and x2j8>=((L2/L1)*x1j8)+((L2/L1)*P1+P2) and x2j8<=(L2-P2)) then //%region 31
             gamma1L=(L2*(a1-a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j8)/(2*(-L1*x2j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j8)/(2*(-L1*x2j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(L2*(a1-a2)*x1j8+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(-a1-a2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j8));
             gamma2u8=(L2*(b1-b2)*x1j8+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(-b1-b2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)-L1*x2j8));
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
           
            
         
        else if (x2j8>=((L2/L1)*x1j8)-((L2/L1)*P1+P2) and x2j8>=((-L2/L1)*x1j8)+((L2/L1)*P1+P2) and x2j8<=((L2+P2/L1+P1)*x1j8) and x1j8<=(L1-P1) and x2j8<=(L2-P2)) then //%region 27
             gamma1L=(L2*(-a1-a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j8)/(2*(-L2*x1j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j8)/(2*(-L2*x1j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(-L2*a2*x1j8+2*L1*L2*((1+t1+t2)*a2+a1)-L1*a2*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             gamma2u8=(-L2*b2*x1j8+2*L1*L2*((1+t1+t2)*b2+b1)-L1*b2*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)-L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
     
         else if (x2j8<=((L2/L1)*x1j8)+((L2/L1)*P1+P2) and x2j8<=((L2/L1)*x1j8)-((L2/L1)*P1+P2) and x2j8>=(-(L2+P2/L1+P1)*x1j8) and x1j8<=(L1-P1) and x2j8>=(-L2+P2)) then //%region 28
             gamma1L=(L2*(-a1-a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j8)/(2*(-L2*x1j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j8)/(2*(-L2*x1j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(-L2*a1*x1j8+2*L1*L2*((1+t1+t2)*a1+a2)+L1*a1*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             gamma2u8=(-L2*b1*x1j8+2*L1*L2*((1+t1+t2)*b1+b2)+L1*b1*x2j8)/(-L2*x1j8+2*L1*L2*(2+t1+t2)+L1*x2j8);
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
           
         else if (x2j8<=((L2/L1)*x1j8)-((L2/L1)*P1+P2) and x2j8>=((-L2/L1)*x1j8)+((L2/L1)*P1+P2) and x1j8<=(L1-P1)) then //%region 32
             gamma1L=(L2*(-a1-a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j8)/(2*(-L2*x1j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j8)/(2*(-L2*x1j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(L2*(-a1-a2)*x1j8+2*L1*L2*(1+t1+t2)*(a1+a2)+L1*(a1-a2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j8));
             gamma2u8=(L2*(-b1-b2)*x1j8+2*L1*L2*(1+t1+t2)*(b1+b2)+L1*(b1-b2)*x2j8)/(2*(2*L1*L2*(1+t1+t2)-L2*x1j8));
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;  
             
             u8=gamma1*x1j8+gamma2*x2j8;
          
        else if (x2j8<=((L2+P2)/(L1+P1)*x1j8) and x2j8<=(-(L2+P2)/(L1+P1)*x1j8) and x2j8>=((-L2/L1)*x1j8)-((L2/L1)*P1+P2) and x2j8>=((L2/L1)*x1j8)-((L2/L1)*P1+P2)) then // %region 33
             gamma1L=(L2*(-a1+a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1+a2)*x2j8)/(2*(L1*x2j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1+b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1+b2)*x2j8)/(2*(L1*x2j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(a1+a2)/2;
             gamma2u8=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;   
             
             u8=gamma1*x1j8+gamma2*x2j8;
         
         else if (x2j8>=((L2+P2)/(L1+P1)*x1j8) and x2j8<=(-(L2+P2)/(L1+P1)*x1j8) and x2j8>=((-L2/L1)*x1j8)-((L2/L1)*P1+P2) and x2j8<=((L2/L1)*x1j8)+((L2/L1)*P1+P2)) then //%region 34
             gamma1L=(L2*(a1+a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1+a2)*x2j8)/(2*(L2*x1j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1+b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1+b2)*x2j8)/(2*(L2*x1j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(a1+a2)/2;
             gamma2u8=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
             
         else if (x2j8>=((L2+P2)/(L1+P1)*x1j8) and x2j8>=(-(L2+P2)/(L1+P1)*x1j8) and x2j8<=((-L2/L1)*x1j8)+((L2/L1)*P1+P2) and x2j8<=((L2/L1)*x1j8)+((L2/L1)*P1+P2)) then  //%region 35
             gamma1L=(L2*(a1-a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(-a1-a2)*x2j8)/(2*(-L1*x2j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(b1-b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(-b1-b2)*x2j8)/(2*(-L1*x2j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(a1+a2)/2;
             gamma2u8=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
         
         else if (x2j8<=((L2+P2)/(L1+P1)*x1j8) and x2j8>=(-(L2+P2)/(L1+P1)*x1j8) and x2j8<=((-L2/L1)*x1j8)+((L2/L1)*P1+P2) and x2j8>=((L2/L1)*x1j8)-((L2/L1)*P1+P2)) then //region 36
             gamma1L=(L2*(-a1-a2)*x1j8+2*L1*L2*(1-t1-t2)*(a1+a2)+L1*(a1-a2)*x2j8)/(2*(-L2*x1j8+2*L1*L2*(1-t1-t2)));
             gamma2L=(L2*(-b1-b2)*x1j8+2*L1*L2*(1-t1-t2)*(b1+b2)+L1*(b1-b2)*x2j8)/(2*(-L2*x1j8+2*L1*L2*(1-t1-t2)));
             
             gamma1u8=(a1+a2)/2;
             gamma2u8=(b1+b2)/2;
             
             gamma1=(gamma1L+gamma1u8)/2;
             gamma2=(gamma2L+gamma2u8)/2;
             
             u8=gamma1*x1j8+gamma2*x2j8;
              
         else
            gamma1 = 0;
            gamma2 = 0;
            u8=gamma1*x1j8+gamma2*x2j8;
         end;  
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
end;
  
//else
// u8=0
//	end;
	

	p.e = S8*u8;
	flow = p.f;
implementation_end;
         Sf 344 352
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\Sf.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:38:03</TimeStamp>
</Description>
</Information>';
          type Sf
           ports
            power out p;
           restrictions
            causality fixed in p;
          end;
          icon bg bottom
           figures
            text 'Sf' 344 352 color 0 18 bold;
          end;
          implementation eq
parameters
	real global a1,a2,w1,w2,d,phi02,Kp,Kd;
	real initial = 0;
variables
	real global phir8;
	real global dphir8;
	real global dphi8,phi8;
	real effort;
	real global q2,q3;
	//real global n;
	//real global t2;
	//real global t3;
	
equations
	//t2=1;
	//t3=time;
	//if t2<=t3 and t2>0 then
				//n= floor (t3/t2);
				//t2=t3-(t2*n);
				//else
					//t2=t3;	
					//end;
	
	phir8=a1*sin((w1*time)+(7*d))+a2*sin((w2*time)+(7*d));

		
	dphir8=ddt(phir8,initial);
	//if -0.785<=phi2<=0.785 then //and -0.785<=q3<=0.785 then
	//p.e = Kp*(phir2-phi2)-Kd*(dphir2-dphi2);
	//else
		p.f=phir8;
		//end;
effort = p.e;
implementation_end;
         Splitter1 480 256
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [1];
            signal knot in input [1];
          end;
          icon bg ellipse
           figures
            ellipse 476.8 252.8 483.2 259.2 color -1 fill 0;
            ellipse 475.7 251.7 484.3 260.3 color -1;
           terminals
            input 480 256 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
        end;
        connections
         Delay\input <- Splitter1\output;
         Delay\output -> PlusMinus1\minus;
         Gain1\output -> MSf3\flow;
         Gain2\output -> MSf2\flow;
         Integrate\output -> PlusMinus\minus;
         MSe1\p => OneJunction\p;
         MSf2\p => OneJunction2\p;
         MSf3\p => OneJunction3\p;
         OneJunction\flow -> Integrate\input;
         OneJunction\p => C\p;
         OneJunction1\flow -> PlusMinus\plus;
         phi2 => OneJunction\p;
         PlusMinus1\output -> Gain2\input;
         Pulse1\output -> MSe1\effort;
         R\p <= OneJunction\p;
         Se1\p => OneJunction\p;
         Sf\p => OneJunction1\p;
         Splitter1\input <- PlusMinus\output;
         Splitter1\output -> Gain1\input;
         Splitter1\output -> PlusMinus1\plus 480 184;
        end;
       implementation_end;
      J7 660 70
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 660 70 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
	real global l;
equations
    state = int(p.e);
    p.f = state / ((m*l*l)/2);
implementation_end;
      J8 656 232
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 656 232 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
	real global l;
equations
    state = int(p.e);
    p.f = state / ((m*l*l)/2);

implementation_end;
      J9 656 376
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 656 376 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
	real global l;
equations
    state = int(p.e);
    p.f = state / ((m*l*l)/2);

implementation_end;
      mx17 540 118
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 540 118 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[1,7] * p2.e;
	p2.f = l*M[1,7] * p1.f;

implementation_end;
      mx18 536 288
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 536 288 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[1,8] * p2.e;
	p2.f = l*M[1,8] * p1.f;

implementation_end;
      mx19 592 432
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 592 432 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[1,9] * p2.e;
	p2.f = l*M[1,9] * p1.f;

implementation_end;
      mx77 532 166
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 532 166 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[7,7] * p2.e;
	p2.f = l*M[7,7] * p1.f;

implementation_end;
      mx87 520 240
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 520 240 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[8,7] * p2.e;
	p2.f = l*M[8,7] * p1.f;

implementation_end;
      mx88 520 344
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 520 344 color 0 18 bold;
       end;
       implementation eq
variables 
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[8,8] * p2.e;
	p2.f = l*M[8,8] * p1.f;
implementation_end;
      mx98 584 360
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 584 360 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[9,8] * p2.e;
	p2.f = l*M[9,8] * p1.f;

implementation_end;
      mx99 512 488
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 512 488 color 0 18 bold;
       end;
       implementation eq
variables
real global M[9,9];
	
parameters
	real global l;

equations
	
	p1.e = l*M[9,9] * p2.e;
	p2.f = l*M[9,9] * p1.f;

implementation_end;
      my17 772 118
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 772 118 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[1,7] * p2.e;
	p2.f = -l*My[1,7] * p1.f;

implementation_end;
      my18 760 280
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 760 280 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[1,8] * p2.e;
	p2.f = -l*My[1,8] * p1.f;
implementation_end;
      my19 760 416
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 760 416 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[1,9] * p2.e;
	p2.f = -l*My[1,9] * p1.f;
implementation_end;
      my77 724 158
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 724 158 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[7,7] * p2.e;
	p2.f = -l*My[7,7] * p1.f;
implementation_end;
      my87 744 216
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 744 216 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[8,7] * p2.e;
	p2.f = -l*My[8,7] * p1.f;
implementation_end;
      my88 808 352
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 808 352 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[8,8] * p2.e;
	p2.f = -l*My[8,8] * p1.f;

implementation_end;
      my98 736 360
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 736 360 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[9,8] * p2.e;
	p2.f = -l*My[9,8] * p1.f;
implementation_end;
      my99 824 488
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\MTF.emx</LibraryPath><TimeStamp>2011-11-29 16:15:31</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type MTF
        ports
         power in p1;
         power out p2;
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'MTF' 824 488 color 0 18 bold;
       end;
       implementation eq
variables
real global My[9,9];
	
parameters
	real global l;

equations
	
	p1.e = -l*My[9,9] * p2.e;
	p2.f = -l*My[9,9] * p1.f;

implementation_end;
      plug p17 424 118;
      plug py17 872 112.5;
      plug py77 840 159.9;
      plug py99 920 504;
      plug p99 384 488;
      plug py19 904 448;
      plug p19 400 440;
      plug py98 848 416;
      plug p98 464 400;
      plug py88 912 360;
      plug p88 360 352;
      plug py18 904 280;
      plug p18 360 288;
      plug py87 864 224;
      plug p87 344 224;
      plug p77 344 160.3;
      plug pse6 560 80;
      theta7 660 118
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg bottom
        figures
         text '1' 660 118 color 0 18 bold;
       end;
       implementation eq
variables
	real global dq7;
	real global q77,q7;
	
parameters
	real initial = -0.32;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dq7=flow;
	q77= int(dq7,initial);
	q7=limit(q77,-0.785,0.785);
	
implementation_end;
      theta8 656 288
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg bottom
        figures
         text '1' 656 288 color 0 18 bold;
       end;
       implementation eq
variables
	real global dq8;
	real global q88,q8;
	
parameters
	real initial = 0.18;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dq8=flow;
	q88= int(dq8,initial);
	q8=limit(q88,-0.785,0.785);implementation_end;
      theta9 656 432
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg bottom
        figures
         text '1' 656 432 color 0 18 bold;
       end;
       implementation eq
variables
	real global dq9;
	real global q99,q9;
	
parameters
	real initial = 0.53;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dq9=flow;
	q99= int(dq9,initial);
	q9=limit(q99,-0.785,0.785);implementation_end;
      ZeroJunction 304 72
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 304 72 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction1 184 264
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 184 264 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      J7\p <= theta7\p;
      mx17\p2 => p17;
      mx18\p2 => p18;
      mx19\p2 => p19;
      mx77\p2 => p77;
      mx87\p2 => p87;
      mx88\p2 => p88;
      mx98\p2 => p98;
      mx99\p2 => p99;
      my17\p2 => py17;
      my18\p2 => py18;
      my19\p2 => py19;
      my77\p2 => py77;
      my87\p2 => py87;
      my88\p2 => py88;
      my98\p2 => py98;
      my99\p2 => py99;
      pse6 => theta7\p;
      theta7\p => mx17\p1;
      theta7\p => mx77\p1;
      theta7\p => mx87\p1;
      theta7\p => my17\p1;
      theta7\p => my77\p1;
      theta7\p => my87\p1;
      theta7\p => ZeroJunction\p;
      theta8\p => mx18\p1;
      theta8\p => mx88\p1;
      theta8\p => mx98\p1;
      theta8\p => my18\p1;
      theta8\p => my88\p1;
      theta8\p => my98\p1;
      theta8\p => ZeroJunction1\p;
      theta8\p =>| J8\p user;
      theta9\p => mx19\p1;
      theta9\p => mx99\p1;
      theta9\p => my19\p1;
      theta9\p => my99\p1;
      theta9\p =>| J9\p user;
      ZeroJunction\p => control7\phi2;
      ZeroJunction\p => theta8\p;
      ZeroJunction1\p => control8\phi2;
      ZeroJunction1\p => theta9\p;
     end;
    implementation_end;
   Submodel8 96 648
    description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
    type Submodel
     ports
      power in p7;
      power in p8;
      power in p9;
    end;
    implementation bg
     submodels
      MX7 220 78
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 220 78 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;
implementation_end;
      MX8 212 214
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 212 214 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;
implementation_end;
      MX9 212 350
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 212 350 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;implementation_end;
      plug p7 592 134;
      plug p8 592 288;
      plug p9 600 392;
      Submodel1 368 216
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      Submodel2 368 344
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      Submodel3 384 80
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      x7 220 134
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 220 134 color 0 18 bold;
       end;
       implementation eq
variables
	real global dx7;
	real global x7;
	real global x88,q77;
	
parameters
	real initial = 0.28;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dx7=flow;
	x7= int(dx7,initial);
	x88=x7+(l*cos(q77));
implementation_end;
      x8 208 280
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 208 280 color 0 18 bold;
       end;
       implementation eq
variables
	real global dx8;
	real global x8;
	real global x99,q88;
	
parameters
	real initial = 0.42;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dx8=flow;
	x8= int(dx8,initial);
	x99=x8+(l*cos(q88));
implementation_end;
      x9 212 390
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 212 390 color 0 18 bold;
       end;
       implementation eq
variables
	real global dx9;
	real global x9;
	real global x10,q99;
	
parameters
	real initial = 0.56;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dx9=flow;
	x9= int(dx9,initial);
	x10=x9+(l*cos(q99));
implementation_end;
      ZeroJunction1 384 136
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 384 136 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction2 368 288
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 368 288 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction3 360 392
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 360 392 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      p7 => ZeroJunction1\p;
      p9 => ZeroJunction3\p;
      x7\p =>| MX7\p user;
      x8\p =>| MX8\p user;
      x9\p => MX9\p;
      ZeroJunction1\p =>| x7\p user;
      ZeroJunction1\p |=> Submodel3\p user;
      ZeroJunction2\p <= p8;
      ZeroJunction2\p =>| x8\p user;
      ZeroJunction2\p |=> Submodel1\p user;
      ZeroJunction3\p => x9\p;
      ZeroJunction3\p |=> Submodel2\p user;
     end;
    implementation_end;
   Submodel9 1544 760
    description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
    type Submodel
     ports
      power in p7;
      power in p8;
      power in p9;
    end;
    icon bg bottom
     figures
      rectangle 1504 744 1584 776 color 0 fill 15132390;
      text 'name' 1544 760 color 0 16;
    end;
    implementation bg
     submodels
      MY7 456 80
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 456 80 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;implementation_end;
      MY8 466 225
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 466 225 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;
implementation_end;
      MY9 466 329
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\I.emx</LibraryPath><TimeStamp>2011-11-29 15:55:55</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       type I
        ports
         power in p;
         signal out state;
        restrictions
         causality preferred in p;
       end;
       icon bg top
        figures
         text 'I' 466 329 color 0 18 bold;
       end;
       implementation eq
parameters
	real global m;
equations
    state = int(p.e);
    p.f = state / m;implementation_end;
      plug p7 264 144;
      plug p8 240 272;
      plug p9 232 376;
      Submodel1 352 208
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      Submodel2 344 312
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      Submodel3 352 88
       description '<Description>
	<Version>4.7</Version>
	<IsMainModel>1</IsMainModel>
	</Description>';
       type Submodel
        ports
         power in p;
       end;
       implementation bg
        submodels
         C 312 48
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\C.emx</LibraryPath>
  <TimeStamp>2011-11-29 15:58:35</TimeStamp>
</Description>
</Information>';
          type C
           ports
            power in p;
            signal out state;
           restrictions
            causality preferred out p;
          end;
          icon bg bottom
           figures
            text 'C' 312 48 color 0 18 bold;
          end;
          implementation eq
parameters
	real global k1 ;
equations
	state = int(p.f);
	p.e = state *k1;
implementation_end;
         plug p 390.2 125;
         OneJunction 384 88
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:17:51</TimeStamp>
</Description>
</Information>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 384 88 color 0 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         R 448 40
          description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:35:37</TimeStamp>
</Description>
</Information>';
          type R
           ports
            power in p;
          end;
          icon bg bottom
           figures
            text 'R' 448 40 color 0 18 bold;
          end;
          implementation eq
parameters
	real global r1;
equations
	p.e = r1 * p.f;
implementation_end;
        end;
        connections
         OneJunction\p |=> C\p user;
         OneJunction\p |=> R\p user;
         p |=> OneJunction\p user;
        end;
       implementation_end;
      y7 456 144
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 456 144 color 0 18 bold;
       end;
       implementation eq
variables
	real global dy7;
	real global y7;
	real global y88,q77;
	
parameters
	real initial = -0.5;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dy7=flow;
	y7= int(dy7,initial);
	y88=y7+(l*sin(q77));implementation_end;
      y8 466 273
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 466 273 color 0 18 bold;
       end;
       implementation eq
variables
	real global dy8;
	real global y8;
	real global y99,q88;
	
parameters
	real initial = -0.5;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dy8=flow;
	y8= int(dy8,initial);
	y99=y8+(l*sin(q88));implementation_end;
      y9 466 377
       description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\OneJunction.emx</LibraryPath><TimeStamp>2011-11-29 16:17:51</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration></Configuration></Description></Information>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 466 377 color 0 18 bold;
       end;
       implementation eq
variables
	real global dy9;
	real global y9;
	real global y10,q99;
	
parameters
	real initial = -0.5;
	real global l;

equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
	dy9=flow;
	y9= int(dy9,initial);
	y10=y9+(l*sin(q99));implementation_end;
      ZeroJunction1 344 144
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 344 144 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction2 352 272
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 352 272 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction3 344 384
       description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 344 384 color 0 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      p7 => ZeroJunction1\p;
      p8 => ZeroJunction2\p;
      p9 => ZeroJunction3\p;
      y7\p =>| MY7\p user;
      y8\p =>| MY8\p user;
      y9\p =>| MY9\p user;
      ZeroJunction1\p =>| y7\p user;
      ZeroJunction1\p |=> Submodel3\p user;
      ZeroJunction2\p =>| y8\p user;
      ZeroJunction2\p |=> Submodel1\p user;
      ZeroJunction3\p =>| y9\p user;
      ZeroJunction3\p |=> Submodel2\p user;
     end;
    implementation_end;
   ZeroJunction 1424 136
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 1424 136 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   ZeroJunction1 88 288
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 88 288 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   ZeroJunction10 240 832
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 240 832 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   ZeroJunction11 1280 920
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 1280 920 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   ZeroJunction2 1480 216
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 1480 216 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   ZeroJunction3 224 176
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 224 176 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   ZeroJunction4 72 232
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 72 232 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   ZeroJunction5 1560 328
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 1560 328 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   ZeroJunction6 272 664
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 272 664 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   ZeroJunction7 1416 768
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 1416 768 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   ZeroJunction8 240 744
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 240 744 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
   ZeroJunction9 1384 864
    description '<Information>
 <Description>
    <Version>4.2</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2011-11-29 16:45:16</TimeStamp>
</Description>
</Information>';
    knot ZeroJunction
     ports
      power knot duplicatable none p [1];
      signal knot out effort [1];
     restrictions
      causality constraint one_in p;
    end;
    icon bg
     figures
      text '0' 1384 864 color 0 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
  end;
  connections
   Mx21\p => p4\p;
   Mx21\p => p5\p;
   Mx21\p => ZeroJunction1\p;
   Mx21\p => ZeroJunction10\p;
   Mx21\p => ZeroJunction4\p;
   Mx21\p => ZeroJunction6\p;
   Mx21\p => ZeroJunction8\p;
   Mx32\p => p4\p;
   Mx32\p => p5\p;
   Mx32\p => ZeroJunction1\p;
   Mx32\p => ZeroJunction10\p;
   Mx32\p => ZeroJunction6\p;
   Mx32\p => ZeroJunction8\p;
   Mx43\p => p4\p;
   Mx43\p => p5\p;
   Mx43\p => ZeroJunction10\p;
   Mx43\p => ZeroJunction6\p;
   Mx43\p => ZeroJunction8\p;
   My13\p => ZeroJunction\p;
   My13\p => ZeroJunction2\p;
   My21\p => py4\p;
   My21\p => py5\p;
   My21\p => py6\p;
   My21\p => ZeroJunction11\p;
   My21\p => ZeroJunction2\p;
   My21\p => ZeroJunction5\p;
   My21\p => ZeroJunction7\p;
   My21\p => ZeroJunction9\p;
   My32\p => py4\p;
   My32\p => py5\p;
   My32\p => py6\p;
   My32\p => ZeroJunction11\p;
   My32\p => ZeroJunction5\p;
   My32\p => ZeroJunction7\p;
   My32\p => ZeroJunction9\p;
   My43\p => py4\p;
   My43\p => py5\p;
   My43\p => py6\p;
   My43\p => ZeroJunction11\p;
   My43\p => ZeroJunction7\p;
   My43\p => ZeroJunction9\p;
   OneJunction17\p |=> ZeroJunction3\p user;
   OneJunction4\p => ZeroJunction3\p;
   OneJunction4\p => ZeroJunction4\p;
   p14\p => ZeroJunction1\p;
   p14\p => ZeroJunction3\p;
   p14\p => ZeroJunction4\p;
   p15\p => p4\p;
   p15\p => ZeroJunction1\p;
   p15\p => ZeroJunction3\p;
   p15\p => ZeroJunction4\p;
   p16\p => p4\p;
   p16\p => p5\p;
   p16\p => ZeroJunction1\p;
   p16\p => ZeroJunction3\p;
   p16\p => ZeroJunction4\p;
   p17\p => p4\p;
   p17\p => p5\p;
   p17\p => p6\p;
   p17\p => ZeroJunction1\p;
   p17\p => ZeroJunction3\p;
   p17\p => ZeroJunction4\p;
   p18\p => p4\p;
   p18\p => p5\p;
   p18\p => p6\p;
   p18\p => ZeroJunction1\p;
   p18\p => ZeroJunction3\p;
   p18\p => ZeroJunction4\p;
   p18\p => ZeroJunction6\p;
   p19\p => p4\p;
   p19\p => p5\p;
   p19\p => p6\p;
   p19\p => ZeroJunction1\p;
   p19\p => ZeroJunction3\p;
   p19\p => ZeroJunction4\p;
   p19\p => ZeroJunction6\p;
   p19\p => ZeroJunction8\p;
   p4\p => Submodel6\p4;
   p5\p |=> Submodel6\p5 user;
   p54\p => p5\p;
   p54\p => p6\p;
   p54\p => ZeroJunction10\p;
   p54\p => ZeroJunction6\p;
   p54\p => ZeroJunction8\p;
   p6\p |=> Submodel6\p6 user;
   p65\p => p6\p;
   p65\p => ZeroJunction10\p;
   p65\p => ZeroJunction6\p;
   p65\p => ZeroJunction8\p;
   p76\p => ZeroJunction10\p;
   p76\p => ZeroJunction6\p;
   p76\p => ZeroJunction8\p;
   p87\p => ZeroJunction10\p;
   p87\p => ZeroJunction8\p;
   p98\p => ZeroJunction10\p;
   px\p => p4\p;
   px\p => p5\p;
   px\p => p6\p;
   px\p => ZeroJunction1\p;
   px\p => ZeroJunction10\p;
   px\p => ZeroJunction3\p;
   px\p => ZeroJunction4\p;
   px\p => ZeroJunction6\p;
   px\p => ZeroJunction8\p;
   px\p =>| I\p user;
   py\p => I1\p;
   py\p => py4\p;
   py\p => py5\p;
   py\p => py6\p;
   py\p => ZeroJunction\p;
   py\p => ZeroJunction11\p;
   py\p => ZeroJunction2\p;
   py\p => ZeroJunction5\p;
   py\p => ZeroJunction7\p;
   py\p => ZeroJunction9\p;
   py12\p => ZeroJunction\p;
   py14\p => ZeroJunction\p;
   py14\p => ZeroJunction2\p;
   py14\p => ZeroJunction5\p;
   py15\p => py4\p;
   py15\p => ZeroJunction\p;
   py15\p => ZeroJunction2\p;
   py15\p => ZeroJunction5\p;
   py16\p => py4\p;
   py16\p => py5\p;
   py16\p => ZeroJunction\p;
   py16\p => ZeroJunction2\p;
   py16\p => ZeroJunction5\p;
   py17\p => py4\p;
   py17\p => py5\p;
   py17\p => py6\p;
   py17\p => ZeroJunction\p;
   py17\p => ZeroJunction2\p;
   py17\p => ZeroJunction5\p;
   py18\p => py4\p;
   py18\p => py5\p;
   py18\p => py6\p;
   py18\p => ZeroJunction\p;
   py18\p => ZeroJunction2\p;
   py18\p => ZeroJunction5\p;
   py18\p => ZeroJunction7\p;
   py19\p => py4\p;
   py19\p => py5\p;
   py19\p => py6\p;
   py19\p => ZeroJunction\p;
   py19\p => ZeroJunction2\p;
   py19\p => ZeroJunction5\p;
   py19\p => ZeroJunction7\p;
   py19\p => ZeroJunction9\p;
   py4\p => Submodel5\p4;
   py5\p => Submodel5\p5;
   py54\p => py5\p;
   py54\p => py6\p;
   py54\p => ZeroJunction11\p;
   py54\p => ZeroJunction7\p;
   py54\p => ZeroJunction9\p;
   py6\p => Submodel5\p6;
   py65\p => py6\p;
   py65\p => ZeroJunction11\p;
   py65\p => ZeroJunction7\p;
   py65\p => ZeroJunction9\p;
   py76\p => ZeroJunction11\p;
   py76\p => ZeroJunction7\p;
   py76\p => ZeroJunction9\p;
   py87\p => ZeroJunction11\p;
   py87\p => ZeroJunction9\p;
   py98\p => ZeroJunction11\p;
   Se\p => px\p;
   Submodel1\p2 => ZeroJunction3\p;
   Submodel1\p21 |=> OneJunction17\p user;
   Submodel1\p210 => My13\p;
   Submodel1\p211 => My21\p;
   Submodel1\p212 => ZeroJunction2\p;
   Submodel1\p213 => My32\p;
   Submodel1\p214 => ZeroJunction5\p;
   Submodel1\p215 => My43\p;
   Submodel1\p22 => OneJunction4\p;
   Submodel1\p23 => Mx21\p;
   Submodel1\p24 => ZeroJunction4\p;
   Submodel1\p25 => Mx32\p;
   Submodel1\p26 => ZeroJunction1\p;
   Submodel1\p27 => Mx43\p;
   Submodel1\p28 => ZeroJunction\p;
   Submodel1\p29 => py12\p;
   Submodel1\pse4 => Submodel4\pse4;
   Submodel4\p14 => p14\p;
   Submodel4\p15 => p15\p;
   Submodel4\p16 => p16\p;
   Submodel4\p44 => p4\p;
   Submodel4\p54 => p54\p;
   Submodel4\p55 => p5\p;
   Submodel4\p65 => p65\p;
   Submodel4\p66 => p6\p;
   Submodel4\p76 => p76\p;
   Submodel4\pse6 => Submodel7\pse6;
   Submodel4\py14 => py14\p;
   Submodel4\py15 => py15\p;
   Submodel4\py16 => py16\p;
   Submodel4\py44 => py4\p;
   Submodel4\py54 => py54\p;
   Submodel4\py55 => py5\p;
   Submodel4\py65 => py65\p;
   Submodel4\py66 => py6\p;
   Submodel4\py76 => py76\p;
   Submodel7\p17 => p17\p;
   Submodel7\p18 => p18\p;
   Submodel7\p19 => p19\p;
   Submodel7\p77 => ZeroJunction6\p;
   Submodel7\p87 => p87\p;
   Submodel7\p88 => ZeroJunction8\p;
   Submodel7\p98 => p98\p;
   Submodel7\p99 => ZeroJunction10\p;
   Submodel7\py17 => py17\p;
   Submodel7\py18 => py18\p;
   Submodel7\py19 => py19\p;
   Submodel7\py77 => ZeroJunction7\p;
   Submodel7\py87 => py87\p;
   Submodel7\py88 => ZeroJunction9\p;
   Submodel7\py98 => py98\p;
   Submodel7\py99 => ZeroJunction11\p;
   ZeroJunction\p => Submodel3\p2;
   ZeroJunction1\p |=> Submodel2\p1 user;
   ZeroJunction10\p => Submodel8\p9;
   ZeroJunction11\p => Submodel9\p9;
   ZeroJunction2\p => Submodel3\p;
   ZeroJunction3\p |=> Submodel2\p2 user;
   ZeroJunction4\p |=> Submodel2\p user;
   ZeroJunction5\p => Submodel3\p1;
   ZeroJunction6\p => Submodel8\p7;
   ZeroJunction7\p => Submodel9\p7;
   ZeroJunction8\p => Submodel8\p8;
   ZeroJunction9\p => Submodel9\p8;
  end;
 implementation_end;
]]>
</Sidops>
 </Model>
 <Experiments>
     <DefaultExperiment><![CDATA[Experiment 1]]>
</DefaultExperiment>
  <Experiment>
    <Name>Experiment 1</Name>
    <CreatedBy></CreatedBy>
    <Info></Info>
<ExpData>
  <VersionNumber>4.7</VersionNumber>
  <ModelProperties>
  </ModelProperties>
  <Variables>
   <Parameters>
    <Variable>
     <Name>a1</Name>
     <Value>0.5</Value>
    </Variable>
    <Variable>
     <Name>a2</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>cn</Name>
     <Value>15</Value>
    </Variable>
    <Variable>
     <Name>ct</Name>
     <Value>1</Value>
    </Variable>
    <Variable>
     <Name>d</Name>
     <Value>0.785</Value>
    </Variable>
    <Variable>
     <Name>k1</Name>
     <Value>100000</Value>
    </Variable>
    <Variable>
     <Name>Kd</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Kp</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>l</Name>
     <Value>0.07</Value>
    </Variable>
    <Variable>
     <Name>m</Name>
     <Value>0.98</Value>
    </Variable>
    <Variable>
     <Name>phi01</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>phi02</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>r1</Name>
     <Value>50</Value>
    </Variable>
    <Variable>
     <Name>S1</Name>
     <Value>0.0167439921073505</Value>
    </Variable>
    <Variable>
     <Name>S2</Name>
     <Value>0.0195760507203616</Value>
    </Variable>
    <Variable>
     <Name>S3</Name>
     <Value>0.0193546593820807</Value>
    </Variable>
    <Variable>
     <Name>S4</Name>
     <Value>0.0353927518921196</Value>
    </Variable>
    <Variable>
     <Name>S5</Name>
     <Value>0.0389138931232385</Value>
    </Variable>
    <Variable>
     <Name>S6</Name>
     <Value>0.0385440199033227</Value>
    </Variable>
    <Variable>
     <Name>S7</Name>
     <Value>0.0283794168519488</Value>
    </Variable>
    <Variable>
     <Name>S8</Name>
     <Value>0.0187693875449655</Value>
    </Variable>
    <Variable>
     <Name>w1</Name>
     <Value>0.3</Value>
    </Variable>
    <Variable>
     <Name>w2</Name>
     <Value>0.15</Value>
    </Variable>
   </Parameters>
   <Initials>
    <Variable>
     <Name>distb_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>I1\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>ISE1_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>ISE2_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>ISE3_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>ISE4_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>ISE5_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>ISE6_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>ISE7_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>ISE8_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>I\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>J_state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel1\control1\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel1\control1\OneJunction2\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel1\control1\OneJunction3\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel1\control2\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel1\control2\OneJunction2\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel1\control2\OneJunction3\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel1\control3\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel1\control3\OneJunction2\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel1\control3\OneJunction3\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel1\J1\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel1\J2\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel1\J3\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel2\MX1\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel2\MX2\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel2\MX3\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel2\Submodel1\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel2\Submodel2\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel2\Submodel3\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel3\MY1\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel3\MY2\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel3\MY3\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel3\Submodel1\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel3\Submodel2\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel3\Submodel3\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel4\control4\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel4\control4\OneJunction2\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel4\control4\OneJunction3\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel4\control5\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel4\control5\OneJunction2\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel4\control5\OneJunction3\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel4\control6\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel4\control6\OneJunction2\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel4\control6\OneJunction3\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel4\J1\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel4\J2\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel4\J3\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel5\MY4\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel5\MY5\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel5\MY6\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel5\Submodel1\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel5\Submodel2\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel5\Submodel3\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel6\MX4\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel6\MX5\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel6\MX6\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel6\Submodel1\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel6\Submodel2\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel6\Submodel3\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel7\control7\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel7\control7\OneJunction2\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel7\control7\OneJunction3\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel7\control8\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel7\control8\OneJunction2\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel7\control8\OneJunction3\activity_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel7\J7\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel7\J8\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel7\J9\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel8\MX7\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel8\MX8\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel8\MX9\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel8\Submodel1\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel8\Submodel2\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel8\Submodel3\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel9\MY7\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel9\MY8\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel9\MY9\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel9\Submodel1\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel9\Submodel2\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Submodel9\Submodel3\C\state_initial</Name>
     <Value>0</Value>
    </Variable>
   </Initials>
  </Variables>
  <PlotSpecs>
   <VarNames>
    <VarName>time</VarName>
    <VarName>px</VarName>
    <VarName>py</VarName>
    <VarName>phi1</VarName>
    <VarName>phi2</VarName>
    <VarName>phi3</VarName>
    <VarName>x11</VarName>
    <VarName>x22</VarName>
    <VarName>y22</VarName>
    <VarName>y11</VarName>
    <VarName>x33</VarName>
    <VarName>y33</VarName>
    <VarName>x44</VarName>
    <VarName>y44</VarName>
    <VarName>x55</VarName>
    <VarName>y55</VarName>
    <VarName>x66</VarName>
    <VarName>y66</VarName>
    <VarName>x77</VarName>
    <VarName>y77</VarName>
    <VarName>phi4</VarName>
    <VarName>phi5</VarName>
    <VarName>phi6</VarName>
    <VarName>x88</VarName>
    <VarName>y88</VarName>
    <VarName>x99</VarName>
    <VarName>y99</VarName>
    <VarName>x10</VarName>
    <VarName>y10</VarName>
    <VarName>phir1</VarName>
    <VarName>phir2</VarName>
    <VarName>phir3</VarName>
    <VarName>phir4</VarName>
    <VarName>phir5</VarName>
    <VarName>phir6</VarName>
    <VarName>phir7</VarName>
    <VarName>phir8</VarName>
    <VarName>phi7</VarName>
    <VarName>phi8</VarName>
    <VarName>q11</VarName>
    <VarName>q22</VarName>
    <VarName>q33</VarName>
    <VarName>q44</VarName>
    <VarName>q55</VarName>
    <VarName>q66</VarName>
    <VarName>q77</VarName>
    <VarName>q88</VarName>
    <VarName>q99</VarName>
    <VarName>vt</VarName>
   </VarNames>
   <Plots>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>3</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>false</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>px</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1.5</Minimum>
       <Maximum>3.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>px</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>px</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>4</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>false</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>py(1)</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-0.500004</Minimum>
       <Maximum>-0.499994</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>py</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>255</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>255</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>py</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>D3DPlot</PlotType>
     <BasePlot>
       <PlotId>6</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <PlotTitle>3D Animation</PlotTitle>
     <RenderQuality>137</RenderQuality>
     <ShowGrid>true</ShowGrid>
     <ShowFPS>false</ShowFPS>
     <BackgroundColor>4294967295</BackgroundColor>
     <SceneBackgroundImage>Gradients\BlueWhite.png</SceneBackgroundImage>
     <ApplyTextureBackground>true</ApplyTextureBackground>
     <FrameScale>1</FrameScale>
     <FrameThickness>1</FrameThickness>
     <MainFrame>
      <Frame>
       <ScaleValue>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </ScaleValue>
       <ShowReferenceFrame>true</ShowReferenceFrame>
       <Name>Reference Frame</Name>
       <Position>
       </Position>
       <Orientation>
        <Angles>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
        <Frame>
         <ScaleValue>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </ScaleValue>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Default Lights and Cameras</Name>
         <Position>
         </Position>
         <Orientation>
     <Angles>
     </Angles>
     <OrientationType>Bryant</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
     <Light>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Ambient</Name>
      <Position>
      </Position>
      <Orientation>
       <ZAxis>
        <Z>
         <Value>1</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <Y>
         <Value>1</Value>
        </Y>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <LightType>0</LightType>
      <LightColor>
       <Color>
        <X>
         <Value>0.3</Value>
        </X>
        <Y>
         <Value>0.3</Value>
        </Y>
        <Z>
         <Value>0.3</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </LightColor>
      <AmbientLight>
       <Color>
        <X>
         <Value>0.3</Value>
        </X>
        <Y>
         <Value>0.3</Value>
        </Y>
        <Z>
         <Value>0.3</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </AmbientLight>
      <AmbientOn>true</AmbientOn>
      <DiffuseOn>false</DiffuseOn>
      <SpecularOn>false</SpecularOn>
     </Light>
     <Light>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Parallel</Name>
      <Position>
       <X>
        <Value>-3</Value>
       </X>
       <Y>
        <Value>5</Value>
       </Y>
       <Z>
        <Value>3</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>0.457495710997814</Value>
        </X>
        <Y>
         <Value>-0.762492851663023</Value>
        </Y>
        <Z>
         <Value>-0.457495710997814</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>0.235379601434674</Value>
        </X>
        <Y>
         <Value>-0.392299335724456</Value>
        </Y>
        <Z>
         <Value>0.889211827642101</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <LightType>3</LightType>
      <LightColor>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </LightColor>
      <Attenuation>
       <Constant>
        <Value>1</Value>
       </Constant>
       <Linear>
        <Value>0</Value>
       </Linear>
       <Quadratic>
        <Value>0</Value>
       </Quadratic>
      </Attenuation>
      <DiffuseLight>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </DiffuseLight>
      <SpecularLight>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </SpecularLight>
      <AmbientOn>false</AmbientOn>
      <DiffuseOn>true</DiffuseOn>
      <SpecularOn>true</SpecularOn>
     </Light>
     <Light>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Spot Light 1</Name>
      <Position>
       <X>
        <Value>-3</Value>
       </X>
       <Y>
        <Value>-5</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>0.50709255283711</Value>
        </X>
        <Y>
         <Value>0.845154254728517</Value>
        </Y>
        <Z>
         <Value>-0.169030850945703</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>0.0869656553478673</Value>
        </X>
        <Y>
         <Value>0.144942758913112</Value>
        </Y>
        <Z>
         <Value>0.985610760609162</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <LightType>2</LightType>
      <LightColor>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </LightColor>
      <Attenuation>
       <Constant>
        <Value>1</Value>
       </Constant>
       <Linear>
        <Value>0.05</Value>
       </Linear>
       <Quadratic>
        <Value>0.05</Value>
       </Quadratic>
      </Attenuation>
      <Umbra>
       <Value>1.0471975511966</Value>
      </Umbra>
      <Penumbra>
       <Value>1.0471975511966</Value>
      </Penumbra>
      <SpotExponent>0</SpotExponent>
      <DiffuseLight>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </DiffuseLight>
      <SpecularLight>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </SpecularLight>
      <AmbientOn>false</AmbientOn>
      <DiffuseOn>true</DiffuseOn>
      <SpecularOn>true</SpecularOn>
     </Light>
     <Light>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Spot Light 2</Name>
      <Position>
       <X>
        <Value>2</Value>
       </X>
       <Y>
        <Value>-3</Value>
       </Y>
       <Z>
        <Value>-1</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>-0.534522483824849</Value>
        </X>
        <Y>
         <Value>0.801783725737273</Value>
        </Y>
        <Z>
         <Value>0.267261241912424</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>0.14824986333222</Value>
        </X>
        <Y>
         <Value>-0.22237479499833</Value>
        </Y>
        <Z>
         <Value>0.963624111659432</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <LightType>2</LightType>
      <LightColor>
       <Color>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </LightColor>
      <Attenuation>
       <Constant>
        <Value>1</Value>
       </Constant>
       <Linear>
        <Value>0.05</Value>
       </Linear>
       <Quadratic>
        <Value>0.05</Value>
       </Quadratic>
      </Attenuation>
      <Umbra>
       <Value>1.5707963267949</Value>
      </Umbra>
      <Penumbra>
       <Value>1.5707963267949</Value>
      </Penumbra>
      <SpotExponent>0</SpotExponent>
      <DiffuseLight>
       <Color>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </DiffuseLight>
      <SpecularLight>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </SpecularLight>
      <AmbientOn>false</AmbientOn>
      <DiffuseOn>true</DiffuseOn>
      <SpecularOn>true</SpecularOn>
     </Light>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Camera Looking at Origin</Name>
      <Position>
       <X>
        <Value>-6.18735490009714</Value>
       </X>
       <Y>
        <Value>-5.77538714998862</Value>
       </Y>
       <Z>
        <Value>4.93574134330292</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>0.631494265114468</Value>
        </X>
        <Y>
         <Value>0.589447982687456</Value>
        </Y>
        <Z>
         <Value>-0.503751991393808</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>0.368255032570922</Value>
        </X>
        <Y>
         <Value>0.343735799444016</Value>
        </Y>
        <Z>
         <Value>0.863848326482591</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>0.01</FrontPlane>
      <BackPlane>100</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>0.00392699081698724</Field>
      <Fieldy>45</Fieldy>
      <PlaneLeft>-10</PlaneLeft>
      <PlaneRight>10</PlaneRight>
      <PlaneTop>10</PlaneTop>
      <PlaneBottom>-10</PlaneBottom>
      <UseLookatPosition>true</UseLookatPosition>
      <LookatPosition>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <Z>
        <Value>1</Value>
       </Z>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>true</Perspective>
      <IsSelectedCamera>true</IsSelectedCamera>
     </Camera>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Front(XY)-Camera</Name>
      <Position>
       <Z>
        <Value>10</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <Z>
         <Value>-1</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <Y>
         <Value>1</Value>
        </Y>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>0.01</FrontPlane>
      <BackPlane>100</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>10</Field>
      <Fieldy>45</Fieldy>
      <PlaneLeft>-10</PlaneLeft>
      <PlaneRight>10</PlaneRight>
      <PlaneTop>10</PlaneTop>
      <PlaneBottom>-10</PlaneBottom>
      <UseLookatPosition>true</UseLookatPosition>
      <LookatPosition>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <Y>
        <Value>1</Value>
       </Y>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>false</Perspective>
      <IsSelectedCamera>false</IsSelectedCamera>
     </Camera>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Side(YZ)-Camera</Name>
      <Position>
       <X>
        <Value>10</Value>
       </X>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>-1</Value>
        </X>
       </ZAxis>
       <YAxis>
        <Z>
         <Value>1</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>0.01</FrontPlane>
      <BackPlane>100</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>10</Field>
      <Fieldy>45</Fieldy>
      <PlaneLeft>-10</PlaneLeft>
      <PlaneRight>10</PlaneRight>
      <PlaneTop>10</PlaneTop>
      <PlaneBottom>-10</PlaneBottom>
      <UseLookatPosition>true</UseLookatPosition>
      <LookatPosition>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <Z>
        <Value>1</Value>
       </Z>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>false</Perspective>
      <IsSelectedCamera>false</IsSelectedCamera>
     </Camera>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Top(XZ)-Camera</Name>
      <Position>
       <Y>
        <Value>10</Value>
       </Y>
      </Position>
      <Orientation>
       <ZAxis>
        <Y>
         <Value>-1</Value>
        </Y>
       </ZAxis>
       <YAxis>
        <X>
         <Value>1</Value>
        </X>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>0.01</FrontPlane>
      <BackPlane>100</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>10</Field>
      <Fieldy>45</Fieldy>
      <PlaneLeft>-10</PlaneLeft>
      <PlaneRight>10</PlaneRight>
      <PlaneTop>10</PlaneTop>
      <PlaneBottom>-10</PlaneBottom>
      <UseLookatPosition>true</UseLookatPosition>
      <LookatPosition>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <X>
        <Value>1</Value>
       </X>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>false</Perspective>
      <IsSelectedCamera>false</IsSelectedCamera>
     </Camera>
         </Childs>
        </Frame>
        <Frame>
         <ScaleValue>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </ScaleValue>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Scenery</Name>
         <Position>
     <X>
      <Value>100</Value>
     </X>
     <Y>
      <Value>100</Value>
     </Y>
         </Position>
         <Orientation>
     <Angles>
     </Angles>
     <OrientationType>Bryant</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
         </Childs>
        </Frame>
        <Line>
         <Thickness>1</Thickness>
         <EndPosition>
     <X>
      <VariableName>x22</VariableName>
      <Value>5.27030454211232</Value>
     </X>
     <Y>
      <VariableName>y22</VariableName>
      <Value>-0.308597160959149</Value>
     </Y>
         </EndPosition>
         <CircleElements>15</CircleElements>
         <Closed>true</Closed>
         <UseCylinder>true</UseCylinder>
         <CylinderThickness>0.1</CylinderThickness>
         <CylinderAccuracy>15</CylinderAccuracy>
         <Closed>true</Closed>
         <ScaleValue>
     <X>
      <Value>0.1</Value>
     </X>
     <Y>
      <Value>0.1</Value>
     </Y>
     <Z>
      <Value>0.140000000596046</Value>
     </Z>
         </ScaleValue>
         <OverrideColor>true</OverrideColor>
         <MeshColor>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>0.501960784313725</Value>
     </Y>
     <Z>
      <Value>0.752941176470588</Value>
     </Z>
         </MeshColor>
         <Alpha>1</Alpha>
         <MeshColorMultipliers>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </MeshColorMultipliers>
         <MeshColorOffsets>
         </MeshColorOffsets>
         <Direct3DColorRange>true</Direct3DColorRange>
         <SpecularColor>
     <X>
      <Value>0.5</Value>
     </X>
     <Y>
      <Value>0.5</Value>
     </Y>
     <Z>
      <Value>0.5</Value>
     </Z>
         </SpecularColor>
         <EmissiveColor>
         </EmissiveColor>
         <ShininessPower>
     <Value>15</Value>
         </ShininessPower>
         <OverrideQuality>false</OverrideQuality>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Line</Name>
         <Position>
     <X>
      <VariableName>x11</VariableName>
      <Value>5.13418676051416</Value>
     </X>
     <Y>
      <VariableName>y11</VariableName>
      <Value>-0.275856520574554</Value>
     </Y>
         </Position>
         <Orientation>
     <ZAxis>
      <X>
       <Value>0.972269868558344</Value>
      </X>
      <Y>
       <Value>-0.233861717032825</Value>
      </Y>
     </ZAxis>
     <YAxis>
      <Z>
       <Value>1</Value>
      </Z>
     </YAxis>
     <OrientationType>Direct3D</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
         </Childs>
        </Line>
        <Line>
         <Thickness>1</Thickness>
         <EndPosition>
     <X>
      <VariableName>x33</VariableName>
      <Value>5.38466336318828</Value>
     </X>
     <Y>
      <VariableName>y33</VariableName>
      <Value>-0.482576484057579</Value>
     </Y>
         </EndPosition>
         <CircleElements>15</CircleElements>
         <Closed>true</Closed>
         <UseCylinder>true</UseCylinder>
         <CylinderThickness>0.1</CylinderThickness>
         <CylinderAccuracy>15</CylinderAccuracy>
         <Closed>true</Closed>
         <ScaleValue>
     <X>
      <Value>0.1</Value>
     </X>
     <Y>
      <Value>0.1</Value>
     </Y>
     <Z>
      <Value>0.208198815584183</Value>
     </Z>
         </ScaleValue>
         <OverrideColor>true</OverrideColor>
         <MeshColor>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>0</Value>
     </Z>
         </MeshColor>
         <Alpha>1</Alpha>
         <MeshColorMultipliers>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </MeshColorMultipliers>
         <MeshColorOffsets>
         </MeshColorOffsets>
         <Direct3DColorRange>true</Direct3DColorRange>
         <SpecularColor>
     <X>
      <Value>0.5</Value>
     </X>
     <Y>
      <Value>0.5</Value>
     </Y>
     <Z>
      <Value>0.5</Value>
     </Z>
         </SpecularColor>
         <EmissiveColor>
         </EmissiveColor>
         <ShininessPower>
     <Value>15</Value>
         </ShininessPower>
         <OverrideQuality>false</OverrideQuality>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Line</Name>
         <Position>
     <X>
      <VariableName>x22</VariableName>
      <Value>5.27030454211232</Value>
     </X>
     <Y>
      <VariableName>y22</VariableName>
      <Value>-0.308597160959149</Value>
     </Y>
         </Position>
         <Orientation>
     <ZAxis>
      <X>
       <Value>0.549277013781959</Value>
      </X>
      <Y>
       <Value>-0.835640330603289</Value>
      </Y>
     </ZAxis>
     <YAxis>
      <Z>
       <Value>1</Value>
      </Z>
     </YAxis>
     <OrientationType>Direct3D</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
         </Childs>
        </Line>
        <Line>
         <Thickness>1</Thickness>
         <EndPosition>
     <X>
      <VariableName>x44</VariableName>
      <Value>5.4687125352533</Value>
     </X>
     <Y>
      <VariableName>y44</VariableName>
      <Value>-0.650034728314467</Value>
     </Y>
         </EndPosition>
         <CircleElements>15</CircleElements>
         <Closed>true</Closed>
         <UseCylinder>true</UseCylinder>
         <CylinderThickness>0.1</CylinderThickness>
         <CylinderAccuracy>15</CylinderAccuracy>
         <Closed>true</Closed>
         <ScaleValue>
     <X>
      <Value>0.1</Value>
     </X>
     <Y>
      <Value>0.1</Value>
     </Y>
     <Z>
      <Value>0.187367364764214</Value>
     </Z>
         </ScaleValue>
         <OverrideColor>true</OverrideColor>
         <MeshColor>
     <X>
      <Value>0</Value>
     </X>
     <Y>
      <Value>0</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </MeshColor>
         <Alpha>1</Alpha>
         <MeshColorMultipliers>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </MeshColorMultipliers>
         <MeshColorOffsets>
         </MeshColorOffsets>
         <Direct3DColorRange>true</Direct3DColorRange>
         <SpecularColor>
     <X>
      <Value>0.5</Value>
     </X>
     <Y>
      <Value>0.5</Value>
     </Y>
     <Z>
      <Value>0.5</Value>
     </Z>
         </SpecularColor>
         <EmissiveColor>
         </EmissiveColor>
         <ShininessPower>
     <Value>15</Value>
         </ShininessPower>
         <OverrideQuality>false</OverrideQuality>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Line</Name>
         <Position>
     <X>
      <VariableName>x33</VariableName>
      <Value>5.38466336318828</Value>
     </X>
     <Y>
      <VariableName>y33</VariableName>
      <Value>-0.482576484057579</Value>
     </Y>
         </Position>
         <Orientation>
     <ZAxis>
      <X>
       <Value>0.448579586656461</Value>
      </X>
      <Y>
       <Value>-0.893742890564797</Value>
      </Y>
     </ZAxis>
     <YAxis>
      <Z>
       <Value>1</Value>
      </Z>
     </YAxis>
     <OrientationType>Direct3D</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
         </Childs>
        </Line>
        <Line>
         <Thickness>1</Thickness>
         <EndPosition>
     <X>
      <VariableName>x55</VariableName>
      <Value>5.56484678527362</Value>
     </X>
     <Y>
      <VariableName>y55</VariableName>
      <Value>-0.746573458723072</Value>
     </Y>
         </EndPosition>
         <CircleElements>15</CircleElements>
         <Closed>true</Closed>
         <UseCylinder>true</UseCylinder>
         <CylinderThickness>0.1</CylinderThickness>
         <CylinderAccuracy>15</CylinderAccuracy>
         <Closed>true</Closed>
         <ScaleValue>
     <X>
      <Value>0.1</Value>
     </X>
     <Y>
      <Value>0.1</Value>
     </Y>
     <Z>
      <Value>0.136240676045418</Value>
     </Z>
         </ScaleValue>
         <OverrideColor>true</OverrideColor>
         <MeshColor>
     <X>
      <Value>0.501960784313725</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>0</Value>
     </Z>
         </MeshColor>
         <Alpha>1</Alpha>
         <MeshColorMultipliers>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </MeshColorMultipliers>
         <MeshColorOffsets>
         </MeshColorOffsets>
         <Direct3DColorRange>true</Direct3DColorRange>
         <SpecularColor>
     <X>
      <Value>0.5</Value>
     </X>
     <Y>
      <Value>0.5</Value>
     </Y>
     <Z>
      <Value>0.5</Value>
     </Z>
         </SpecularColor>
         <EmissiveColor>
         </EmissiveColor>
         <ShininessPower>
     <Value>15</Value>
         </ShininessPower>
         <OverrideQuality>false</OverrideQuality>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Line</Name>
         <Position>
     <X>
      <VariableName>x44</VariableName>
      <Value>5.4687125352533</Value>
     </X>
     <Y>
      <VariableName>y44</VariableName>
      <Value>-0.650034728314467</Value>
     </Y>
         </Position>
         <Orientation>
     <ZAxis>
      <X>
       <Value>0.705620789708694</Value>
      </X>
      <Y>
       <Value>-0.708589656381519</Value>
      </Y>
     </ZAxis>
     <YAxis>
      <Z>
       <Value>1</Value>
      </Z>
     </YAxis>
     <OrientationType>Direct3D</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
         </Childs>
        </Line>
        <Line>
         <Thickness>1</Thickness>
         <EndPosition>
     <X>
      <VariableName>x66</VariableName>
      <Value>5.71661348736698</Value>
     </X>
     <Y>
      <VariableName>y66</VariableName>
      <Value>-0.724453150332181</Value>
     </Y>
         </EndPosition>
         <CircleElements>15</CircleElements>
         <Closed>true</Closed>
         <UseCylinder>true</UseCylinder>
         <CylinderThickness>0.1</CylinderThickness>
         <CylinderAccuracy>15</CylinderAccuracy>
         <Closed>true</Closed>
         <ScaleValue>
     <X>
      <Value>0.1</Value>
     </X>
     <Y>
      <Value>0.1</Value>
     </Y>
     <Z>
      <Value>0.153370276093483</Value>
     </Z>
         </ScaleValue>
         <OverrideColor>true</OverrideColor>
         <MeshColor>
     <X>
      <Value>0.501960784313725</Value>
     </X>
     <Y>
      <Value>0</Value>
     </Y>
     <Z>
      <Value>0.501960784313725</Value>
     </Z>
         </MeshColor>
         <Alpha>1</Alpha>
         <MeshColorMultipliers>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </MeshColorMultipliers>
         <MeshColorOffsets>
         </MeshColorOffsets>
         <Direct3DColorRange>true</Direct3DColorRange>
         <SpecularColor>
     <X>
      <Value>0.5</Value>
     </X>
     <Y>
      <Value>0.5</Value>
     </Y>
     <Z>
      <Value>0.5</Value>
     </Z>
         </SpecularColor>
         <EmissiveColor>
         </EmissiveColor>
         <ShininessPower>
     <Value>15</Value>
         </ShininessPower>
         <OverrideQuality>false</OverrideQuality>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Line</Name>
         <Position>
     <X>
      <VariableName>x55</VariableName>
      <Value>5.56484678527362</Value>
     </X>
     <Y>
      <VariableName>y55</VariableName>
      <Value>-0.746573458723072</Value>
     </Y>
         </Position>
         <Orientation>
     <ZAxis>
      <X>
       <Value>0.989544463133198</Value>
      </X>
      <Y>
       <Value>0.144228136930461</Value>
      </Y>
     </ZAxis>
     <YAxis>
      <Z>
       <Value>1</Value>
      </Z>
     </YAxis>
     <OrientationType>Direct3D</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
         </Childs>
        </Line>
        <Line>
         <Thickness>1</Thickness>
         <EndPosition>
     <X>
      <VariableName>x77</VariableName>
      <Value>5.89785537056057</Value>
     </X>
     <Y>
      <VariableName>y77</VariableName>
      <Value>-0.584518957832667</Value>
     </Y>
         </EndPosition>
         <CircleElements>15</CircleElements>
         <Closed>true</Closed>
         <UseCylinder>true</UseCylinder>
         <CylinderThickness>0.1</CylinderThickness>
         <CylinderAccuracy>15</CylinderAccuracy>
         <Closed>true</Closed>
         <ScaleValue>
     <X>
      <Value>0.1</Value>
     </X>
     <Y>
      <Value>0.1</Value>
     </Y>
     <Z>
      <Value>0.228976413607597</Value>
     </Z>
         </ScaleValue>
         <OverrideColor>true</OverrideColor>
         <MeshColor>
     <X>
      <Value>0</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </MeshColor>
         <Alpha>1</Alpha>
         <MeshColorMultipliers>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </MeshColorMultipliers>
         <MeshColorOffsets>
         </MeshColorOffsets>
         <Direct3DColorRange>true</Direct3DColorRange>
         <SpecularColor>
     <X>
      <Value>0.5</Value>
     </X>
     <Y>
      <Value>0.5</Value>
     </Y>
     <Z>
      <Value>0.5</Value>
     </Z>
         </SpecularColor>
         <EmissiveColor>
         </EmissiveColor>
         <ShininessPower>
     <Value>15</Value>
         </ShininessPower>
         <OverrideQuality>false</OverrideQuality>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Line</Name>
         <Position>
     <X>
      <VariableName>x66</VariableName>
      <Value>5.71661348736698</Value>
     </X>
     <Y>
      <VariableName>y66</VariableName>
      <Value>-0.724453150332181</Value>
     </Y>
         </Position>
         <Orientation>
     <ZAxis>
      <X>
       <Value>0.791530793646263</Value>
      </X>
      <Y>
       <Value>0.611129284775094</Value>
      </Y>
     </ZAxis>
     <YAxis>
      <Z>
       <Value>1</Value>
      </Z>
     </YAxis>
     <OrientationType>Direct3D</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
         </Childs>
        </Line>
        <Line>
         <Thickness>1</Thickness>
         <EndPosition>
     <X>
      <VariableName>x88</VariableName>
      <Value>5.99669231113624</Value>
     </X>
     <Y>
      <VariableName>y88</VariableName>
      <Value>-0.42255107464986</Value>
     </Y>
         </EndPosition>
         <CircleElements>15</CircleElements>
         <Closed>true</Closed>
         <UseCylinder>true</UseCylinder>
         <CylinderThickness>0.1</CylinderThickness>
         <CylinderAccuracy>15</CylinderAccuracy>
         <Closed>true</Closed>
         <ScaleValue>
     <X>
      <Value>0.1</Value>
     </X>
     <Y>
      <Value>0.1</Value>
     </Y>
     <Z>
      <Value>0.18974281847477</Value>
     </Z>
         </ScaleValue>
         <OverrideColor>true</OverrideColor>
         <MeshColor>
     <X>
      <Value>0</Value>
     </X>
     <Y>
      <Value>0</Value>
     </Y>
     <Z>
      <Value>0.250980392156863</Value>
     </Z>
         </MeshColor>
         <Alpha>1</Alpha>
         <MeshColorMultipliers>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </MeshColorMultipliers>
         <MeshColorOffsets>
         </MeshColorOffsets>
         <Direct3DColorRange>true</Direct3DColorRange>
         <SpecularColor>
     <X>
      <Value>0.5</Value>
     </X>
     <Y>
      <Value>0.5</Value>
     </Y>
     <Z>
      <Value>0.5</Value>
     </Z>
         </SpecularColor>
         <EmissiveColor>
         </EmissiveColor>
         <ShininessPower>
     <Value>15</Value>
         </ShininessPower>
         <OverrideQuality>false</OverrideQuality>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Line</Name>
         <Position>
     <X>
      <VariableName>x77</VariableName>
      <Value>5.89785537056057</Value>
     </X>
     <Y>
      <VariableName>y77</VariableName>
      <Value>-0.584518957832667</Value>
     </Y>
         </Position>
         <Orientation>
     <ZAxis>
      <X>
       <Value>0.52089951524509</Value>
      </X>
      <Y>
       <Value>0.853618002983437</Value>
      </Y>
     </ZAxis>
     <YAxis>
      <Z>
       <Value>1</Value>
      </Z>
     </YAxis>
     <OrientationType>Direct3D</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
         </Childs>
        </Line>
        <Line>
         <Thickness>1</Thickness>
         <EndPosition>
     <X>
      <VariableName>x99</VariableName>
      <Value>6.10280275723064</Value>
     </X>
     <Y>
      <VariableName>y99</VariableName>
      <Value>-0.31660303642164</Value>
     </Y>
         </EndPosition>
         <CircleElements>15</CircleElements>
         <Closed>true</Closed>
         <UseCylinder>true</UseCylinder>
         <CylinderThickness>0.1</CylinderThickness>
         <CylinderAccuracy>15</CylinderAccuracy>
         <Closed>true</Closed>
         <ScaleValue>
     <X>
      <Value>0.1</Value>
     </X>
     <Y>
      <Value>0.1</Value>
     </Y>
     <Z>
      <Value>0.14994803071022</Value>
     </Z>
         </ScaleValue>
         <OverrideColor>true</OverrideColor>
         <MeshColor>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>0.501960784313725</Value>
     </Y>
     <Z>
      <Value>0</Value>
     </Z>
         </MeshColor>
         <Alpha>1</Alpha>
         <MeshColorMultipliers>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </MeshColorMultipliers>
         <MeshColorOffsets>
         </MeshColorOffsets>
         <Direct3DColorRange>true</Direct3DColorRange>
         <SpecularColor>
     <X>
      <Value>0.5</Value>
     </X>
     <Y>
      <Value>0.5</Value>
     </Y>
     <Z>
      <Value>0.5</Value>
     </Z>
         </SpecularColor>
         <EmissiveColor>
         </EmissiveColor>
         <ShininessPower>
     <Value>15</Value>
         </ShininessPower>
         <OverrideQuality>false</OverrideQuality>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Line</Name>
         <Position>
     <X>
      <VariableName>x88</VariableName>
      <Value>5.99669231113624</Value>
     </X>
     <Y>
      <VariableName>y88</VariableName>
      <Value>-0.42255107464986</Value>
     </Y>
         </Position>
         <Orientation>
     <ZAxis>
      <X>
       <Value>0.707648120970379</Value>
      </X>
      <Y>
       <Value>0.70656502665154</Value>
      </Y>
     </ZAxis>
     <YAxis>
      <Z>
       <Value>1</Value>
      </Z>
     </YAxis>
     <OrientationType>Direct3D</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
         </Childs>
        </Line>
        <Line>
         <Thickness>1</Thickness>
         <EndPosition>
     <X>
      <VariableName>x10</VariableName>
      <Value>6.2469509382839</Value>
     </X>
     <Y>
      <VariableName>y10</VariableName>
      <Value>-0.322240651618654</Value>
     </Y>
         </EndPosition>
         <CircleElements>15</CircleElements>
         <Closed>true</Closed>
         <UseCylinder>true</UseCylinder>
         <CylinderThickness>0.1</CylinderThickness>
         <CylinderAccuracy>15</CylinderAccuracy>
         <Closed>true</Closed>
         <ScaleValue>
     <X>
      <Value>0.1</Value>
     </X>
     <Y>
      <Value>0.1</Value>
     </Y>
     <Z>
      <Value>0.144258379936218</Value>
     </Z>
         </ScaleValue>
         <OverrideColor>true</OverrideColor>
         <MeshColor>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>0</Value>
     </Y>
     <Z>
      <Value>0.501960784313725</Value>
     </Z>
         </MeshColor>
         <Alpha>1</Alpha>
         <MeshColorMultipliers>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </MeshColorMultipliers>
         <MeshColorOffsets>
         </MeshColorOffsets>
         <Direct3DColorRange>true</Direct3DColorRange>
         <SpecularColor>
     <X>
      <Value>0.5</Value>
     </X>
     <Y>
      <Value>0.5</Value>
     </Y>
     <Z>
      <Value>0.5</Value>
     </Z>
         </SpecularColor>
         <EmissiveColor>
         </EmissiveColor>
         <ShininessPower>
     <Value>15</Value>
         </ShininessPower>
         <OverrideQuality>false</OverrideQuality>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Line</Name>
         <Position>
     <X>
      <VariableName>x99</VariableName>
      <Value>6.10280275723064</Value>
     </X>
     <Y>
      <VariableName>y99</VariableName>
      <Value>-0.31660303642164</Value>
     </Y>
         </Position>
         <Orientation>
     <ZAxis>
      <X>
       <Value>0.999236085660957</Value>
      </X>
      <Y>
       <Value>-0.0390799835333702</Value>
      </Y>
     </ZAxis>
     <YAxis>
      <Z>
       <Value>1</Value>
      </Z>
     </YAxis>
     <OrientationType>Direct3D</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
         </Childs>
        </Line>
       </Childs>
      </Frame>
     </MainFrame>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>8</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>false</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>phi1</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1</Minimum>
       <Maximum>1</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phi1</Label>
      </Axis>
      <Axis>
       <Minimum>-0.8</Minimum>
       <Maximum>1.2</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phir1</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phi1</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phir1</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>9</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>false</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>phi2</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-2.5</Minimum>
       <Maximum>2.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phi2</Label>
      </Axis>
      <Axis>
       <Minimum>-0.8</Minimum>
       <Maximum>1.2</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phir2</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phi2</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phir2</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>10</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>false</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>phi3</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1</Minimum>
       <Maximum>1</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phi3</Label>
      </Axis>
      <Axis>
       <Minimum>-0.4</Minimum>
       <Maximum>0.6</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phir3</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>255</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>255</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phi3</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phir3</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>11</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>false</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>phi4</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1</Minimum>
       <Maximum>1</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phi4</Label>
      </Axis>
      <Axis>
       <Minimum>-1</Minimum>
       <Maximum>1</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phir4</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phi4</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phir4</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>12</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>false</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>phi5</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1</Minimum>
       <Maximum>1</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phi5</Label>
      </Axis>
      <Axis>
       <Minimum>-0.4</Minimum>
       <Maximum>0.6</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phir5</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phi5</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phir5</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>13</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>false</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>phi6</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1</Minimum>
       <Maximum>1</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phi6</Label>
      </Axis>
      <Axis>
       <Minimum>-0.4</Minimum>
       <Maximum>0.6</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phir6</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>255</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>255</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phi6</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phir6</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>19</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>phi7</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1</Minimum>
       <Maximum>1</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phi7</Label>
      </Axis>
      <Axis>
       <Minimum>-1</Minimum>
       <Maximum>1</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phir7</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phi7</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phir7</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>20</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>phi8</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phi8</Label>
      </Axis>
      <Axis>
       <Minimum>-0.4</Minimum>
       <Maximum>0.6</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>phir8</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phi8</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>phir8</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>21</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>Plot</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-2.5</Minimum>
       <Maximum>2.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>q11</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>q11</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>22</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>model</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-3</Minimum>
       <Maximum>2</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>q22</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>q22</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>23</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>model(1)</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1.2</Minimum>
       <Maximum>0.8</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>q33</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>q33</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>24</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>model(2)</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1.2</Minimum>
       <Maximum>0.8</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>q44</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>q44</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>25</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>model(3)</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1.2</Minimum>
       <Maximum>0.8</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>q55</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>q55</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>26</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>model(4)</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1.2</Minimum>
       <Maximum>0.8</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>q66</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>q66</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>27</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>model(5)</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1.2</Minimum>
       <Maximum>0.8</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>q77</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>q77</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>28</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>model(6)</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1.2</Minimum>
       <Maximum>0.8</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>q88</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>q88</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>29</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>model(7)</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1.2</Minimum>
       <Maximum>0.8</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>q99</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>q99</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>30</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>model(1)</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>100</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-0.01</Minimum>
       <Maximum>0.04</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>vt</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>vt</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
   </Plots>
   <PlotPanels>
    <PlotPanel>
     <PlotPanelId>1</PlotPanelId>
     <PlotPanelVisible>true</PlotPanelVisible>
     <Name>Window 1</Name>
     <Tiling>2</Tiling>
     <PlotIds>
       <PlotId>3</PlotId>
       <PlotId>4</PlotId>
       <PlotId>30</PlotId>
     </PlotIds>
     <ToggleState>Base</ToggleState>
    </PlotPanel>
    <PlotPanel>
     <PlotPanelId>2</PlotPanelId>
     <PlotPanelVisible>true</PlotPanelVisible>
     <Name>joint_angle</Name>
     <Tiling>0</Tiling>
     <PlotIds>
       <PlotId>8</PlotId>
       <PlotId>9</PlotId>
       <PlotId>10</PlotId>
       <PlotId>11</PlotId>
       <PlotId>12</PlotId>
       <PlotId>13</PlotId>
       <PlotId>19</PlotId>
       <PlotId>20</PlotId>
     </PlotIds>
     <ToggleState>Base</ToggleState>
    </PlotPanel>
    <PlotPanel>
     <PlotPanelId>3</PlotPanelId>
     <PlotPanelVisible>false</PlotPanelVisible>
     <Name>Window 6</Name>
     <Tiling>0</Tiling>
     <PlotIds>
       <PlotId>6</PlotId>
     </PlotIds>
     <ToggleState>Base</ToggleState>
    </PlotPanel>
    <PlotPanel>
     <PlotPanelId>4</PlotPanelId>
     <PlotPanelVisible>true</PlotPanelVisible>
     <Name>Window 10</Name>
     <Tiling>2</Tiling>
     <PlotIds>
       <PlotId>21</PlotId>
       <PlotId>22</PlotId>
       <PlotId>23</PlotId>
       <PlotId>24</PlotId>
       <PlotId>25</PlotId>
       <PlotId>26</PlotId>
       <PlotId>27</PlotId>
       <PlotId>28</PlotId>
       <PlotId>29</PlotId>
     </PlotIds>
     <ToggleState>StripChart</ToggleState>
    </PlotPanel>
   </PlotPanels>
   <WindowRectangles virtualDesktopWidth="1280" virtualDesktopHeight="720">
     <WindowRectangle monitor="0" left="0" top="0" right="1280" bottom="720" plotpanelid="2">
0.00546875 0.105556 0.99375 0.9625
     </WindowRectangle>
     <WindowRectangle monitor="0" left="0" top="0" right="1280" bottom="720" plotpanelid="1">
0 0 0.671094 0.634722
     </WindowRectangle>
     <WindowRectangle monitor="0" left="0" top="0" right="1280" bottom="720" plotpanelid="3">
0 0.0291667 1 0.970833
     </WindowRectangle>
     <WindowRectangle monitor="0" left="0" top="0" right="1280" bottom="720" plotpanelid="4">
0.00625 0.0430556 0.66875 0.6375
     </WindowRectangle>
   </WindowRectangles>
  </PlotSpecs>
  <RunSpecs>
   <SimulatorSettings>
    <StartTime>0</StartTime>
    <FinishTime>100</FinishTime>
    <Warp>false</Warp>
    <FPGonio>false</FPGonio>
    <UseOutputAfterEach>false</UseOutputAfterEach>
    <OutputAfterEach>0.1</OutputAfterEach>
    <EventEpsilon>1e-006</EventEpsilon>
    <AlgebraicTolerance>1e-007</AlgebraicTolerance>
    <SteadyStateAnalysis>false</SteadyStateAnalysis>
    <UpdateHoldInstructions>true</UpdateHoldInstructions>
   </SimulatorSettings>
   <IntegrationMethods>
    <IntegrationMethod>
     <Name>Euler</Name>
     <StepSize>0.01</StepSize>
     <AutoStepSize>false</AutoStepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>BackwardEuler</Name>
     <AbsoluteTolerance>1e-005</AbsoluteTolerance>
     <RelativeTolerance>1e-005</RelativeTolerance>
     <AlgebraicAbsoluteTolerance>1e-005</AlgebraicAbsoluteTolerance>
     <AlgebraicRelativeTolerance>1e-005</AlgebraicRelativeTolerance>
     <StepSize>0.01</StepSize>
     <Alpha>1</Alpha>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>AdamsBashforth</Name>
     <StepSize>0.01</StepSize>
     <AutoStepSize>false</AutoStepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKutta2</Name>
     <StepSize>10</StepSize>
     <AutoStepSize>false</AutoStepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKutta4</Name>
     <StepSize>10</StepSize>
     <AutoStepSize>false</AutoStepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKutta8</Name>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <AbsoluteTolerance>1e-006</AbsoluteTolerance>
     <RelativeTolerance>1e-006</RelativeTolerance>
     <SafetyFactor>0.9</SafetyFactor>
     <Factor1>0.33</Factor1>
     <Factor2>6</Factor2>
     <Beta>0</Beta>
     <UseMaxNrSteps>false</UseMaxNrSteps>
     <MaxNrSteps>100000</MaxNrSteps>
     <UseStiffDetection>false</UseStiffDetection>
     <MaxNrStiffnessSteps>1000</MaxNrStiffnessSteps>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKuttaFehlberg</Name>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <AbsoluteTolerance>1e-006</AbsoluteTolerance>
     <RelativeTolerance>1e-006</RelativeTolerance>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>VodeAdams</Name>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <AbsoluteTolerance>1e-006</AbsoluteTolerance>
     <RelativeTolerance>1e-006</RelativeTolerance>
     <VodeUseBDF>true</VodeUseBDF>
     <VodeUseNewton>true</VodeUseNewton>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>BDFMethod</Name>
     <AbsoluteTolerance>1e-005</AbsoluteTolerance>
     <RelativeTolerance>1e-005</RelativeTolerance>
     <AlgebraicAbsoluteTolerance>1e-005</AlgebraicAbsoluteTolerance>
     <AlgebraicRelativeTolerance>1e-005</AlgebraicRelativeTolerance>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <UseFixedStepSize>false</UseFixedStepSize>
     <FixedStepSize>0</FixedStepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>MeBDFiMethod</Name>
     <AbsoluteTolerance>1e-005</AbsoluteTolerance>
     <RelativeTolerance>1e-005</RelativeTolerance>
     <AlgebraicAbsoluteTolerance>1e-005</AlgebraicAbsoluteTolerance>
     <AlgebraicRelativeTolerance>1e-005</AlgebraicRelativeTolerance>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <UseFixedStepSize>false</UseFixedStepSize>
     <FixedStepSize>0</FixedStepSize>
    </IntegrationMethod>
    <SelectedIntegrationMethod>8</SelectedIntegrationMethod>
   </IntegrationMethods>
  </RunSpecs>
  <MultipleRun>
   <NrSteps>10</NrSteps>
   <CopyFromStates>false</CopyFromStates>
   <JoinParameterVariation>true</JoinParameterVariation>
   <ClearAfterRun>true</ClearAfterRun>
   <RedrawAfterRun>false</RedrawAfterRun>
   <DrawDuringSimulation>true</DrawDuringSimulation>
   <ActionBeforeOptimization>0</ActionBeforeOptimization>
   <CompareValue>0</CompareValue>
   <UseCompareValue>true</UseCompareValue>
   <MultipleRunType>MultipleRun</MultipleRunType>
   <Minimize>true</Minimize>
   <OptimizationVariable></OptimizationVariable>
   <ResulVarUsage>UseEndValue</ResulVarUsage>
   <Tolerance>0.001</Tolerance>
   <OptimizationMethod>BroydonFletcherGoldfarbShanno</OptimizationMethod>
   <MultipleRunVariables>
   </MultipleRunVariables>
  </MultipleRun>
  <ExportData>
   <WriteAsText>true</WriteAsText>
   <ReadAsText>true</ReadAsText>
   <WriteHeader>true</WriteHeader>
   <ReadHeader>true</ReadHeader>
   <ReadFilename></ReadFilename>
   <WriteFilename></WriteFilename>
   <DoWrite>false</DoWrite>
   <ExportVariables>
   </ExportVariables>
   <ImportVariables>
   </ImportVariables>
  </ExportData>
  <BreakPoints>
  </BreakPoints>
</ExpData>
  </Experiment>
</Experiments>
</Document>
